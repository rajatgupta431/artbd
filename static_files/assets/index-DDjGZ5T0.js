(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))v(x);new MutationObserver(x=>{for(const b of x)if(b.type==="childList")for(const O of b.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&v(O)}).observe(document,{childList:!0,subtree:!0});function g(x){const b={};return x.integrity&&(b.integrity=x.integrity),x.referrerPolicy&&(b.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?b.credentials="include":x.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function v(x){if(x.ep)return;x.ep=!0;const b=g(x);fetch(x.href,b)}})();var H1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var lp={exports:{}},Qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function xy(){if(j1)return Qf;j1=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function g(v,x,b){var O=null;if(b!==void 0&&(O=""+b),x.key!==void 0&&(O=""+x.key),"key"in x){b={};for(var S in x)S!=="key"&&(b[S]=x[S])}else b=x;return x=b.ref,{$$typeof:u,type:v,key:O,ref:x!==void 0?x:null,props:b}}return Qf.Fragment=a,Qf.jsx=g,Qf.jsxs=g,Qf}var q1;function Cy(){return q1||(q1=1,lp.exports=xy()),lp.exports}var R=Cy(),sp={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function wy(){if(F1)return Ye;F1=1;var u=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),O=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.iterator;function X(K){return K===null||typeof K!="object"?null:(K=F&&K[F]||K["@@iterator"],typeof K=="function"?K:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function U(K,ht,Nt){this.props=K,this.context=ht,this.refs=G,this.updater=Nt||P}U.prototype.isReactComponent={},U.prototype.setState=function(K,ht){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ht,"setState")},U.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function J(){}J.prototype=U.prototype;function E(K,ht,Nt){this.props=K,this.context=ht,this.refs=G,this.updater=Nt||P}var T=E.prototype=new J;T.constructor=E,D(T,U.prototype),T.isPureReactComponent=!0;var H=Array.isArray,V={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function ft(K,ht,Nt,yt,Tt,Ht){return Nt=Ht.ref,{$$typeof:u,type:K,key:ht,ref:Nt!==void 0?Nt:null,props:Ht}}function nt(K,ht){return ft(K.type,ht,void 0,void 0,void 0,K.props)}function k(K){return typeof K=="object"&&K!==null&&K.$$typeof===u}function I(K){var ht={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Nt){return ht[Nt]})}var it=/\/+/g;function dt(K,ht){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):ht.toString(36)}function M(){}function Z(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(M,M):(K.status="pending",K.then(function(ht){K.status==="pending"&&(K.status="fulfilled",K.value=ht)},function(ht){K.status==="pending"&&(K.status="rejected",K.reason=ht)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function j(K,ht,Nt,yt,Tt){var Ht=typeof K;(Ht==="undefined"||Ht==="boolean")&&(K=null);var Ft=!1;if(K===null)Ft=!0;else switch(Ht){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(K.$$typeof){case u:case a:Ft=!0;break;case z:return Ft=K._init,j(Ft(K._payload),ht,Nt,yt,Tt)}}if(Ft)return Tt=Tt(K),Ft=yt===""?"."+dt(K,0):yt,H(Tt)?(Nt="",Ft!=null&&(Nt=Ft.replace(it,"$&/")+"/"),j(Tt,ht,Nt,"",function(jt){return jt})):Tt!=null&&(k(Tt)&&(Tt=nt(Tt,Nt+(Tt.key==null||K&&K.key===Tt.key?"":(""+Tt.key).replace(it,"$&/")+"/")+Ft)),ht.push(Tt)),1;Ft=0;var ut=yt===""?".":yt+":";if(H(K))for(var _t=0;_t<K.length;_t++)yt=K[_t],Ht=ut+dt(yt,_t),Ft+=j(yt,ht,Nt,Ht,Tt);else if(_t=X(K),typeof _t=="function")for(K=_t.call(K),_t=0;!(yt=K.next()).done;)yt=yt.value,Ht=ut+dt(yt,_t++),Ft+=j(yt,ht,Nt,Ht,Tt);else if(Ht==="object"){if(typeof K.then=="function")return j(Z(K),ht,Nt,yt,Tt);throw ht=String(K),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function W(K,ht,Nt){if(K==null)return K;var yt=[],Tt=0;return j(K,yt,"","",function(Ht){return ht.call(Nt,Ht,Tt++)}),yt}function at(K){if(K._status===-1){var ht=K._result;ht=ht(),ht.then(function(Nt){(K._status===0||K._status===-1)&&(K._status=1,K._result=Nt)},function(Nt){(K._status===0||K._status===-1)&&(K._status=2,K._result=Nt)}),K._status===-1&&(K._status=0,K._result=ht)}if(K._status===1)return K._result.default;throw K._result}var mt=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function wt(){}return Ye.Children={map:W,forEach:function(K,ht,Nt){W(K,function(){ht.apply(this,arguments)},Nt)},count:function(K){var ht=0;return W(K,function(){ht++}),ht},toArray:function(K){return W(K,function(ht){return ht})||[]},only:function(K){if(!k(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ye.Component=U,Ye.Fragment=g,Ye.Profiler=x,Ye.PureComponent=E,Ye.StrictMode=v,Ye.Suspense=w,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(K){return function(){return K.apply(null,arguments)}},Ye.cloneElement=function(K,ht,Nt){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var yt=D({},K.props),Tt=K.key,Ht=void 0;if(ht!=null)for(Ft in ht.ref!==void 0&&(Ht=void 0),ht.key!==void 0&&(Tt=""+ht.key),ht)!$.call(ht,Ft)||Ft==="key"||Ft==="__self"||Ft==="__source"||Ft==="ref"&&ht.ref===void 0||(yt[Ft]=ht[Ft]);var Ft=arguments.length-2;if(Ft===1)yt.children=Nt;else if(1<Ft){for(var ut=Array(Ft),_t=0;_t<Ft;_t++)ut[_t]=arguments[_t+2];yt.children=ut}return ft(K.type,Tt,void 0,void 0,Ht,yt)},Ye.createContext=function(K){return K={$$typeof:O,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:b,_context:K},K},Ye.createElement=function(K,ht,Nt){var yt,Tt={},Ht=null;if(ht!=null)for(yt in ht.key!==void 0&&(Ht=""+ht.key),ht)$.call(ht,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(Tt[yt]=ht[yt]);var Ft=arguments.length-2;if(Ft===1)Tt.children=Nt;else if(1<Ft){for(var ut=Array(Ft),_t=0;_t<Ft;_t++)ut[_t]=arguments[_t+2];Tt.children=ut}if(K&&K.defaultProps)for(yt in Ft=K.defaultProps,Ft)Tt[yt]===void 0&&(Tt[yt]=Ft[yt]);return ft(K,Ht,void 0,void 0,null,Tt)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(K){return{$$typeof:S,render:K}},Ye.isValidElement=k,Ye.lazy=function(K){return{$$typeof:z,_payload:{_status:-1,_result:K},_init:at}},Ye.memo=function(K,ht){return{$$typeof:N,type:K,compare:ht===void 0?null:ht}},Ye.startTransition=function(K){var ht=V.T,Nt={};V.T=Nt;try{var yt=K(),Tt=V.S;Tt!==null&&Tt(Nt,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then(wt,mt)}catch(Ht){mt(Ht)}finally{V.T=ht}},Ye.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ye.use=function(K){return V.H.use(K)},Ye.useActionState=function(K,ht,Nt){return V.H.useActionState(K,ht,Nt)},Ye.useCallback=function(K,ht){return V.H.useCallback(K,ht)},Ye.useContext=function(K){return V.H.useContext(K)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(K,ht){return V.H.useDeferredValue(K,ht)},Ye.useEffect=function(K,ht){return V.H.useEffect(K,ht)},Ye.useId=function(){return V.H.useId()},Ye.useImperativeHandle=function(K,ht,Nt){return V.H.useImperativeHandle(K,ht,Nt)},Ye.useInsertionEffect=function(K,ht){return V.H.useInsertionEffect(K,ht)},Ye.useLayoutEffect=function(K,ht){return V.H.useLayoutEffect(K,ht)},Ye.useMemo=function(K,ht){return V.H.useMemo(K,ht)},Ye.useOptimistic=function(K,ht){return V.H.useOptimistic(K,ht)},Ye.useReducer=function(K,ht,Nt){return V.H.useReducer(K,ht,Nt)},Ye.useRef=function(K){return V.H.useRef(K)},Ye.useState=function(K){return V.H.useState(K)},Ye.useSyncExternalStore=function(K,ht,Nt){return V.H.useSyncExternalStore(K,ht,Nt)},Ye.useTransition=function(){return V.H.useTransition()},Ye.version="19.0.0",Ye}var V1;function y0(){return V1||(V1=1,sp.exports=wy()),sp.exports}var Gt=y0();const di=g0(Gt);var rp={exports:{}},Kf={},op={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function Ey(){return I1||(I1=1,(function(u){function a(W,at){var mt=W.length;W.push(at);t:for(;0<mt;){var wt=mt-1>>>1,K=W[wt];if(0<x(K,at))W[wt]=at,W[mt]=K,mt=wt;else break t}}function g(W){return W.length===0?null:W[0]}function v(W){if(W.length===0)return null;var at=W[0],mt=W.pop();if(mt!==at){W[0]=mt;t:for(var wt=0,K=W.length,ht=K>>>1;wt<ht;){var Nt=2*(wt+1)-1,yt=W[Nt],Tt=Nt+1,Ht=W[Tt];if(0>x(yt,mt))Tt<K&&0>x(Ht,yt)?(W[wt]=Ht,W[Tt]=mt,wt=Tt):(W[wt]=yt,W[Nt]=mt,wt=Nt);else if(Tt<K&&0>x(Ht,mt))W[wt]=Ht,W[Tt]=mt,wt=Tt;else break t}}return at}function x(W,at){var mt=W.sortIndex-at.sortIndex;return mt!==0?mt:W.id-at.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;u.unstable_now=function(){return b.now()}}else{var O=Date,S=O.now();u.unstable_now=function(){return O.now()-S}}var w=[],N=[],z=1,F=null,X=3,P=!1,D=!1,G=!1,U=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(W){for(var at=g(N);at!==null;){if(at.callback===null)v(N);else if(at.startTime<=W)v(N),at.sortIndex=at.expirationTime,a(w,at);else break;at=g(N)}}function H(W){if(G=!1,T(W),!D)if(g(w)!==null)D=!0,Z();else{var at=g(N);at!==null&&j(H,at.startTime-W)}}var V=!1,$=-1,ft=5,nt=-1;function k(){return!(u.unstable_now()-nt<ft)}function I(){if(V){var W=u.unstable_now();nt=W;var at=!0;try{t:{D=!1,G&&(G=!1,J($),$=-1),P=!0;var mt=X;try{e:{for(T(W),F=g(w);F!==null&&!(F.expirationTime>W&&k());){var wt=F.callback;if(typeof wt=="function"){F.callback=null,X=F.priorityLevel;var K=wt(F.expirationTime<=W);if(W=u.unstable_now(),typeof K=="function"){F.callback=K,T(W),at=!0;break e}F===g(w)&&v(w),T(W)}else v(w);F=g(w)}if(F!==null)at=!0;else{var ht=g(N);ht!==null&&j(H,ht.startTime-W),at=!1}}break t}finally{F=null,X=mt,P=!1}at=void 0}}finally{at?it():V=!1}}}var it;if(typeof E=="function")it=function(){E(I)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,M=dt.port2;dt.port1.onmessage=I,it=function(){M.postMessage(null)}}else it=function(){U(I,0)};function Z(){V||(V=!0,it())}function j(W,at){$=U(function(){W(u.unstable_now())},at)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(W){W.callback=null},u.unstable_continueExecution=function(){D||P||(D=!0,Z())},u.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<W?Math.floor(1e3/W):5},u.unstable_getCurrentPriorityLevel=function(){return X},u.unstable_getFirstCallbackNode=function(){return g(w)},u.unstable_next=function(W){switch(X){case 1:case 2:case 3:var at=3;break;default:at=X}var mt=X;X=at;try{return W()}finally{X=mt}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=X;X=W;try{return at()}finally{X=mt}},u.unstable_scheduleCallback=function(W,at,mt){var wt=u.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?wt+mt:wt):mt=wt,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=mt+K,W={id:z++,callback:at,priorityLevel:W,startTime:mt,expirationTime:K,sortIndex:-1},mt>wt?(W.sortIndex=mt,a(N,W),g(w)===null&&W===g(N)&&(G?(J($),$=-1):G=!0,j(H,mt-wt))):(W.sortIndex=K,a(w,W),D||P||(D=!0,Z())),W},u.unstable_shouldYield=k,u.unstable_wrapCallback=function(W){var at=X;return function(){var mt=X;X=at;try{return W.apply(this,arguments)}finally{X=mt}}}})(up)),up}var k1;function Up(){return k1||(k1=1,op.exports=Ey()),op.exports}var cp={exports:{}},za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function Ty(){if(Z1)return za;Z1=1;var u=y0();function a(w){var N="https://react.dev/errors/"+w;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)N+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+w+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var v={d:{f:g,r:function(){throw Error(a(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},x=Symbol.for("react.portal");function b(w,N,z){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:F==null?null:""+F,children:w,containerInfo:N,implementation:z}}var O=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(w,N){if(w==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,za.createPortal=function(w,N){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(a(299));return b(w,N,null,z)},za.flushSync=function(w){var N=O.T,z=v.p;try{if(O.T=null,v.p=2,w)return w()}finally{O.T=N,v.p=z,v.d.f()}},za.preconnect=function(w,N){typeof w=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,v.d.C(w,N))},za.prefetchDNS=function(w){typeof w=="string"&&v.d.D(w)},za.preinit=function(w,N){if(typeof w=="string"&&N&&typeof N.as=="string"){var z=N.as,F=S(z,N.crossOrigin),X=typeof N.integrity=="string"?N.integrity:void 0,P=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;z==="style"?v.d.S(w,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:F,integrity:X,fetchPriority:P}):z==="script"&&v.d.X(w,{crossOrigin:F,integrity:X,fetchPriority:P,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},za.preinitModule=function(w,N){if(typeof w=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var z=S(N.as,N.crossOrigin);v.d.M(w,{crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&v.d.M(w)},za.preload=function(w,N){if(typeof w=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var z=N.as,F=S(z,N.crossOrigin);v.d.L(w,z,{crossOrigin:F,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},za.preloadModule=function(w,N){if(typeof w=="string")if(N){var z=S(N.as,N.crossOrigin);v.d.m(w,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else v.d.m(w)},za.requestFormReset=function(w){v.d.r(w)},za.unstable_batchedUpdates=function(w,N){return w(N)},za.useFormState=function(w,N,z){return O.H.useFormState(w,N,z)},za.useFormStatus=function(){return O.H.useHostTransitionStatus()},za.version="19.0.0",za}var Q1;function Ay(){if(Q1)return cp.exports;Q1=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),cp.exports=Ty(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function Ny(){if(K1)return Kf;K1=1;var u=Up(),a=y0(),g=Ay();function v(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var b=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ft?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case S:return"Portal";case z:return"Profiler";case N:return"StrictMode";case G:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case D:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:nt(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return nt(t(e))}catch{}}return null}var k=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,it,dt;function M(t){if(it===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);it=e&&e[1]||"",dt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+t+dt}var Z=!1;function j(t,e){if(!t||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(Bt){var Dt=Bt}Reflect.construct(t,[],kt)}else{try{kt.call()}catch(Bt){Dt=Bt}t.call(kt.prototype)}}else{try{throw Error()}catch(Bt){Dt=Bt}(kt=t())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(Bt){if(Bt&&Dt&&typeof Bt.stack=="string")return[Bt.stack,Dt.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),B=m[0],tt=m[1];if(B&&tt){var rt=B.split(`
`),vt=tt.split(`
`);for(h=r=0;r<rt.length&&!rt[r].includes("DetermineComponentFrameRoot");)r++;for(;h<vt.length&&!vt[h].includes("DetermineComponentFrameRoot");)h++;if(r===rt.length||h===vt.length)for(r=rt.length-1,h=vt.length-1;1<=r&&0<=h&&rt[r]!==vt[h];)h--;for(;1<=r&&0<=h;r--,h--)if(rt[r]!==vt[h]){if(r!==1||h!==1)do if(r--,h--,0>h||rt[r]!==vt[h]){var Ut=`
`+rt[r].replace(" at new "," at ");return t.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",t.displayName)),Ut}while(1<=r&&0<=h);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?M(l):""}function W(t){switch(t.tag){case 26:case 27:case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return t=j(t.type,!1),t;case 11:return t=j(t.type.render,!1),t;case 1:return t=j(t.type,!0),t;default:return""}}function at(t){try{var e="";do e+=W(t),t=t.return;while(t);return e}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function mt(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function wt(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K(t){if(mt(t)!==t)throw Error(v(188))}function ht(t){var e=t.alternate;if(!e){if(e=mt(t),e===null)throw Error(v(188));return e!==t?null:t}for(var l=t,r=e;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(r=h.return,r!==null){l=r;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return K(h),t;if(m===r)return K(h),e;m=m.sibling}throw Error(v(188))}if(l.return!==r.return)l=h,r=m;else{for(var B=!1,tt=h.child;tt;){if(tt===l){B=!0,l=h,r=m;break}if(tt===r){B=!0,r=h,l=m;break}tt=tt.sibling}if(!B){for(tt=m.child;tt;){if(tt===l){B=!0,l=m,r=h;break}if(tt===r){B=!0,r=m,l=h;break}tt=tt.sibling}if(!B)throw Error(v(189))}}if(l.alternate!==r)throw Error(v(190))}if(l.tag!==3)throw Error(v(188));return l.stateNode.current===l?t:e}function Nt(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Nt(t),e!==null)return e;t=t.sibling}return null}var yt=Array.isArray,Tt=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ht={pending:!1,data:null,method:null,action:null},Ft=[],ut=-1;function _t(t){return{current:t}}function jt(t){0>ut||(t.current=Ft[ut],Ft[ut]=null,ut--)}function zt(t,e){ut++,Ft[ut]=t.current,t.current=e}var te=_t(null),ne=_t(null),Se=_t(null),Oe=_t(null);function he(t,e){switch(zt(Se,e),zt(ne,t),zt(te,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?g1(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=g1(t),e=y1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}jt(te),zt(te,e)}function xn(){jt(te),jt(ne),jt(Se)}function De(t){t.memoizedState!==null&&zt(Oe,t);var e=te.current,l=y1(e,t.type);e!==l&&(zt(ne,t),zt(te,l))}function un(t){ne.current===t&&(jt(te),jt(ne)),Oe.current===t&&(jt(Oe),Ff._currentValue=Ht)}var Ke=Object.prototype.hasOwnProperty,tn=u.unstable_scheduleCallback,wi=u.unstable_cancelCallback,en=u.unstable_shouldYield,Yn=u.unstable_requestPaint,cn=u.unstable_now,nn=u.unstable_getCurrentPriorityLevel,yn=u.unstable_ImmediatePriority,Ei=u.unstable_UserBlockingPriority,ei=u.unstable_NormalPriority,Bi=u.unstable_LowPriority,zi=u.unstable_IdlePriority,ni=u.log,qn=u.unstable_setDisableYieldValue,Pe=null,Ce=null;function Aa(t){if(Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Pe,t,void 0,(t.current.flags&128)===128)}catch{}}function pa(t){if(typeof ni=="function"&&qn(t),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Pe,t)}catch{}}var Qn=Math.clz32?Math.clz32:jr,Cl=Math.log,$s=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(Cl(t)/$s|0)|0}var Ua=128,nl=4194304;function pi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,e){var l=t.pendingLanes;if(l===0)return 0;var r=0,h=t.suspendedLanes,m=t.pingedLanes,B=t.warmLanes;t=t.finishedLanes!==0;var tt=l&134217727;return tt!==0?(l=tt&~h,l!==0?r=pi(l):(m&=tt,m!==0?r=pi(m):t||(B=tt&~B,B!==0&&(r=pi(B))))):(tt=l&~h,tt!==0?r=pi(tt):m!==0?r=pi(m):t||(B=l&~B,B!==0&&(r=pi(B)))),r===0?0:e!==0&&e!==r&&(e&h)===0&&(h=r&-r,B=e&-e,h>=B||h===32&&(B&4194176)!==0)?e:r}function wl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ga(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(){var t=Ua;return Ua<<=1,(Ua&4194176)===0&&(Ua=128),t}function Un(){var t=nl;return nl<<=1,(nl&62914560)===0&&(nl=4194304),t}function Tl(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function il(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qr(t,e,l,r,h,m){var B=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var tt=t.entanglements,rt=t.expirationTimes,vt=t.hiddenUpdates;for(l=B&~l;0<l;){var Ut=31-Qn(l),kt=1<<Ut;tt[Ut]=0,rt[Ut]=-1;var Dt=vt[Ut];if(Dt!==null)for(vt[Ut]=null,Ut=0;Ut<Dt.length;Ut++){var Bt=Dt[Ut];Bt!==null&&(Bt.lane&=-536870913)}l&=~kt}r!==0&&tr(t,r,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(B&~e))}function tr(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Qn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|l&4194218}function xs(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var r=31-Qn(l),h=1<<r;h&e|t[r]&e&&(t[r]|=e),l&=~h}}function Xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fr(){var t=Tt.p;return t!==0?t:(t=window.event,t===void 0?32:B1(t.type))}function Ha(t,e){var l=Tt.p;try{return Tt.p=t,e()}finally{Tt.p=l}}var ii=Math.random().toString(36).slice(2),Nn="__reactFiber$"+ii,we="__reactProps$"+ii,Qi="__reactContainer$"+ii,Ki="__reactEvents$"+ii,Il="__reactListeners$"+ii,Hi="__reactHandles$"+ii,ja="__reactResources$"+ii,Na="__reactMarker$"+ii;function ji(t){delete t[Nn],delete t[we],delete t[Ki],delete t[Il],delete t[Hi]}function Oa(t){var e=t[Nn];if(e)return e;for(var l=t.parentNode;l;){if(e=l[Qi]||l[Nn]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=S1(t);t!==null;){if(l=t[Nn])return l;t=S1(t)}return e}t=l,l=t.parentNode}return null}function Ve(t){if(t=t[Nn]||t[Qi]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function vn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(v(33))}function On(t){var e=t[ja];return e||(e=t[ja]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Pn(t){t[Na]=!0}var Ti=new Set,mi={};function ga(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(mi[t]=e,t=0;t<e.length;t++)Ti.add(e[t])}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),er={},nr={};function ai(t){return Ke.call(nr,t)?!0:Ke.call(er,t)?!1:Vr.test(t)?nr[t]=!0:(er[t]=!0,!1)}function Cs(t,e,l){if(ai(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function kl(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function ya(t,e,l,r){if(r===null)t.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+r)}}function oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Po(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ir(t){var e=Po(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(B){r=""+B,m.call(this,B)}}),Object.defineProperty(t,e,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(B){r=""+B},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ws(t){t._valueTracker||(t._valueTracker=Ir(t))}function kr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),r="";return t&&(r=Po(t)?t.checked?"true":"false":t.value),t=r,t!==l?(e.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var s=/[\n"\\]/g;function o(t){return t.replace(s,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function f(t,e,l,r,h,m,B,tt){t.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?t.type=B:t.removeAttribute("type"),e!=null?B==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+oe(e)):t.value!==""+oe(e)&&(t.value=""+oe(e)):B!=="submit"&&B!=="reset"||t.removeAttribute("value"),e!=null?_(t,B,oe(e)):l!=null?_(t,B,oe(l)):r!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?t.name=""+oe(tt):t.removeAttribute("name")}function p(t,e,l,r,h,m,B,tt){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),e!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||e!=null))return;l=l!=null?""+oe(l):"",e=e!=null?""+oe(e):l,tt||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=tt?t.checked:!!r,t.defaultChecked=!!r,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(t.name=B)}function _(t,e,l){e==="number"&&qa(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Y(t,e,l,r){if(t=t.options,e){e={};for(var h=0;h<l.length;h++)e["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=e.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&r&&(t[l].defaultSelected=!0)}else{for(l=""+oe(l),e=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function Q(t,e,l){if(e!=null&&(e=""+oe(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+oe(l):""}function st(t,e,l,r){if(e==null){if(r!=null){if(l!=null)throw Error(v(92));if(yt(r)){if(1<r.length)throw Error(v(93));r=r[0]}l=r}l==null&&(l=""),e=l}l=oe(e),t.defaultValue=l,r=t.textContent,r===l&&r!==""&&r!==null&&(t.value=r)}function ot(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var bt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qt(t,e,l){var r=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,l):typeof l!="number"||l===0||bt.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function Ot(t,e,l){if(e!=null&&typeof e!="object")throw Error(v(62));if(t=t.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&l[h]!==r&&qt(t,h,r)}else for(var m in e)e.hasOwnProperty(m)&&qt(t,m,e[m])}function $t(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function de(t){return _e.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Je=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kn=null,Wi=null;function Zr(t){var e=Ve(t);if(e&&(t=e.stateNode)){var l=t[we]||null;t:switch(t=e.stateNode,e.type){case"input":if(f(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+o(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var r=l[e];if(r!==t&&r.form===t.form){var h=r[we]||null;if(!h)throw Error(v(90));f(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<l.length;e++)r=l[e],r.form===t.form&&kr(r)}break t;case"textarea":Q(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Y(t,!!l.multiple,e,!1)}}}var Qr=!1;function Al(t,e,l){if(Qr)return t(e,l);Qr=!0;try{var r=t(e);return r}finally{if(Qr=!1,(Kn!==null||Wi!==null)&&(wo(),Kn&&(e=Kn,t=Wi,Wi=Kn=null,Zr(e),t)))for(e=0;e<t.length;e++)Zr(t[e])}}function ir(t,e){var l=t.stateNode;if(l===null)return null;var r=l[we]||null;if(r===null)return null;l=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(v(231,e,typeof l));return l}var Kr=!1;if(Ji)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Kr=!1}var Fa=null,_u=null,ar=null;function $i(){if(ar)return ar;var t,e=_u,l=e.length,r,h="value"in Fa?Fa.value:Fa.textContent,m=h.length;for(t=0;t<l&&e[t]===h[t];t++);var B=l-t;for(r=1;r<=B&&e[l-r]===h[m-r];r++);return ar=h.slice(t,1<r?1-r:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function va(){return!0}function lr(){return!1}function Yi(t){function e(l,r,h,m,B){this._reactName=l,this._targetInst=h,this.type=r,this.nativeEvent=m,this.target=B,this.currentTarget=null;for(var tt in t)t.hasOwnProperty(tt)&&(l=t[tt],this[tt]=l?l(m):m[tt]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?va:lr,this.isPropagationStopped=lr,this}return I(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),e}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Yi(Zl),Ql=I({},Zl,{view:0,detail:0}),oc=Yi(Ql),Ol,sr,Kl,Jl=I({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(Ol=t.screenX-Kl.screenX,sr=t.screenY-Kl.screenY):sr=Ol=0,Kl=t),Ol)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),Jr=Yi(Jl),Ro=I({},Jl,{dataTransfer:0}),Cn=Yi(Ro),Ni=I({},Ql,{relatedTarget:0}),Lo=Yi(Ni),uc=I({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=Yi(uc),fc=I({},Zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hc=Yi(fc),Wr=I({},Zl,{data:0}),Bo=Yi(Wr),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dc[t])?!!e[t]:!1}function or(){return xu}var pc=I({},Ql,{key:function(t){if(t.key){var e=zo[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=Yi(pc),wu=I({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Yi(wu),mc=I({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Yo=Yi(mc),Le=I({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ml=Yi(Le),Eu=I({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=Yi(Eu),Tu=I({},Zl,{newState:0,oldState:0}),Dl=Yi(Tu),al=[9,13,27,32],$r=Ji&&"CompositionEvent"in window,As=null;Ji&&"documentMode"in document&&(As=document.documentMode);var to=Ji&&"TextEvent"in window&&!As,eo=Ji&&(!$r||As&&8<As&&11>=As),$l=" ",Oi=!1;function no(t,e){switch(t){case"keyup":return al.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ts=!1;function io(t,e){switch(t){case"compositionend":return Au(e);case"keypress":return e.which!==32?null:(Oi=!0,$l);case"textInput":return t=e.data,t===$l&&Oi?null:t;default:return null}}function Nu(t,e){if(ts)return t==="compositionend"||!$r&&no(t,e)?(t=$i(),ar=_u=Fa=null,ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eo&&e.locale!=="ko"?null:e.data;default:return null}}var Uo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Uo[t.type]:e==="textarea"}function qi(t,e,l,r){Kn?Wi?Wi.push(r):Wi=[r]:Kn=r,e=Hd(e,"onChange"),0<e.length&&(l=new Nl("onChange","change",null,l,r),t.push({event:l,listeners:e}))}var Ns=null,ll=null;function Go(t){f1(t,0)}function lo(t){var e=vn(t);if(kr(e))return t}function Xo(t,e){if(t==="change")return e}var Ho=!1;if(Ji){var jo;if(Ji){var Os="oninput"in document;if(!Os){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),Os=typeof cr.oninput=="function"}jo=Os}else jo=!1;Ho=jo&&(!document.documentMode||9<document.documentMode)}function Rn(){Ns&&(Ns.detachEvent("onpropertychange",Ou),ll=Ns=null)}function Ou(t){if(t.propertyName==="value"&&lo(ll)){var e=[];qi(e,ll,t,Gn(t)),Al(Go,e)}}function af(t,e,l){t==="focusin"?(Rn(),Ns=e,ll=l,Ns.attachEvent("onpropertychange",Ou)):t==="focusout"&&Rn()}function fr(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lo(ll)}function so(t,e){if(t==="click")return lo(e)}function es(t,e){if(t==="input"||t==="change")return lo(e)}function Wn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fi=typeof Object.is=="function"?Object.is:Wn;function Va(t,e){if(Fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),r=Object.keys(e);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var h=l[r];if(!Ke.call(e,h)||!Fi(t[h],e[h]))return!1}return!0}function Vi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mu(t,e){var l=Vi(t);t=0;for(var r;l;){if(l.nodeType===3){if(r=t+l.textContent.length,t<=e&&r>=e)return{node:l,offset:e-t};t=r}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Vi(l)}}function Du(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Du(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ns(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=qa(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=qa(t.document)}return e}function ro(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pu(t,e){var l=ns(e);e=t.focusedElem;var r=t.selectionRange;if(l!==e&&e&&e.ownerDocument&&Du(e.ownerDocument.documentElement,e)){if(r!==null&&ro(e)){if(t=r.start,l=r.end,l===void 0&&(l=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(l,e.value.length);else if(l=(t=e.ownerDocument||document)&&t.defaultView||window,l.getSelection){l=l.getSelection();var h=e.textContent.length,m=Math.min(r.start,h);r=r.end===void 0?m:Math.min(r.end,h),!l.extend&&m>r&&(h=r,r=m,m=h),h=Mu(e,m);var B=Mu(e,r);h&&B&&(l.rangeCount!==1||l.anchorNode!==h.node||l.anchorOffset!==h.offset||l.focusNode!==B.node||l.focusOffset!==B.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),l.removeAllRanges(),m>r?(l.addRange(t),l.extend(B.node,B.offset)):(t.setEnd(B.node,B.offset),l.addRange(t)))}}for(t=[],l=e;l=l.parentNode;)l.nodeType===1&&t.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)l=t[e],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var qo=Ji&&"documentMode"in document&&11>=document.documentMode,is=null,A=null,L=null,q=!1;function lt(t,e,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;q||is==null||is!==qa(r)||(r=is,"selectionStart"in r&&ro(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),L&&Va(L,r)||(L=r,r=Hd(A,"onSelect"),0<r.length&&(e=new Nl("onSelect","select",null,e,l),t.push({event:e,listeners:r}),e.target=is)))}function pt(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var Rt={animationend:pt("Animation","AnimationEnd"),animationiteration:pt("Animation","AnimationIteration"),animationstart:pt("Animation","AnimationStart"),transitionrun:pt("Transition","TransitionRun"),transitionstart:pt("Transition","TransitionStart"),transitioncancel:pt("Transition","TransitionCancel"),transitionend:pt("Transition","TransitionEnd")},Et={},Xt={};Ji&&(Xt=document.createElement("div").style,"AnimationEvent"in window||(delete Rt.animationend.animation,delete Rt.animationiteration.animation,delete Rt.animationstart.animation),"TransitionEvent"in window||delete Rt.transitionend.transition);function It(t){if(Et[t])return Et[t];if(!Rt[t])return t;var e=Rt[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in Xt)return Et[t]=e[l];return t}var Qt=It("animationend"),Zt=It("animationiteration"),ee=It("animationstart"),xe=It("transitionrun"),Ee=It("transitionstart"),ye=It("transitioncancel"),hn=It("transitionend"),fn=new Map,Re="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ue(t,e){fn.set(t,e),ga(e,[t])}var Ie=[],Ii=0,ta=0;function Fn(){for(var t=Ii,e=ta=Ii=0;e<t;){var l=Ie[e];Ie[e++]=null;var r=Ie[e];Ie[e++]=null;var h=Ie[e];Ie[e++]=null;var m=Ie[e];if(Ie[e++]=null,r!==null&&h!==null){var B=r.pending;B===null?h.next=h:(h.next=B.next,B.next=h),r.pending=h}m!==0&&ea(l,h,m)}}function Xe(t,e,l,r){Ie[Ii++]=t,Ie[Ii++]=e,Ie[Ii++]=l,Ie[Ii++]=r,ta|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function We(t,e,l,r){return Xe(t,e,l,r),sl(t)}function dn(t,e){return Xe(t,null,null,e),sl(t)}function ea(t,e,l){t.lanes|=l;var r=t.alternate;r!==null&&(r.lanes|=l);for(var h=!1,m=t.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;h&&e!==null&&t.tag===3&&(m=t.stateNode,h=31-Qn(l),m=m.hiddenUpdates,t=m[h],t===null?m[h]=[e]:t.push(e),e.lane=l|536870912)}function sl(t){if(50<gl)throw gl=0,Ks=null,Error(v(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ki={},Ma=new WeakMap;function na(t,e){if(typeof t=="object"&&t!==null){var l=Ma.get(t);return l!==void 0?l:(e={value:t,source:e,stack:at(e)},Ma.set(t,e),e)}return{value:t,source:e,stack:at(e)}}var Pl=[],hr=0,ia=null,Ru=0,Ln=[],Ia=0,Ms=null,as=1,Ds="";function ba(t,e){Pl[hr++]=Ru,Pl[hr++]=ia,ia=t,Ru=e}function lf(t,e,l){Ln[Ia++]=as,Ln[Ia++]=Ds,Ln[Ia++]=Ms,Ms=t;var r=as;t=Ds;var h=32-Qn(r)-1;r&=~(1<<h),l+=1;var m=32-Qn(e)+h;if(30<m){var B=h-h%5;m=(r&(1<<B)-1).toString(32),r>>=B,h-=B,as=1<<32-Qn(e)+h|l<<h|r,Ds=m+t}else as=1<<m|l<<h|r,Ds=t}function Lu(t){t.return!==null&&(ba(t,1),lf(t,1,0))}function dr(t){for(;t===ia;)ia=Pl[--hr],Pl[hr]=null,Ru=Pl[--hr],Pl[hr]=null;for(;t===Ms;)Ms=Ln[--Ia],Ln[Ia]=null,Ds=Ln[--Ia],Ln[Ia]=null,as=Ln[--Ia],Ln[Ia]=null}var aa=null,Ui=null,an=!1,rl=null,ol=!1,Bu=Error(v(519));function oo(t){var e=Error(v(418,""));throw ls(na(e,t)),Bu}function Ih(t){var e=t.stateNode,l=t.type,r=t.memoizedProps;switch(e[Nn]=t,e[we]=r,l){case"dialog":sn("cancel",e),sn("close",e);break;case"iframe":case"object":case"embed":sn("load",e);break;case"video":case"audio":for(l=0;l<Gf.length;l++)sn(Gf[l],e);break;case"source":sn("error",e);break;case"img":case"image":case"link":sn("error",e),sn("load",e);break;case"details":sn("toggle",e);break;case"input":sn("invalid",e),p(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ws(e);break;case"select":sn("invalid",e);break;case"textarea":sn("invalid",e),st(e,r.value,r.defaultValue,r.children),ws(e)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||r.suppressHydrationWarning===!0||m1(e.textContent,l)?(r.popover!=null&&(sn("beforetoggle",e),sn("toggle",e)),r.onScroll!=null&&sn("scroll",e),r.onScrollEnd!=null&&sn("scrollend",e),r.onClick!=null&&(e.onclick=jd),e=!0):e=!1,e||oo(t)}function kh(t){for(aa=t.return;aa;)switch(aa.tag){case 3:case 27:ol=!0;return;case 5:case 13:ol=!1;return;default:aa=aa.return}}function Fo(t){if(t!==aa)return!1;if(!an)return kh(t),an=!0,!1;var e=!1,l;if((l=t.tag!==3&&t.tag!==27)&&((l=t.tag===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||I0(t.type,t.memoizedProps)),l=!l),l&&(e=!0),e&&Ui&&oo(t),kh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(e===0){Ui=Ws(t.nextSibling);break t}e--}else l!=="$"&&l!=="$!"&&l!=="$?"||e++;t=t.nextSibling}Ui=null}}else Ui=aa?Ws(t.stateNode.nextSibling):null;return!0}function Vo(){Ui=aa=null,an=!1}function ls(t){rl===null?rl=[t]:rl.push(t)}var pr=Error(v(460)),sf=Error(v(474)),gc={then:function(){}};function Zh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function mr(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(zu,zu),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===pr?Error(v(483)):t;default:if(typeof e.status=="string")e.then(zu,zu);else{if(t=En,t!==null&&100<t.shellSuspendCounter)throw Error(v(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===pr?Error(v(483)):t}throw Io=e,pr}}var Io=null;function pn(){if(Io===null)throw Error(v(459));var t=Io;return Io=null,t}var gr=null,Yu=0;function Uu(t){var e=Yu;return Yu+=1,gr===null&&(gr=[]),mr(gr,t,e)}function Gu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function yc(t,e){throw e.$$typeof===b?Error(v(525)):(t=Object.prototype.toString.call(e),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Qh(t){var e=t._init;return e(t._payload)}function Kh(t){function e(xt,gt){if(t){var At=xt.deletions;At===null?(xt.deletions=[gt],xt.flags|=16):At.push(gt)}}function l(xt,gt){if(!t)return null;for(;gt!==null;)e(xt,gt),gt=gt.sibling;return null}function r(xt){for(var gt=new Map;xt!==null;)xt.key!==null?gt.set(xt.key,xt):gt.set(xt.index,xt),xt=xt.sibling;return gt}function h(xt,gt){return xt=Ca(xt,gt),xt.index=0,xt.sibling=null,xt}function m(xt,gt,At){return xt.index=At,t?(At=xt.alternate,At!==null?(At=At.index,At<gt?(xt.flags|=33554434,gt):At):(xt.flags|=33554434,gt)):(xt.flags|=1048576,gt)}function B(xt){return t&&xt.alternate===null&&(xt.flags|=33554434),xt}function tt(xt,gt,At,Vt){return gt===null||gt.tag!==6?(gt=bi(At,xt.mode,Vt),gt.return=xt,gt):(gt=h(gt,At),gt.return=xt,gt)}function rt(xt,gt,At,Vt){var ae=At.type;return ae===w?Ut(xt,gt,At.props.children,Vt,At.key):gt!==null&&(gt.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===E&&Qh(ae)===gt.type)?(gt=h(gt,At.props),Gu(gt,At),gt.return=xt,gt):(gt=ru(At.type,At.key,At.props,null,xt.mode,Vt),Gu(gt,At),gt.return=xt,gt)}function vt(xt,gt,At,Vt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==At.containerInfo||gt.stateNode.implementation!==At.implementation?(gt=Ju(At,xt.mode,Vt),gt.return=xt,gt):(gt=h(gt,At.children||[]),gt.return=xt,gt)}function Ut(xt,gt,At,Vt,ae){return gt===null||gt.tag!==7?(gt=Br(At,xt.mode,Vt,ae),gt.return=xt,gt):(gt=h(gt,At),gt.return=xt,gt)}function kt(xt,gt,At){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=bi(""+gt,xt.mode,At),gt.return=xt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case O:return At=ru(gt.type,gt.key,gt.props,null,xt.mode,At),Gu(At,gt),At.return=xt,At;case S:return gt=Ju(gt,xt.mode,At),gt.return=xt,gt;case E:var Vt=gt._init;return gt=Vt(gt._payload),kt(xt,gt,At)}if(yt(gt)||$(gt))return gt=Br(gt,xt.mode,At,null),gt.return=xt,gt;if(typeof gt.then=="function")return kt(xt,Uu(gt),At);if(gt.$$typeof===P)return kt(xt,Lc(xt,gt),At);yc(xt,gt)}return null}function Dt(xt,gt,At,Vt){var ae=gt!==null?gt.key:null;if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return ae!==null?null:tt(xt,gt,""+At,Vt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case O:return At.key===ae?rt(xt,gt,At,Vt):null;case S:return At.key===ae?vt(xt,gt,At,Vt):null;case E:return ae=At._init,At=ae(At._payload),Dt(xt,gt,At,Vt)}if(yt(At)||$(At))return ae!==null?null:Ut(xt,gt,At,Vt,null);if(typeof At.then=="function")return Dt(xt,gt,Uu(At),Vt);if(At.$$typeof===P)return Dt(xt,gt,Lc(xt,At),Vt);yc(xt,At)}return null}function Bt(xt,gt,At,Vt,ae){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return xt=xt.get(At)||null,tt(gt,xt,""+Vt,ae);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case O:return xt=xt.get(Vt.key===null?At:Vt.key)||null,rt(gt,xt,Vt,ae);case S:return xt=xt.get(Vt.key===null?At:Vt.key)||null,vt(gt,xt,Vt,ae);case E:var Ze=Vt._init;return Vt=Ze(Vt._payload),Bt(xt,gt,At,Vt,ae)}if(yt(Vt)||$(Vt))return xt=xt.get(At)||null,Ut(gt,xt,Vt,ae,null);if(typeof Vt.then=="function")return Bt(xt,gt,At,Uu(Vt),ae);if(Vt.$$typeof===P)return Bt(xt,gt,At,Lc(gt,Vt),ae);yc(gt,Vt)}return null}function re(xt,gt,At,Vt){for(var ae=null,Ze=null,fe=gt,be=gt=0,fa=null;fe!==null&&be<At.length;be++){fe.index>be?(fa=fe,fe=null):fa=fe.sibling;var mn=Dt(xt,fe,At[be],Vt);if(mn===null){fe===null&&(fe=fa);break}t&&fe&&mn.alternate===null&&e(xt,fe),gt=m(mn,gt,be),Ze===null?ae=mn:Ze.sibling=mn,Ze=mn,fe=fa}if(be===At.length)return l(xt,fe),an&&ba(xt,be),ae;if(fe===null){for(;be<At.length;be++)fe=kt(xt,At[be],Vt),fe!==null&&(gt=m(fe,gt,be),Ze===null?ae=fe:Ze.sibling=fe,Ze=fe);return an&&ba(xt,be),ae}for(fe=r(fe);be<At.length;be++)fa=Bt(fe,xt,be,At[be],Vt),fa!==null&&(t&&fa.alternate!==null&&fe.delete(fa.key===null?be:fa.key),gt=m(fa,gt,be),Ze===null?ae=fa:Ze.sibling=fa,Ze=fa);return t&&fe.forEach(function(gu){return e(xt,gu)}),an&&ba(xt,be),ae}function Me(xt,gt,At,Vt){if(At==null)throw Error(v(151));for(var ae=null,Ze=null,fe=gt,be=gt=0,fa=null,mn=At.next();fe!==null&&!mn.done;be++,mn=At.next()){fe.index>be?(fa=fe,fe=null):fa=fe.sibling;var gu=Dt(xt,fe,mn.value,Vt);if(gu===null){fe===null&&(fe=fa);break}t&&fe&&gu.alternate===null&&e(xt,fe),gt=m(gu,gt,be),Ze===null?ae=gu:Ze.sibling=gu,Ze=gu,fe=fa}if(mn.done)return l(xt,fe),an&&ba(xt,be),ae;if(fe===null){for(;!mn.done;be++,mn=At.next())mn=kt(xt,mn.value,Vt),mn!==null&&(gt=m(mn,gt,be),Ze===null?ae=mn:Ze.sibling=mn,Ze=mn);return an&&ba(xt,be),ae}for(fe=r(fe);!mn.done;be++,mn=At.next())mn=Bt(fe,xt,be,mn.value,Vt),mn!==null&&(t&&mn.alternate!==null&&fe.delete(mn.key===null?be:mn.key),gt=m(mn,gt,be),Ze===null?ae=mn:Ze.sibling=mn,Ze=mn);return t&&fe.forEach(function(_y){return e(xt,_y)}),an&&ba(xt,be),ae}function xi(xt,gt,At,Vt){if(typeof At=="object"&&At!==null&&At.type===w&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case O:t:{for(var ae=At.key;gt!==null;){if(gt.key===ae){if(ae=At.type,ae===w){if(gt.tag===7){l(xt,gt.sibling),Vt=h(gt,At.props.children),Vt.return=xt,xt=Vt;break t}}else if(gt.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===E&&Qh(ae)===gt.type){l(xt,gt.sibling),Vt=h(gt,At.props),Gu(Vt,At),Vt.return=xt,xt=Vt;break t}l(xt,gt);break}else e(xt,gt);gt=gt.sibling}At.type===w?(Vt=Br(At.props.children,xt.mode,Vt,At.key),Vt.return=xt,xt=Vt):(Vt=ru(At.type,At.key,At.props,null,xt.mode,Vt),Gu(Vt,At),Vt.return=xt,xt=Vt)}return B(xt);case S:t:{for(ae=At.key;gt!==null;){if(gt.key===ae)if(gt.tag===4&&gt.stateNode.containerInfo===At.containerInfo&&gt.stateNode.implementation===At.implementation){l(xt,gt.sibling),Vt=h(gt,At.children||[]),Vt.return=xt,xt=Vt;break t}else{l(xt,gt);break}else e(xt,gt);gt=gt.sibling}Vt=Ju(At,xt.mode,Vt),Vt.return=xt,xt=Vt}return B(xt);case E:return ae=At._init,At=ae(At._payload),xi(xt,gt,At,Vt)}if(yt(At))return re(xt,gt,At,Vt);if($(At)){if(ae=$(At),typeof ae!="function")throw Error(v(150));return At=ae.call(At),Me(xt,gt,At,Vt)}if(typeof At.then=="function")return xi(xt,gt,Uu(At),Vt);if(At.$$typeof===P)return xi(xt,gt,Lc(xt,At),Vt);yc(xt,At)}return typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint"?(At=""+At,gt!==null&&gt.tag===6?(l(xt,gt.sibling),Vt=h(gt,At),Vt.return=xt,xt=Vt):(l(xt,gt),Vt=bi(At,xt.mode,Vt),Vt.return=xt,xt=Vt),B(xt)):l(xt,gt)}return function(xt,gt,At,Vt){try{Yu=0;var ae=xi(xt,gt,At,Vt);return gr=null,ae}catch(fe){if(fe===pr)throw fe;var Ze=fi(29,fe,null,xt.mode);return Ze.lanes=Vt,Ze.return=xt,Ze}finally{}}}var Ps=Kh(!0),Rs=Kh(!1),uo=_t(null),co=_t(0);function yr(t,e){t=Qs,zt(co,t),zt(uo,e),Qs=t|e.baseLanes}function vc(){zt(co,Qs),zt(uo,uo.current)}function Xu(){Qs=co.current,jt(uo),jt(co)}var Da=_t(null),ss=null;function Ls(t){var e=t.alternate;zt(gi,gi.current&1),zt(Da,t),ss===null&&(e===null||uo.current!==null||e.memoizedState!==null)&&(ss=t)}function rf(t){if(t.tag===22){if(zt(gi,gi.current),zt(Da,t),ss===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ss=t)}}else Bs()}function Bs(){zt(gi,gi.current),zt(Da,Da.current)}function rs(t){jt(Da),ss===t&&(ss=null),jt(gi)}var gi=_t(0);function ko(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var He=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},A0=u.unstable_scheduleCallback,ka=u.unstable_NormalPriority,li={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new He,data:new Map,refCount:0}}function vr(t){t.refCount--,t.refCount===0&&A0(ka,function(){t.controller.abort()})}var os=null,br=0,fo=0,Sr=null;function N0(t,e){if(os===null){var l=os=[];br=0,fo=Y0(),Sr={status:"pending",value:void 0,then:function(r){l.push(r)}}}return br++,e.then(uf,uf),e}function uf(){if(--br===0&&os!==null){Sr!==null&&(Sr.status="fulfilled");var t=os;os=null,fo=0,Sr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _r(t,e){var l=[],r={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<l.length;h++)(0,l[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),r}var bc=k.S;k.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&N0(t,e),bc!==null&&bc(t,e)};var zs=_t(null);function Hu(){var t=zs.current;return t!==null?t:En.pooledCache}function Zo(t,e){e===null?zt(zs,zs.current):zt(zs,e.pool)}function Ys(){var t=Hu();return t===null?null:{parent:li._currentValue,pool:t}}var Us=0,Be=null,bn=null,yi=null,ve=!1,xr=!1,Cr=!1,Qo=0,wr=0,Ko=null,O0=0;function $n(){throw Error(v(321))}function ho(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!Fi(t[l],e[l]))return!1;return!0}function cf(t,e,l,r,h,m){return Us=m,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?Tr:Xs,Cr=!1,m=l(r,h),Cr=!1,xr&&(m=Wh(e,l,r,h)),Jh(t),m}function Jh(t){k.H=cs;var e=bn!==null&&bn.next!==null;if(Us=0,yi=bn=Be=null,ve=!1,wr=0,Ko=null,e)throw Error(v(300));t===null||Mi||(t=t.dependencies,t!==null&&eu(t)&&(Mi=!0))}function Wh(t,e,l,r){Be=t;var h=0;do{if(xr&&(Ko=null),wr=0,xr=!1,25<=h)throw Error(v(301));if(h+=1,yi=bn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=go,m=e(l,r)}while(xr);return m}function M0(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?qu(e):e,t=t.useState()[0],(bn!==null?bn.memoizedState:null)!==t&&(Be.flags|=1024),e}function ff(){var t=Qo!==0;return Qo=0,t}function ju(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function Sc(t){if(ve){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ve=!1}Us=0,yi=bn=Be=null,xr=!1,wr=Qo=0,Ko=null}function Zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Be.memoizedState=yi=t:yi=yi.next=t,yi}function si(){if(bn===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=yi===null?Be.memoizedState:yi.next;if(e!==null)yi=e,bn=t;else{if(t===null)throw Be.alternate===null?Error(v(467)):Error(v(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},yi===null?Be.memoizedState=yi=t:yi=yi.next=t}return yi}var _c;_c=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qu(t){var e=wr;return wr+=1,Ko===null&&(Ko=[]),t=mr(Ko,t,e),e=Be,(yi===null?e.memoizedState:yi.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?Tr:Xs),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qu(t);if(t.$$typeof===P)return la(t)}throw Error(v(438,String(t)))}function Rl(t){var e=null,l=Be.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var r=Be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=_c(),Be.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),r=0;r<t;r++)l[r]=H;return e.index++,l}function Vn(t,e){return typeof e=="function"?e(t):e}function Ll(t){var e=si();return Pa(e,bn,t)}function Pa(t,e,l){var r=t.queue;if(r===null)throw Error(v(311));r.lastRenderedReducer=l;var h=t.baseQueue,m=r.pending;if(m!==null){if(h!==null){var B=h.next;h.next=m.next,m.next=B}e.baseQueue=h=m,r.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{e=h.next;var tt=B=null,rt=null,vt=e,Ut=!1;do{var kt=vt.lane&-536870913;if(kt!==vt.lane?(pe&kt)===kt:(Us&kt)===kt){var Dt=vt.revertLane;if(Dt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),kt===fo&&(Ut=!0);else if((Us&Dt)===Dt){vt=vt.next,Dt===fo&&(Ut=!0);continue}else kt={lane:0,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},rt===null?(tt=rt=kt,B=m):rt=rt.next=kt,Be.lanes|=Dt,Hl|=Dt;kt=vt.action,Cr&&l(m,kt),m=vt.hasEagerState?vt.eagerState:l(m,kt)}else Dt={lane:kt,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},rt===null?(tt=rt=Dt,B=m):rt=rt.next=Dt,Be.lanes|=kt,Hl|=kt;vt=vt.next}while(vt!==null&&vt!==e);if(rt===null?B=m:rt.next=tt,!Fi(m,t.memoizedState)&&(Mi=!0,Ut&&(l=Sr,l!==null)))throw l;t.memoizedState=m,t.baseState=B,t.baseQueue=rt,r.lastRenderedState=m}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function xc(t){var e=si(),l=e.queue;if(l===null)throw Error(v(311));l.lastRenderedReducer=t;var r=l.dispatch,h=l.pending,m=e.memoizedState;if(h!==null){l.pending=null;var B=h=h.next;do m=t(m,B.action),B=B.next;while(B!==h);Fi(m,e.memoizedState)||(Mi=!0),e.memoizedState=m,e.baseQueue===null&&(e.baseState=m),l.lastRenderedState=m}return[m,r]}function $h(t,e,l){var r=Be,h=si(),m=an;if(m){if(l===void 0)throw Error(v(407));l=l()}else l=e();var B=!Fi((bn||h).memoizedState,l);if(B&&(h.memoizedState=l,Mi=!0),h=h.queue,mf(td.bind(null,r,h,t),[t]),h.getSnapshot!==e||B||yi!==null&&yi.memoizedState.tag&1){if(r.flags|=2048,us(9,Er.bind(null,r,h,l,e),{destroy:void 0},null),En===null)throw Error(v(349));m||(Us&60)!==0||Sa(r,e,l)}return l}function Sa(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=Be.updateQueue,e===null?(e=_c(),Be.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function Er(t,e,l,r){e.value=l,e.getSnapshot=r,ed(e)&&nd(t)}function td(t,e,l){return l(function(){ed(e)&&nd(t)})}function ed(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!Fi(t,l)}catch{return!0}}function nd(t){var e=dn(t,2);e!==null&&_i(e,t,2)}function hf(t){var e=Zi();if(typeof t=="function"){var l=t;if(t=l(),Cr){pa(!0);try{l()}finally{pa(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:t},e}function df(t,e,l,r){return t.baseState=l,Pa(t,bn,typeof r=="function"?r:Vn)}function D0(t,e,l,r,h){if(Ac(t))throw Error(v(485));if(t=e.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){m.listeners.push(B)}};k.T!==null?l(!0):m.isTransition=!1,r(m),l=e.pending,l===null?(m.next=e.pending=m,pf(e,m)):(m.next=l.next,e.pending=l.next=m)}}function pf(t,e){var l=e.action,r=e.payload,h=t.state;if(e.isTransition){var m=k.T,B={};k.T=B;try{var tt=l(h,r),rt=k.S;rt!==null&&rt(B,tt),id(t,e,tt)}catch(vt){Gs(t,e,vt)}finally{k.T=m}}else try{m=l(h,r),id(t,e,m)}catch(vt){Gs(t,e,vt)}}function id(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){po(t,e,r)},function(r){return Gs(t,e,r)}):po(t,e,l)}function po(t,e,l){e.status="fulfilled",e.value=l,ad(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,pf(t,l)))}function Gs(t,e,l){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=l,ad(e),e=e.next;while(e!==r)}t.action=null}function ad(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ld(t,e){return e}function sd(t,e){if(an){var l=En.formState;if(l!==null){t:{var r=Be;if(an){if(Ui){e:{for(var h=Ui,m=ol;h.nodeType!==8;){if(!m){h=null;break e}if(h=Ws(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ui=Ws(h.nextSibling),r=h.data==="F!";break t}}oo(r)}r=!1}r&&(e=l[0])}}return l=Zi(),l.memoizedState=l.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:e},l.queue=r,l=bf.bind(null,Be,r),r.dispatch=l,r=hf(!1),m=Fu.bind(null,Be,!1,r.queue),r=Zi(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,l=D0.bind(null,Be,h,m,l),h.dispatch=l,r.memoizedState=t,[e,l,!1]}function Wo(t){var e=si();return rd(e,bn,t)}function rd(t,e,l){e=Pa(t,e,ld)[0],t=Ll(Vn)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?qu(e):e;var r=si(),h=r.queue,m=h.dispatch;return l!==r.memoizedState&&(Be.flags|=2048,us(9,P0.bind(null,h,l),{destroy:void 0},null)),[e,m,t]}function P0(t,e){t.action=e}function od(t){var e=si(),l=bn;if(l!==null)return rd(e,l,t);si(),e=e.memoizedState,l=si();var r=l.queue.dispatch;return l.memoizedState=t,[e,r,!1]}function us(t,e,l,r){return t={tag:t,create:e,inst:l,deps:r,next:null},e=Be.updateQueue,e===null&&(e=_c(),Be.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(r=l.next,l.next=t,t.next=r,e.lastEffect=t),t}function ud(){return si().memoizedState}function Cc(t,e,l,r){var h=Zi();Be.flags|=t,h.memoizedState=us(1|e,l,{destroy:void 0},r===void 0?null:r)}function wc(t,e,l,r){var h=si();r=r===void 0?null:r;var m=h.memoizedState.inst;bn!==null&&r!==null&&ho(r,bn.memoizedState.deps)?h.memoizedState=us(e,l,m,r):(Be.flags|=t,h.memoizedState=us(1|e,l,m,r))}function cd(t,e){Cc(8390656,8,t,e)}function mf(t,e){wc(2048,8,t,e)}function fd(t,e){return wc(4,2,t,e)}function hd(t,e){return wc(4,4,t,e)}function dd(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pd(t,e,l){l=l!=null?l.concat([t]):null,wc(4,4,dd.bind(null,e,t),l)}function gf(){}function md(t,e){var l=si();e=e===void 0?null:e;var r=l.memoizedState;return e!==null&&ho(e,r[1])?r[0]:(l.memoizedState=[t,e],t)}function gd(t,e){var l=si();e=e===void 0?null:e;var r=l.memoizedState;if(e!==null&&ho(e,r[1]))return r[0];if(r=t(),Cr){pa(!0);try{t()}finally{pa(!1)}}return l.memoizedState=[r,e],r}function Ec(t,e,l){return l===void 0||(Us&1073741824)!==0?t.memoizedState=e:(t.memoizedState=l,t=Wa(),Be.lanes|=t,Hl|=t,l)}function yd(t,e,l,r){return Fi(l,e)?l:uo.current!==null?(t=Ec(t,l,r),Fi(t,e)||(Mi=!0),t):(Us&42)===0?(Mi=!0,t.memoizedState=l):(t=Wa(),Be.lanes|=t,Hl|=t,e)}function vd(t,e,l,r,h){var m=Tt.p;Tt.p=m!==0&&8>m?m:8;var B=k.T,tt={};k.T=tt,Fu(t,!1,e,l);try{var rt=h(),vt=k.S;if(vt!==null&&vt(tt,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var Ut=_r(rt,r);mo(t,e,Ut,Ea(t))}else mo(t,e,r,Ea(t))}catch(kt){mo(t,e,{then:function(){},status:"rejected",reason:kt},Ea())}finally{Tt.p=m,k.T=B}}function R0(){}function yf(t,e,l,r){if(t.tag!==5)throw Error(v(476));var h=bd(t).queue;vd(t,h,e,Ht,l===null?R0:function(){return Sd(t),l(r)})}function bd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ht,baseState:Ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:Ht},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Sd(t){var e=bd(t).next.queue;mo(t,e,{},Ea())}function Tc(){return la(Ff)}function vf(){return si().memoizedState}function _d(){return si().memoizedState}function xd(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=Ea();t=Ka(l);var r=Ja(e,t,l);r!==null&&(_i(r,e,l),Or(r,e,l)),e={cache:of()},t.payload=e;return}e=e.return}}function Cd(t,e,l){var r=Ea();l={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)?wd(e,l):(l=We(t,e,l,r),l!==null&&(_i(l,t,r),Ed(l,e,r)))}function bf(t,e,l){var r=Ea();mo(t,e,l,r)}function mo(t,e,l,r){var h={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))wd(e,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=e.lastRenderedReducer,m!==null))try{var B=e.lastRenderedState,tt=m(B,l);if(h.hasEagerState=!0,h.eagerState=tt,Fi(tt,B))return Xe(t,e,h,0),En===null&&Fn(),!1}catch{}finally{}if(l=We(t,e,h,r),l!==null)return _i(l,t,r),Ed(l,e,r),!0}return!1}function Fu(t,e,l,r){if(r={lane:2,revertLane:Y0(),action:r,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(e)throw Error(v(479))}else e=We(t,l,r,2),e!==null&&_i(e,t,2)}function Ac(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function wd(t,e){xr=ve=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function Ed(t,e,l){if((l&4194176)!==0){var r=e.lanes;r&=t.pendingLanes,l|=r,e.lanes=l,xs(t,l)}}var cs={readContext:la,use:Jo,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n};cs.useCacheRefresh=$n,cs.useMemoCache=$n,cs.useHostTransitionStatus=$n,cs.useFormState=$n,cs.useActionState=$n,cs.useOptimistic=$n;var Tr={readContext:la,use:Jo,useCallback:function(t,e){return Zi().memoizedState=[t,e===void 0?null:e],t},useContext:la,useEffect:cd,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,Cc(4194308,4,dd.bind(null,e,t),l)},useLayoutEffect:function(t,e){return Cc(4194308,4,t,e)},useInsertionEffect:function(t,e){Cc(4,2,t,e)},useMemo:function(t,e){var l=Zi();e=e===void 0?null:e;var r=t();if(Cr){pa(!0);try{t()}finally{pa(!1)}}return l.memoizedState=[r,e],r},useReducer:function(t,e,l){var r=Zi();if(l!==void 0){var h=l(e);if(Cr){pa(!0);try{l(e)}finally{pa(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=Cd.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Zi();return t={current:t},e.memoizedState=t},useState:function(t){t=hf(t);var e=t.queue,l=bf.bind(null,Be,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:gf,useDeferredValue:function(t,e){var l=Zi();return Ec(l,t,e)},useTransition:function(){var t=hf(!1);return t=vd.bind(null,Be,t.queue,!0,!1),Zi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var r=Be,h=Zi();if(an){if(l===void 0)throw Error(v(407));l=l()}else{if(l=e(),En===null)throw Error(v(349));(pe&60)!==0||Sa(r,e,l)}h.memoizedState=l;var m={value:l,getSnapshot:e};return h.queue=m,cd(td.bind(null,r,m,t),[t]),r.flags|=2048,us(9,Er.bind(null,r,m,l,e),{destroy:void 0},null),l},useId:function(){var t=Zi(),e=En.identifierPrefix;if(an){var l=Ds,r=as;l=(r&~(1<<32-Qn(r)-1)).toString(32)+l,e=":"+e+"R"+l,l=Qo++,0<l&&(e+="H"+l.toString(32)),e+=":"}else l=O0++,e=":"+e+"r"+l.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Zi().memoizedState=xd.bind(null,Be)}};Tr.useMemoCache=Rl,Tr.useHostTransitionStatus=Tc,Tr.useFormState=sd,Tr.useActionState=sd,Tr.useOptimistic=function(t){var e=Zi();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Fu.bind(null,Be,!0,l),l.dispatch=e,[t,e]};var Xs={readContext:la,use:Jo,useCallback:md,useContext:la,useEffect:mf,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:gd,useReducer:Ll,useRef:ud,useState:function(){return Ll(Vn)},useDebugValue:gf,useDeferredValue:function(t,e){var l=si();return yd(l,bn.memoizedState,t,e)},useTransition:function(){var t=Ll(Vn)[0],e=si().memoizedState;return[typeof t=="boolean"?t:qu(t),e]},useSyncExternalStore:$h,useId:vf};Xs.useCacheRefresh=_d,Xs.useMemoCache=Rl,Xs.useHostTransitionStatus=Tc,Xs.useFormState=Wo,Xs.useActionState=Wo,Xs.useOptimistic=function(t,e){var l=si();return df(l,bn,t,e)};var go={readContext:la,use:Jo,useCallback:md,useContext:la,useEffect:mf,useImperativeHandle:pd,useInsertionEffect:fd,useLayoutEffect:hd,useMemo:gd,useReducer:xc,useRef:ud,useState:function(){return xc(Vn)},useDebugValue:gf,useDeferredValue:function(t,e){var l=si();return bn===null?Ec(l,t,e):yd(l,bn.memoizedState,t,e)},useTransition:function(){var t=xc(Vn)[0],e=si().memoizedState;return[typeof t=="boolean"?t:qu(t),e]},useSyncExternalStore:$h,useId:vf};go.useCacheRefresh=_d,go.useMemoCache=Rl,go.useHostTransitionStatus=Tc,go.useFormState=od,go.useActionState=od,go.useOptimistic=function(t,e){var l=si();return bn!==null?df(l,bn,t,e):(l.baseState=t,[t,l.queue.dispatch])};function Sf(t,e,l,r){e=t.memoizedState,l=l(r,e),l=l==null?e:I({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var _f={isMounted:function(t){return(t=t._reactInternals)?mt(t)===t:!1},enqueueSetState:function(t,e,l){t=t._reactInternals;var r=Ea(),h=Ka(r);h.payload=e,l!=null&&(h.callback=l),e=Ja(t,h,r),e!==null&&(_i(e,t,r),Or(e,t,r))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var r=Ea(),h=Ka(r);h.tag=1,h.payload=e,l!=null&&(h.callback=l),e=Ja(t,h,r),e!==null&&(_i(e,t,r),Or(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=Ea(),r=Ka(l);r.tag=2,e!=null&&(r.callback=e),e=Ja(t,r,l),e!==null&&(_i(e,t,l),Or(e,t,l))}};function Td(t,e,l,r,h,m,B){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,m,B):e.prototype&&e.prototype.isPureReactComponent?!Va(l,r)||!Va(h,m):!0}function Ad(t,e,l,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,r),e.state!==t&&_f.enqueueReplaceState(e,e.state,null)}function yo(t,e){var l=e;if("ref"in e){l={};for(var r in e)r!=="ref"&&(l[r]=e[r])}if(t=t.defaultProps){l===e&&(l=I({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}var Nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Nd(t){Nc(t)}function Od(t){console.error(t)}function Md(t){Nc(t)}function Oc(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Dd(t,e,l){try{var r=t.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(t,e,l){return l=Ka(l),l.tag=3,l.payload={element:null},l.callback=function(){Oc(t,e)},l}function Cf(t){return t=Ka(t),t.tag=3,t}function Pd(t,e,l,r){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=r.value;t.payload=function(){return h(m)},t.callback=function(){Dd(e,l,r)}}var B=l.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(t.callback=function(){Dd(e,l,r),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=r.stack;this.componentDidCatch(r.value,{componentStack:tt!==null?tt:""})})}function L0(t,e,l,r,h){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=l.alternate,e!==null&&Iu(e,l,h,!0),l=Da.current,l!==null){switch(l.tag){case 13:return ss===null?tc():l.alternate===null&&jn===0&&(jn=3),l.flags&=-257,l.flags|=65536,l.lanes=h,r===gc?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([r]):e.add(r),Ne(t,r,h)),!1;case 22:return l.flags|=65536,r===gc?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([r]):l.add(r)),Ne(t,r,h)),!1}throw Error(v(435,l.tag))}return Ne(t,r,h),tc(),!1}if(an)return e=Da.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==Bu&&(t=Error(v(422),{cause:r}),ls(na(t,l)))):(r!==Bu&&(e=Error(v(423),{cause:r}),ls(na(e,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=na(r,l),h=xf(t.stateNode,r,h),iu(t,h),jn!==4&&(jn=2)),!1;var m=Error(v(520),{cause:r});if(m=na(m,l),$u===null?$u=[m]:$u.push(m),jn!==4&&(jn=2),e===null)return!0;r=na(r,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=xf(l.stateNode,r,t),iu(l,t),!1;case 1:if(e=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Si===null||!Si.has(m))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Cf(h),Pd(h,t,l,r),iu(l,h),!1}l=l.return}while(l!==null);return!1}var Za=Error(v(461)),Mi=!1;function Di(t,e,l,r){e.child=t===null?Rs(e,null,l,r):Ps(e,t.child,l,r)}function wf(t,e,l,r,h){l=l.render;var m=e.ref;if("ref"in r){var B={};for(var tt in r)tt!=="ref"&&(B[tt]=r[tt])}else B=r;return bo(e),r=cf(t,e,l,B,m,h),tt=ff(),t!==null&&!Mi?(ju(t,e,h),ri(t,e,h)):(an&&tt&&Lu(e),e.flags|=1,Di(t,e,r,h),e.child)}function Ef(t,e,l,r,h){if(t===null){var m=l.type;return typeof m=="function"&&!ks(m)&&m.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=m,Tf(t,e,m,r,h)):(t=ru(l.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(m=t.child,!Rf(t,h)){var B=m.memoizedProps;if(l=l.compare,l=l!==null?l:Va,l(B,r)&&t.ref===e.ref)return ri(t,e,h)}return e.flags|=1,t=Ca(m,r),t.ref=e.ref,t.return=e,e.child=t}function Tf(t,e,l,r,h){if(t!==null){var m=t.memoizedProps;if(Va(m,r)&&t.ref===e.ref)if(Mi=!1,e.pendingProps=r=m,Rf(t,h))(t.flags&131072)!==0&&(Mi=!0);else return e.lanes=t.lanes,ri(t,e,h)}return Nf(t,e,l,r,h)}function Rd(t,e,l){var r=e.pendingProps,h=r.children,m=(e.stateNode._pendingVisibility&2)!==0,B=t!==null?t.memoizedState:null;if($o(t,e),r.mode==="hidden"||m){if((e.flags&128)!==0){if(r=B!==null?B.baseLanes|l:l,t!==null){for(h=e.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;e.childLanes=m&~r}else e.childLanes=0,e.child=null;return Af(t,e,r,l)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(e,B!==null?B.cachePool:null),B!==null?yr(e,B):vc(),rf(e);else return e.lanes=e.childLanes=536870912,Af(t,e,B!==null?B.baseLanes|l:l,l)}else B!==null?(Zo(e,B.cachePool),yr(e,B),Bs(),e.memoizedState=null):(t!==null&&Zo(e,null),vc(),Bs());return Di(t,e,h,l),e.child}function Af(t,e,l,r){var h=Hu();return h=h===null?null:{parent:li._currentValue,pool:h},e.memoizedState={baseLanes:l,cachePool:h},t!==null&&Zo(e,null),vc(),rf(e),t!==null&&Iu(t,e,r,!0),null}function $o(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(v(284));(t===null||t.ref!==l)&&(e.flags|=2097664)}}function Nf(t,e,l,r,h){return bo(e),l=cf(t,e,l,r,void 0,h),r=ff(),t!==null&&!Mi?(ju(t,e,h),ri(t,e,h)):(an&&r&&Lu(e),e.flags|=1,Di(t,e,l,h),e.child)}function Ld(t,e,l,r,h,m){return bo(e),e.updateQueue=null,l=Wh(e,r,l,h),Jh(t),r=ff(),t!==null&&!Mi?(ju(t,e,m),ri(t,e,m)):(an&&r&&Lu(e),e.flags|=1,Di(t,e,l,m),e.child)}function Bd(t,e,l,r,h){if(bo(e),e.stateNode===null){var m=ki,B=l.contextType;typeof B=="object"&&B!==null&&(m=la(B)),m=new l(r,m),e.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_f,e.stateNode=m,m._reactInternals=e,m=e.stateNode,m.props=r,m.state=e.memoizedState,m.refs={},_a(e),B=l.contextType,m.context=typeof B=="object"&&B!==null?la(B):ki,m.state=e.memoizedState,B=l.getDerivedStateFromProps,typeof B=="function"&&(Sf(e,l,B,r),m.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(B=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),B!==m.state&&_f.enqueueReplaceState(m,m.state,null),zl(e,r,m,h),sa(),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){m=e.stateNode;var tt=e.memoizedProps,rt=yo(l,tt);m.props=rt;var vt=m.context,Ut=l.contextType;B=ki,typeof Ut=="object"&&Ut!==null&&(B=la(Ut));var kt=l.getDerivedStateFromProps;Ut=typeof kt=="function"||typeof m.getSnapshotBeforeUpdate=="function",tt=e.pendingProps!==tt,Ut||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(tt||vt!==B)&&Ad(e,m,r,B),vi=!1;var Dt=e.memoizedState;m.state=Dt,zl(e,r,m,h),sa(),vt=e.memoizedState,tt||Dt!==vt||vi?(typeof kt=="function"&&(Sf(e,l,kt,r),vt=e.memoizedState),(rt=vi||Td(e,l,rt,r,Dt,vt,B))?(Ut||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(e.flags|=4194308)):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=vt),m.props=r,m.state=vt,m.context=B,r=rt):(typeof m.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{m=e.stateNode,Bc(t,e),B=e.memoizedProps,Ut=yo(l,B),m.props=Ut,kt=e.pendingProps,Dt=m.context,vt=l.contextType,rt=ki,typeof vt=="object"&&vt!==null&&(rt=la(vt)),tt=l.getDerivedStateFromProps,(vt=typeof tt=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(B!==kt||Dt!==rt)&&Ad(e,m,r,rt),vi=!1,Dt=e.memoizedState,m.state=Dt,zl(e,r,m,h),sa();var Bt=e.memoizedState;B!==kt||Dt!==Bt||vi||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof tt=="function"&&(Sf(e,l,tt,r),Bt=e.memoizedState),(Ut=vi||Td(e,l,Ut,r,Dt,Bt,rt)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(vt||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,Bt,rt),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,Bt,rt)),typeof m.componentDidUpdate=="function"&&(e.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof m.componentDidUpdate!="function"||B===t.memoizedProps&&Dt===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&Dt===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Bt),m.props=r,m.state=Bt,m.context=rt,r=Ut):(typeof m.componentDidUpdate!="function"||B===t.memoizedProps&&Dt===t.memoizedState||(e.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&Dt===t.memoizedState||(e.flags|=1024),r=!1)}return m=r,$o(t,e),r=(e.flags&128)!==0,m||r?(m=e.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),e.flags|=1,t!==null&&r?(e.child=Ps(e,t.child,null,h),e.child=Ps(e,null,l,h)):Di(t,e,l,h),e.memoizedState=m.state,t=e.child):t=ri(t,e,h),t}function Of(t,e,l,r){return Vo(),e.flags|=256,Di(t,e,l,r),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Gi(t){return{baseLanes:t,cachePool:Ys()}}function Mc(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=wa),t}function zd(t,e,l){var r=e.pendingProps,h=!1,m=(e.flags&128)!==0,B;if((B=m)||(B=t!==null&&t.memoizedState===null?!1:(gi.current&2)!==0),B&&(h=!0,e.flags&=-129),B=(e.flags&32)!==0,e.flags&=-33,t===null){if(an){if(h?Ls(e):Bs(),an){var tt=Ui,rt;if(rt=tt){t:{for(rt=tt,tt=ol;rt.nodeType!==8;){if(!tt){tt=null;break t}if(rt=Ws(rt.nextSibling),rt===null){tt=null;break t}}tt=rt}tt!==null?(e.memoizedState={dehydrated:tt,treeContext:Ms!==null?{id:as,overflow:Ds}:null,retryLane:536870912},rt=fi(18,null,null,0),rt.stateNode=tt,rt.return=e,e.child=rt,aa=e,Ui=null,rt=!0):rt=!1}rt||oo(e)}if(tt=e.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return tt.data==="$!"?e.lanes=16:e.lanes=536870912,null;rs(e)}return tt=r.children,r=r.fallback,h?(Bs(),h=e.mode,tt=Pf({mode:"hidden",children:tt},h),r=Br(r,h,l,null),tt.return=e,r.return=e,tt.sibling=r,e.child=tt,h=e.child,h.memoizedState=Gi(l),h.childLanes=Mc(t,B,l),e.memoizedState=Mf,r):(Ls(e),Df(e,tt))}if(rt=t.memoizedState,rt!==null&&(tt=rt.dehydrated,tt!==null)){if(m)e.flags&256?(Ls(e),e.flags&=-257,e=Dc(t,e,l)):e.memoizedState!==null?(Bs(),e.child=t.child,e.flags|=128,e=null):(Bs(),h=r.fallback,tt=e.mode,r=Pf({mode:"visible",children:r.children},tt),h=Br(h,tt,l,null),h.flags|=2,r.return=e,h.return=e,r.sibling=h,e.child=r,Ps(e,t.child,null,l),r=e.child,r.memoizedState=Gi(l),r.childLanes=Mc(t,B,l),e.memoizedState=Mf,e=h);else if(Ls(e),tt.data==="$!"){if(B=tt.nextSibling&&tt.nextSibling.dataset,B)var vt=B.dgst;B=vt,r=Error(v(419)),r.stack="",r.digest=B,ls({value:r,source:null,stack:null}),e=Dc(t,e,l)}else if(Mi||Iu(t,e,l,!1),B=(l&t.childLanes)!==0,Mi||B){if(B=En,B!==null){if(r=l&-l,(r&42)!==0)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=(r&(B.suspendedLanes|l))!==0?0:r,r!==0&&r!==rt.retryLane)throw rt.retryLane=r,dn(t,r),_i(B,t,r),Za}tt.data==="$?"||tc(),e=Dc(t,e,l)}else tt.data==="$?"?(e.flags|=128,e.child=t.child,e=To.bind(null,t),tt._reactRetry=e,e=null):(t=rt.treeContext,Ui=Ws(tt.nextSibling),aa=e,an=!0,rl=null,ol=!1,t!==null&&(Ln[Ia++]=as,Ln[Ia++]=Ds,Ln[Ia++]=Ms,as=t.id,Ds=t.overflow,Ms=e),e=Df(e,r.children),e.flags|=4096);return e}return h?(Bs(),h=r.fallback,tt=e.mode,rt=t.child,vt=rt.sibling,r=Ca(rt,{mode:"hidden",children:r.children}),r.subtreeFlags=rt.subtreeFlags&31457280,vt!==null?h=Ca(vt,h):(h=Br(h,tt,l,null),h.flags|=2),h.return=e,r.return=e,r.sibling=h,e.child=r,r=h,h=e.child,tt=t.child.memoizedState,tt===null?tt=Gi(l):(rt=tt.cachePool,rt!==null?(vt=li._currentValue,rt=rt.parent!==vt?{parent:vt,pool:vt}:rt):rt=Ys(),tt={baseLanes:tt.baseLanes|l,cachePool:rt}),h.memoizedState=tt,h.childLanes=Mc(t,B,l),e.memoizedState=Mf,r):(Ls(e),l=t.child,t=l.sibling,l=Ca(l,{mode:"visible",children:r.children}),l.return=e,l.sibling=null,t!==null&&(B=e.deletions,B===null?(e.deletions=[t],e.flags|=16):B.push(t)),e.child=l,e.memoizedState=null,l)}function Df(t,e){return e=Pf({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pf(t,e){return Bf(t,e,0,null)}function Dc(t,e,l){return Ps(e,t.child,null,l),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pc(t,e,l){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qa(t.return,e,l)}function Ar(t,e,l,r,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:h}:(m.isBackwards=e,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=l,m.tailMode=h)}function vo(t,e,l){var r=e.pendingProps,h=r.revealOrder,m=r.tail;if(Di(t,e,r.children,l),r=gi.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pc(t,l,e);else if(t.tag===19)Pc(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(zt(gi,r),h){case"forwards":for(l=e.child,h=null;l!==null;)t=l.alternate,t!==null&&ko(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=e.child,e.child=null):(h=l.sibling,l.sibling=null),Ar(e,!1,h,l,m);break;case"backwards":for(l=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&ko(t)===null){e.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Ar(e,!0,l,null,m);break;case"together":Ar(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ri(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),Hl|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(Iu(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(v(153));if(e.child!==null){for(t=e.child,l=Ca(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=Ca(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Rf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function B0(t,e,l){switch(e.tag){case 3:he(e,e.stateNode.containerInfo),Nr(e,li,t.memoizedState.cache),Vo();break;case 27:case 5:De(e);break;case 4:he(e,e.stateNode.containerInfo);break;case 10:Nr(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ls(e),e.flags|=128,null):(l&e.child.childLanes)!==0?zd(t,e,l):(Ls(e),t=ri(t,e,l),t!==null?t.sibling:null);Ls(e);break;case 19:var h=(t.flags&128)!==0;if(r=(l&e.childLanes)!==0,r||(Iu(t,e,l,!1),r=(l&e.childLanes)!==0),h){if(r)return vo(t,e,l);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),zt(gi,gi.current),r)break;return null;case 22:case 23:return e.lanes=0,Rd(t,e,l);case 24:Nr(e,li,t.memoizedState.cache)}return ri(t,e,l)}function Vu(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)Mi=!0;else{if(!Rf(t,l)&&(e.flags&128)===0)return Mi=!1,B0(t,e,l);Mi=(t.flags&131072)!==0}else Mi=!1,an&&(e.flags&1048576)!==0&&lf(e,Ru,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,h=r._init;if(r=h(r._payload),e.type=r,typeof r=="function")ks(r)?(t=yo(r,t),e.tag=1,e=Bd(null,e,r,t,l)):(e.tag=0,e=Nf(null,e,r,t,l));else{if(r!=null){if(h=r.$$typeof,h===D){e.tag=11,e=wf(null,e,r,t,l);break t}else if(h===J){e.tag=14,e=Ef(null,e,r,t,l);break t}}throw e=nt(r)||r,Error(v(306,e,""))}}return e;case 0:return Nf(t,e,e.type,e.pendingProps,l);case 1:return r=e.type,h=yo(r,e.pendingProps),Bd(t,e,r,h,l);case 3:t:{if(he(e,e.stateNode.containerInfo),t===null)throw Error(v(387));var m=e.pendingProps;h=e.memoizedState,r=h.element,Bc(t,e),zl(e,m,null,l);var B=e.memoizedState;if(m=B.cache,Nr(e,li,m),m!==h.cache&&Rc(e,[li],l,!0),sa(),m=B.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:B.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=Of(t,e,m,l);break t}else if(m!==r){r=na(Error(v(424)),e),ls(r),e=Of(t,e,m,l);break t}else for(Ui=Ws(e.stateNode.containerInfo.firstChild),aa=e,an=!0,rl=null,ol=!0,l=Rs(e,null,m,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vo(),m===r){e=ri(t,e,l);break t}Di(t,e,m,l)}e=e.child}return e;case 26:return $o(t,e),t===null?(l=w1(e.type,null,e.pendingProps,null))?e.memoizedState=l:an||(l=e.type,t=e.pendingProps,r=qd(Se.current).createElement(l),r[Nn]=e,r[we]=t,Ta(r,l,t),Pn(r),e.stateNode=r):e.memoizedState=w1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return De(e),t===null&&an&&(r=e.stateNode=_1(e.type,e.pendingProps,Se.current),aa=e,ol=!0,Ui=Ws(r.firstChild)),r=e.pendingProps.children,t!==null||an?Di(t,e,r,l):e.child=Ps(e,null,r,l),$o(t,e),e.child;case 5:return t===null&&an&&((h=r=Ui)&&(r=Jg(r,e.type,e.pendingProps,ol),r!==null?(e.stateNode=r,aa=e,Ui=Ws(r.firstChild),ol=!1,h=!0):h=!1),h||oo(e)),De(e),h=e.type,m=e.pendingProps,B=t!==null?t.memoizedProps:null,r=m.children,I0(h,m)?r=null:B!==null&&I0(h,B)&&(e.flags|=32),e.memoizedState!==null&&(h=cf(t,e,M0,null,null,l),Ff._currentValue=h),$o(t,e),Di(t,e,r,l),e.child;case 6:return t===null&&an&&((t=l=Ui)&&(l=Wg(l,e.pendingProps,ol),l!==null?(e.stateNode=l,aa=e,Ui=null,t=!0):t=!1),t||oo(e)),null;case 13:return zd(t,e,l);case 4:return he(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,l):Di(t,e,r,l),e.child;case 11:return wf(t,e,e.type,e.pendingProps,l);case 7:return Di(t,e,e.pendingProps,l),e.child;case 8:return Di(t,e,e.pendingProps.children,l),e.child;case 12:return Di(t,e,e.pendingProps.children,l),e.child;case 10:return r=e.pendingProps,Nr(e,e.type,r.value),Di(t,e,r.children,l),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,bo(e),h=la(h),r=r(h),e.flags|=1,Di(t,e,r,l),e.child;case 14:return Ef(t,e,e.type,e.pendingProps,l);case 15:return Tf(t,e,e.type,e.pendingProps,l);case 19:return vo(t,e,l);case 22:return Rd(t,e,l);case 24:return bo(e),r=la(li),t===null?(h=Hu(),h===null&&(h=En,m=of(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=l),h=m),e.memoizedState={parent:r,cache:h},_a(e),Nr(e,li,h)):((t.lanes&l)!==0&&(Bc(t,e),zl(e,null,null,l),sa()),h=t.memoizedState,m=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),Nr(e,li,r)):(r=m.cache,Nr(e,li,r),r!==h.cache&&Rc(e,[li],l,!0))),Di(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(v(156,e.tag))}var tu=_t(null),fs=null,Bl=null;function Nr(t,e,l){zt(tu,e._currentValue),e._currentValue=l}function Hs(t){t._currentValue=tu.current,jt(tu)}function Qa(t,e,l){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===l)break;t=t.return}}function Rc(t,e,l,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var B=h.child;m=m.firstContext;t:for(;m!==null;){var tt=m;m=h;for(var rt=0;rt<e.length;rt++)if(tt.context===e[rt]){m.lanes|=l,tt=m.alternate,tt!==null&&(tt.lanes|=l),Qa(m.return,l,t),r||(B=null);break t}m=tt.next}}else if(h.tag===18){if(B=h.return,B===null)throw Error(v(341));B.lanes|=l,m=B.alternate,m!==null&&(m.lanes|=l),Qa(B,l,t),B=null}else B=h.child;if(B!==null)B.return=h;else for(B=h;B!==null;){if(B===t){B=null;break}if(h=B.sibling,h!==null){h.return=B.return,B=h;break}B=B.return}h=B}}function Iu(t,e,l,r){t=null;for(var h=e,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var B=h.alternate;if(B===null)throw Error(v(387));if(B=B.memoizedProps,B!==null){var tt=h.type;Fi(h.pendingProps.value,B.value)||(t!==null?t.push(tt):t=[tt])}}else if(h===Oe.current){if(B=h.alternate,B===null)throw Error(v(387));B.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ff):t=[Ff])}h=h.return}t!==null&&Rc(e,t,l,r),e.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!Fi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bo(t){fs=t,Bl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function la(t){return nu(fs,t)}function Lc(t,e){return fs===null&&bo(t),nu(t,e)}function nu(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Bl===null){if(t===null)throw Error(v(308));Bl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Bl=Bl.next=e;return l}var vi=!1;function _a(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(t,e,l){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ae&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=sl(t),ea(t,null,l),e}return Xe(t,r,e,l),sl(t)}function Or(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194176)!==0)){var r=e.lanes;r&=t.pendingLanes,l|=r,e.lanes=l,xs(t,l)}}function iu(t,e){var l=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var B={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?h=m=B:m=m.next=B,l=l.next}while(l!==null);m===null?h=m=e:m=m.next=e}else h=m=e;l={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var Ra=!1;function sa(){if(Ra){var t=Sr;if(t!==null)throw t}}function zl(t,e,l,r){Ra=!1;var h=t.updateQueue;vi=!1;var m=h.firstBaseUpdate,B=h.lastBaseUpdate,tt=h.shared.pending;if(tt!==null){h.shared.pending=null;var rt=tt,vt=rt.next;rt.next=null,B===null?m=vt:B.next=vt,B=rt;var Ut=t.alternate;Ut!==null&&(Ut=Ut.updateQueue,tt=Ut.lastBaseUpdate,tt!==B&&(tt===null?Ut.firstBaseUpdate=vt:tt.next=vt,Ut.lastBaseUpdate=rt))}if(m!==null){var kt=h.baseState;B=0,Ut=vt=rt=null,tt=m;do{var Dt=tt.lane&-536870913,Bt=Dt!==tt.lane;if(Bt?(pe&Dt)===Dt:(r&Dt)===Dt){Dt!==0&&Dt===fo&&(Ra=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var re=t,Me=tt;Dt=e;var xi=l;switch(Me.tag){case 1:if(re=Me.payload,typeof re=="function"){kt=re.call(xi,kt,Dt);break t}kt=re;break t;case 3:re.flags=re.flags&-65537|128;case 0:if(re=Me.payload,Dt=typeof re=="function"?re.call(xi,kt,Dt):re,Dt==null)break t;kt=I({},kt,Dt);break t;case 2:vi=!0}}Dt=tt.callback,Dt!==null&&(t.flags|=64,Bt&&(t.flags|=8192),Bt=h.callbacks,Bt===null?h.callbacks=[Dt]:Bt.push(Dt))}else Bt={lane:Dt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Ut===null?(vt=Ut=Bt,rt=kt):Ut=Ut.next=Bt,B|=Dt;if(tt=tt.next,tt===null){if(tt=h.shared.pending,tt===null)break;Bt=tt,tt=Bt.next,Bt.next=null,h.lastBaseUpdate=Bt,h.shared.pending=null}}while(!0);Ut===null&&(rt=kt),h.baseState=rt,h.firstBaseUpdate=vt,h.lastBaseUpdate=Ut,m===null&&(h.shared.lanes=0),Hl|=B,t.lanes=B,t.memoizedState=kt}}function hs(t,e){if(typeof t!="function")throw Error(v(191,t));t.call(e)}function ds(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)hs(l[t],e)}function oi(t,e){try{var l=e.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var h=r.next;l=h;do{if((l.tag&t)===t){r=void 0;var m=l.create,B=l.inst;r=m(),B.destroy=r}l=l.next}while(l!==h)}}catch(tt){Jt(e,e.return,tt)}}function ul(t,e,l){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var m=h.next;r=m;do{if((r.tag&t)===t){var B=r.inst,tt=B.destroy;if(tt!==void 0){B.destroy=void 0,h=e;var rt=l;try{tt()}catch(vt){Jt(h,rt,vt)}}}r=r.next}while(r!==m)}}catch(vt){Jt(e,e.return,vt)}}function js(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{ds(e,l)}catch(r){Jt(t,t.return,r)}}}function ku(t,e,l){l.props=yo(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(r){Jt(t,e,r)}}function ui(t,e){try{var l=t.ref;if(l!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=r;break;default:h=r}typeof l=="function"?t.refCleanup=l(h):l.current=h}}catch(m){Jt(t,e,m)}}function wn(t,e){var l=t.ref,r=t.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(h){Jt(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Jt(t,e,h)}else l.current=null}function ln(t){var e=t.type,l=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break t;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(h){Jt(t,t.return,h)}}function cl(t,e,l){try{var r=t.stateNode;Ig(r,t.type,l,e),r[we]=e}catch(h){Jt(t,t.return,h)}}function Yl(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Zu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function La(t,e,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?l.nodeType===8?l.parentNode.insertBefore(t,e):l.insertBefore(t,e):(l.nodeType===8?(e=l.parentNode,e.insertBefore(t,l)):(e=l,e.appendChild(t)),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=jd));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(La(t,e,l),t=t.sibling;t!==null;)La(t,e,l),t=t.sibling}function qs(t,e,l){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(qs(t,e,l),t=t.sibling;t!==null;)qs(t,e,l),t=t.sibling}var Ul=!1,Xn=!1,Mr=!1,zc=typeof WeakSet=="function"?WeakSet:Set,ci=null,Yc=!1;function au(t,e){if(t=t.containerInfo,F0=Qd,t=ns(t),ro(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var h=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var B=0,tt=-1,rt=-1,vt=0,Ut=0,kt=t,Dt=null;e:for(;;){for(var Bt;kt!==l||h!==0&&kt.nodeType!==3||(tt=B+h),kt!==m||r!==0&&kt.nodeType!==3||(rt=B+r),kt.nodeType===3&&(B+=kt.nodeValue.length),(Bt=kt.firstChild)!==null;)Dt=kt,kt=Bt;for(;;){if(kt===t)break e;if(Dt===l&&++vt===h&&(tt=B),Dt===m&&++Ut===r&&(rt=B),(Bt=kt.nextSibling)!==null)break;kt=Dt,Dt=kt.parentNode}kt=Bt}l=tt===-1||rt===-1?null:{start:tt,end:rt}}else l=null}l=l||{start:0,end:0}}else l=null;for(V0={focusedElem:t,selectionRange:l},Qd=!1,ci=e;ci!==null;)if(e=ci,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ci=t;else for(;ci!==null;){switch(e=ci,m=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,l=e,h=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var re=yo(l.type,h,l.elementType===l.type);t=r.getSnapshotBeforeUpdate(re,m),r.__reactInternalSnapshotBeforeUpdate=t}catch(Me){Jt(l,l.return,Me)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)Q0(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Q0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(v(163))}if(t=e.sibling,t!==null){t.return=e.return,ci=t;break}ci=e.return}return re=Yc,Yc=!1,re}function lu(t,e,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:ps(t,l),r&4&&oi(5,l);break;case 1:if(ps(t,l),r&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(tt){Jt(l,l.return,tt)}else{var h=yo(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(tt){Jt(l,l.return,tt)}}r&64&&js(l),r&512&&ui(l,l.return);break;case 3:if(ps(t,l),r&64&&(r=l.updateQueue,r!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{ds(r,t)}catch(tt){Jt(l,l.return,tt)}}break;case 26:ps(t,l),r&512&&ui(l,l.return);break;case 27:case 5:ps(t,l),e===null&&r&4&&ln(l),r&512&&ui(l,l.return);break;case 12:ps(t,l);break;case 13:ps(t,l),r&4&&Yd(t,l);break;case 22:if(h=l.memoizedState!==null||Ul,!h){e=e!==null&&e.memoizedState!==null||Xn;var m=Ul,B=Xn;Ul=h,(Xn=e)&&!B?Xl(t,l,(l.subtreeFlags&8772)!==0):ps(t,l),Ul=m,Xn=B}r&512&&(l.memoizedProps.mode==="manual"?ui(l,l.return):wn(l,l.return));break;default:ps(t,l)}}function Uc(t){var e=t.alternate;e!==null&&(t.alternate=null,Uc(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ji(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Hn=null,Xi=!1;function ra(t,e,l){for(l=l.child;l!==null;)Gc(t,e,l),l=l.sibling}function Gc(t,e,l){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Pe,l)}catch{}switch(l.tag){case 26:Xn||wn(l,e),ra(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xn||wn(l,e);var r=Hn,h=Xi;for(Hn=l.stateNode,ra(t,e,l),l=l.stateNode,e=l.attributes;e.length;)l.removeAttributeNode(e[0]);ji(l),Hn=r,Xi=h;break;case 5:Xn||wn(l,e);case 6:h=Hn;var m=Xi;if(Hn=null,ra(t,e,l),Hn=h,Xi=m,Hn!==null)if(Xi)try{t=Hn,r=l.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)}catch(B){Jt(l,e,B)}else try{Hn.removeChild(l.stateNode)}catch(B){Jt(l,e,B)}break;case 18:Hn!==null&&(Xi?(e=Hn,l=l.stateNode,e.nodeType===8?Z0(e.parentNode,l):e.nodeType===1&&Z0(e,l),Zf(e)):Z0(Hn,l.stateNode));break;case 4:r=Hn,h=Xi,Hn=l.stateNode.containerInfo,Xi=!0,ra(t,e,l),Hn=r,Xi=h;break;case 0:case 11:case 14:case 15:Xn||ul(2,l,e),Xn||ul(4,l,e),ra(t,e,l);break;case 1:Xn||(wn(l,e),r=l.stateNode,typeof r.componentWillUnmount=="function"&&ku(l,e,r)),ra(t,e,l);break;case 21:ra(t,e,l);break;case 22:Xn||wn(l,e),Xn=(r=Xn)||l.memoizedState!==null,ra(t,e,l),Xn=r;break;default:ra(t,e,l)}}function Yd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zf(t)}catch(l){Jt(e,e.return,l)}}function Qu(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zc),e;default:throw Error(v(435,t.tag))}}function Ku(t,e){var l=Qu(t);e.forEach(function(r){var h=Mt.bind(null,t,r);l.has(r)||(l.add(r),r.then(h,h))})}function xa(t,e){var l=e.deletions;if(l!==null)for(var r=0;r<l.length;r++){var h=l[r],m=t,B=e,tt=B;t:for(;tt!==null;){switch(tt.tag){case 27:case 5:Hn=tt.stateNode,Xi=!1;break t;case 3:Hn=tt.stateNode.containerInfo,Xi=!0;break t;case 4:Hn=tt.stateNode.containerInfo,Xi=!0;break t}tt=tt.return}if(Hn===null)throw Error(v(160));Gc(m,B,h),Hn=null,Xi=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)So(e,t),e=e.sibling}var oa=null;function So(t,e){var l=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xa(e,t),ua(t),r&4&&(ul(3,t,t.return),oi(3,t),ul(5,t,t.return));break;case 1:xa(e,t),ua(t),r&512&&(Xn||l===null||wn(l,l.return)),r&64&&Ul&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var h=oa;if(xa(e,t),ua(t),r&512&&(Xn||l===null||wn(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=t.memoizedState,l===null)if(r===null)if(t.stateNode===null){t:{r=t.type,l=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Na]||m[Nn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(r),h.head.insertBefore(m,h.querySelector("head > title"))),Ta(m,r,l),m[Nn]=t,Pn(m),r=m;break t;case"link":var B=A1("link","href",h).get(r+(l.href||""));if(B){for(var tt=0;tt<B.length;tt++)if(m=B[tt],m.getAttribute("href")===(l.href==null?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){B.splice(tt,1);break e}}m=h.createElement(r),Ta(m,r,l),h.head.appendChild(m);break;case"meta":if(B=A1("meta","content",h).get(r+(l.content||""))){for(tt=0;tt<B.length;tt++)if(m=B[tt],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){B.splice(tt,1);break e}}m=h.createElement(r),Ta(m,r,l),h.head.appendChild(m);break;default:throw Error(v(468,r))}m[Nn]=t,Pn(m),r=m}t.stateNode=r}else N1(h,t.type,t.stateNode);else t.stateNode=T1(h,r,t.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?N1(h,t.type,t.stateNode):T1(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cl(t,t.memoizedProps,l.memoizedProps)}break;case 27:if(r&4&&t.alternate===null){h=t.stateNode,m=t.memoizedProps;try{for(var rt=h.firstChild;rt;){var vt=rt.nextSibling,Ut=rt.nodeName;rt[Na]||Ut==="HEAD"||Ut==="BODY"||Ut==="SCRIPT"||Ut==="STYLE"||Ut==="LINK"&&rt.rel.toLowerCase()==="stylesheet"||h.removeChild(rt),rt=vt}for(var kt=t.type,Dt=h.attributes;Dt.length;)h.removeAttributeNode(Dt[0]);Ta(h,kt,m),h[Nn]=t,h[we]=m}catch(re){Jt(t,t.return,re)}}case 5:if(xa(e,t),ua(t),r&512&&(Xn||l===null||wn(l,l.return)),t.flags&32){h=t.stateNode;try{ot(h,"")}catch(re){Jt(t,t.return,re)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,cl(t,h,l!==null?l.memoizedProps:h)),r&1024&&(Mr=!0);break;case 6:if(xa(e,t),ua(t),r&4){if(t.stateNode===null)throw Error(v(162));r=t.memoizedProps,l=t.stateNode;try{l.nodeValue=r}catch(re){Jt(t,t.return,re)}}break;case 3:if(Id=null,h=oa,oa=Fd(e.containerInfo),xa(e,t),oa=h,ua(t),r&4&&l!==null&&l.memoizedState.isDehydrated)try{Zf(e.containerInfo)}catch(re){Jt(t,t.return,re)}Mr&&(Mr=!1,Dr(t));break;case 4:r=oa,oa=Fd(t.stateNode.containerInfo),xa(e,t),ua(t),oa=r;break;case 12:xa(e,t),ua(t);break;case 13:xa(e,t),ua(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ze=cn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ku(t,r)));break;case 22:if(r&512&&(Xn||l===null||wn(l,l.return)),rt=t.memoizedState!==null,vt=l!==null&&l.memoizedState!==null,Ut=Ul,kt=Xn,Ul=Ut||rt,Xn=kt||vt,xa(e,t),Xn=kt,Ul=Ut,ua(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=rt?e._visibility&-2:e._visibility|1,rt&&(e=Ul||Xn,l===null||vt||e||Gl(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(l=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(l===null){vt=l=e;try{if(h=vt.stateNode,rt)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{B=vt.stateNode,tt=vt.memoizedProps.style;var Bt=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;B.style.display=Bt==null||typeof Bt=="boolean"?"":(""+Bt).trim()}}catch(re){Jt(vt,vt.return,re)}}}else if(e.tag===6){if(l===null){vt=e;try{vt.stateNode.nodeValue=rt?"":vt.memoizedProps}catch(re){Jt(vt,vt.return,re)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,Ku(t,l))));break;case 19:xa(e,t),ua(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ku(t,r)));break;case 21:break;default:xa(e,t),ua(t)}}function ua(t){var e=t.flags;if(e&2){try{if(t.tag!==27){t:{for(var l=t.return;l!==null;){if(Yl(l)){var r=l;break t}l=l.return}throw Error(v(160))}switch(r.tag){case 27:var h=r.stateNode,m=Zu(t);qs(t,m,h);break;case 5:var B=r.stateNode;r.flags&32&&(ot(B,""),r.flags&=-33);var tt=Zu(t);qs(t,tt,B);break;case 3:case 4:var rt=r.stateNode.containerInfo,vt=Zu(t);La(t,vt,rt);break;default:throw Error(v(161))}}}catch(Ut){Jt(t,t.return,Ut)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dr(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Dr(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ps(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)lu(t,e.alternate,e),e=e.sibling}function Gl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ul(4,e,e.return),Gl(e);break;case 1:wn(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&ku(e,e.return,l),Gl(e);break;case 26:case 27:case 5:wn(e,e.return),Gl(e);break;case 22:wn(e,e.return),e.memoizedState===null&&Gl(e);break;default:Gl(e)}t=t.sibling}}function Xl(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,m=e,B=m.flags;switch(m.tag){case 0:case 11:case 15:Xl(h,m,l),oi(4,m);break;case 1:if(Xl(h,m,l),r=m,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(vt){Jt(r,r.return,vt)}if(r=m,h=r.updateQueue,h!==null){var tt=r.stateNode;try{var rt=h.shared.hiddenCallbacks;if(rt!==null)for(h.shared.hiddenCallbacks=null,h=0;h<rt.length;h++)hs(rt[h],tt)}catch(vt){Jt(r,r.return,vt)}}l&&B&64&&js(m),ui(m,m.return);break;case 26:case 27:case 5:Xl(h,m,l),l&&r===null&&B&4&&ln(m),ui(m,m.return);break;case 12:Xl(h,m,l);break;case 13:Xl(h,m,l),l&&B&4&&Yd(h,m);break;case 22:m.memoizedState===null&&Xl(h,m,l),ui(m,m.return);break;default:Xl(h,m,l)}e=e.sibling}}function Ba(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&vr(l))}function fl(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vr(t))}function Bn(t,e,l,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fs(t,e,l,r),e=e.sibling}function Fs(t,e,l,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:Bn(t,e,l,r),h&2048&&oi(9,e);break;case 3:Bn(t,e,l,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vr(t)));break;case 12:if(h&2048){Bn(t,e,l,r),t=e.stateNode;try{var m=e.memoizedProps,B=m.id,tt=m.onPostCommit;typeof tt=="function"&&tt(B,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(rt){Jt(e,e.return,rt)}}else Bn(t,e,l,r);break;case 23:break;case 22:m=e.stateNode,e.memoizedState!==null?m._visibility&4?Bn(t,e,l,r):rn(t,e):m._visibility&4?Bn(t,e,l,r):(m._visibility|=4,Te(t,e,l,r,(e.subtreeFlags&10256)!==0)),h&2048&&Ba(e.alternate,e);break;case 24:Bn(t,e,l,r),h&2048&&fl(e.alternate,e);break;default:Bn(t,e,l,r)}}function Te(t,e,l,r,h){for(h=h&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var m=t,B=e,tt=l,rt=r,vt=B.flags;switch(B.tag){case 0:case 11:case 15:Te(m,B,tt,rt,h),oi(8,B);break;case 23:break;case 22:var Ut=B.stateNode;B.memoizedState!==null?Ut._visibility&4?Te(m,B,tt,rt,h):rn(m,B):(Ut._visibility|=4,Te(m,B,tt,rt,h)),h&&vt&2048&&Ba(B.alternate,B);break;case 24:Te(m,B,tt,rt,h),h&&vt&2048&&fl(B.alternate,B);break;default:Te(m,B,tt,rt,h)}e=e.sibling}}function rn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,r=e,h=r.flags;switch(r.tag){case 22:rn(l,r),h&2048&&Ba(r.alternate,r);break;case 24:rn(l,r),h&2048&&fl(r.alternate,r);break;default:rn(l,r)}e=e.sibling}}var In=8192;function Vs(t){if(t.subtreeFlags&In)for(t=t.child;t!==null;)_o(t),t=t.sibling}function _o(t){switch(t.tag){case 26:Vs(t),t.flags&In&&t.memoizedState!==null&&fy(oa,t.memoizedState,t.memoizedProps);break;case 5:Vs(t);break;case 3:case 4:var e=oa;oa=Fd(t.stateNode.containerInfo),Vs(t),oa=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=In,In=16777216,Vs(t),In=e):Vs(t));break;default:Vs(t)}}function Pr(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Rr(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var r=e[l];ci=r,Ud(r,t)}Pr(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)su(t),t=t.sibling}function su(t){switch(t.tag){case 0:case 11:case 15:Rr(t),t.flags&2048&&ul(9,t,t.return);break;case 3:Rr(t);break;case 12:Rr(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Is(t)):Rr(t);break;default:Rr(t)}}function Is(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var r=e[l];ci=r,Ud(r,t)}Pr(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ul(8,e,e.return),Is(e);break;case 22:l=e.stateNode,l._visibility&4&&(l._visibility&=-5,Is(e));break;default:Is(e)}t=t.sibling}}function Ud(t,e){for(;ci!==null;){var l=ci;switch(l.tag){case 0:case 11:case 15:ul(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:vr(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,ci=r;else t:for(l=t;ci!==null;){r=ci;var h=r.sibling,m=r.return;if(Uc(r),r===l){ci=null;break t}if(h!==null){h.return=m,ci=h;break t}ci=m}}}function Lf(t,e,l,r){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,l,r){return new Lf(t,e,l,r)}function ks(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ca(t,e){var l=t.alternate;return l===null?(l=fi(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&31457280,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Lr(t,e){t.flags&=31457282;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ru(t,e,l,r,h,m){var B=0;if(r=t,typeof t=="function")ks(t)&&(B=1);else if(typeof t=="string")B=uy(t,l,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return Br(l.children,h,m,e);case N:B=8,h|=24;break;case z:return t=fi(12,l,e,h|2),t.elementType=z,t.lanes=m,t;case G:return t=fi(13,l,e,h),t.elementType=G,t.lanes=m,t;case U:return t=fi(19,l,e,h),t.elementType=U,t.lanes=m,t;case T:return Bf(l,h,m,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case P:B=10;break t;case X:B=9;break t;case D:B=11;break t;case J:B=14;break t;case E:B=16,r=null;break t}B=29,l=Error(v(130,t===null?"null":typeof t,"")),r=null}return e=fi(B,l,e,h),e.elementType=t,e.type=r,e.lanes=m,e}function Br(t,e,l,r){return t=fi(7,t,r,e),t.lanes=l,t}function Bf(t,e,l,r){t=fi(22,t,r,e),t.elementType=T,t.lanes=l;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(v(456));if((h._pendingVisibility&2)===0){var B=dn(m,2);B!==null&&(h._pendingVisibility|=2,_i(B,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(v(456));if((h._pendingVisibility&2)!==0){var B=dn(m,2);B!==null&&(h._pendingVisibility&=-3,_i(B,m,2))}}};return t.stateNode=h,t}function bi(t,e,l){return t=fi(6,t,null,e),t.lanes=l,t}function Ju(t,e,l){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hl(t){t.flags|=4}function zr(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!O1(e)){if(e=Da.current,e!==null&&((pe&4194176)===pe?ss!==null:(pe&62914560)!==pe&&(pe&536870912)===0||e!==ss))throw Io=gc,sf;t.flags|=8192}}function dl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Un():536870912,t.lanes|=e,gs|=e)}function Wu(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,r=0;if(e)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,r|=h.subtreeFlags&31457280,r|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=l,e}function z0(t,e,l){var r=e.pendingProps;switch(dr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Jn(e),null;case 3:return l=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Hs(li),xn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Fo(e)?hl(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,rl!==null&&(yl(rl),rl=null))),Jn(e),null;case 26:return l=e.memoizedState,t===null?(hl(e),l!==null?(Jn(e),zr(e,l)):(Jn(e),e.flags&=-16777217)):l?l!==t.memoizedState?(hl(e),Jn(e),zr(e,l)):(Jn(e),e.flags&=-16777217):(t.memoizedProps!==r&&hl(e),Jn(e),e.flags&=-16777217),null;case 27:un(e),l=Se.current;var h=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&hl(e);else{if(!r){if(e.stateNode===null)throw Error(v(166));return Jn(e),null}t=te.current,Fo(e)?Ih(e):(t=_1(h,r,l),e.stateNode=t,hl(e))}return Jn(e),null;case 5:if(un(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&hl(e);else{if(!r){if(e.stateNode===null)throw Error(v(166));return Jn(e),null}if(t=te.current,Fo(e))Ih(e);else{switch(h=qd(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?h.createElement(l,{is:r.is}):h.createElement(l)}}t[Nn]=e,t[we]=r;t:for(h=e.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}e.stateNode=t;t:switch(Ta(t,l,r),l){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&hl(e)}}return Jn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&hl(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(v(166));if(t=Se.current,Fo(e)){if(t=e.stateNode,l=e.memoizedProps,r=null,h=aa,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[Nn]=e,t=!!(t.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||m1(t.nodeValue,l)),t||oo(e)}else t=qd(t).createTextNode(r),t[Nn]=e,e.stateNode=t}return Jn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(v(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(v(317));h[Nn]=e}else Vo(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Jn(e),h=!1}else rl!==null&&(yl(rl),rl=null),h=!0;if(!h)return e.flags&256?(rs(e),e):(rs(e),null)}if(rs(e),(e.flags&128)!==0)return e.lanes=l,e;if(l=r!==null,t=t!==null&&t.memoizedState!==null,l){r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool);var m=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==h&&(r.flags|=2048)}return l!==t&&l&&(e.child.flags|=8192),dl(e,e.updateQueue),Jn(e),null;case 4:return xn(),t===null&&H0(e.stateNode.containerInfo),Jn(e),null;case 10:return Hs(e.type),Jn(e),null;case 19:if(jt(gi),h=e.memoizedState,h===null)return Jn(e),null;if(r=(e.flags&128)!==0,m=h.rendering,m===null)if(r)Wu(h,!1);else{if(jn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(m=ko(t),m!==null){for(e.flags|=128,Wu(h,!1),t=m.updateQueue,e.updateQueue=t,dl(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)Lr(l,t),l=l.sibling;return zt(gi,gi.current&1|2),e.child}t=t.sibling}h.tail!==null&&cn()>qe&&(e.flags|=128,r=!0,Wu(h,!1),e.lanes=4194304)}else{if(!r)if(t=ko(m),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,dl(e,t),Wu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!an)return Jn(e),null}else 2*cn()-h.renderingStartTime>qe&&l!==536870912&&(e.flags|=128,r=!0,Wu(h,!1),e.lanes=4194304);h.isBackwards?(m.sibling=e.child,e.child=m):(t=h.last,t!==null?t.sibling=m:e.child=m,h.last=m)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=cn(),e.sibling=null,t=gi.current,zt(gi,r?t&1|2:t&1),e):(Jn(e),null);case 22:case 23:return rs(e),Xu(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(l&536870912)!==0&&(e.flags&128)===0&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),l=e.updateQueue,l!==null&&dl(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==l&&(e.flags|=2048),t!==null&&jt(zs),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Hs(li),Jn(e),null;case 25:return null}throw Error(v(156,e.tag))}function ti(t,e){switch(dr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(li),xn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return un(e),null;case 13:if(rs(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(v(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(gi),null;case 4:return xn(),null;case 10:return Hs(e.type),null;case 22:case 23:return rs(e),Xu(),t!==null&&jt(zs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Hs(li),null;case 25:return null;default:return null}}function zf(t,e){switch(dr(e),e.tag){case 3:Hs(li),xn();break;case 26:case 27:case 5:un(e);break;case 4:xn();break;case 13:rs(e);break;case 19:jt(gi);break;case 10:Hs(e.type);break;case 22:case 23:rs(e),Xu(),t!==null&&jt(zs);break;case 24:Hs(li)}}var xo={getCacheForType:function(t){var e=la(li),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l}},Zs=typeof WeakMap=="function"?WeakMap:Map,Ae=0,En=null,Ue=null,pe=0,Mn=0,on=null,hi=!1,ca=!1,Yr=!1,Qs=0,jn=0,Hl=0,ms=0,ou=0,wa=0,gs=0,$u=null,je=null,Tn=!1,ze=0,qe=1/0,Sn=null,Si=null,pl=!1,ml=null,Co=0,jl=0,kn=null,gl=0,Ks=null;function Ea(){if((Ae&2)!==0&&pe!==0)return pe&-pe;if(k.T!==null){var t=fo;return t!==0?t:Y0()}return Fr()}function Wa(){wa===0&&(wa=(pe&536870912)===0||an?El():536870912);var t=Da.current;return t!==null&&(t.flags|=32),wa}function _i(t,e,l){(t===En&&Mn===2||t.cancelPendingCommit!==null)&&(Js(t,0),$a(t,pe,wa,!1)),il(t,l),((Ae&2)===0||t!==En)&&(t===En&&((Ae&2)===0&&(ms|=l),jn===4&&$a(t,pe,wa,!1)),Dn(t))}function uu(t,e,l){if((Ae&6)!==0)throw Error(v(327));var r=!l&&(e&60)===0&&(e&t.expiredLanes)===0||wl(t,e),h=r?n(t,e):Eo(t,e,!0),m=r;do{if(h===0){ca&&!r&&$a(t,e,0,!1);break}else if(h===6)$a(t,e,0,!hi);else{if(l=t.current.alternate,m&&!Yf(l)){h=Eo(t,e,!1),m=!1;continue}if(h===2){if(m=e,t.errorRecoveryDisabledLanes&m)var B=0;else B=t.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){e=B;t:{var tt=t;h=$u;var rt=tt.current.memoizedState.isDehydrated;if(rt&&(Js(tt,B).flags|=256),B=Eo(tt,B,!1),B!==2){if(Yr&&!rt){tt.errorRecoveryDisabledLanes|=m,ms|=m,h=4;break t}m=je,je=h,m!==null&&yl(m)}h=B}if(m=!1,h!==2)continue}}if(h===1){Js(t,0),$a(t,e,0,!0);break}t:{switch(r=t,h){case 0:case 1:throw Error(v(345));case 4:if((e&4194176)===e){$a(r,e,wa,!hi);break t}break;case 2:je=null;break;case 3:case 5:break;default:throw Error(v(329))}if(r.finishedWork=l,r.finishedLanes=e,(e&62914560)===e&&(m=ze+300-cn(),10<m)){if($a(r,e,wa,!hi),ma(r,0)!==0)break t;r.timeoutHandle=v1(Xc.bind(null,r,l,je,Sn,Tn,e,wa,ms,gs,hi,2,-0,0),m);break t}Xc(r,l,je,Sn,Tn,e,wa,ms,gs,hi,0,-0,0)}}break}while(!0);Dn(t)}function yl(t){je===null?je=t:je.push.apply(je,t)}function Xc(t,e,l,r,h,m,B,tt,rt,vt,Ut,kt,Dt){var Bt=e.subtreeFlags;if((Bt&8192||(Bt&16785408)===16785408)&&(qf={stylesheets:null,count:0,unsuspend:cy},_o(e),e=hy(),e!==null)){t.cancelPendingCommit=e(ct.bind(null,t,l,r,h,B,tt,rt,1,kt,Dt)),$a(t,m,B,!vt);return}ct(t,l,r,h,B,tt,rt,Ut,kt,Dt)}function Yf(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var h=l[r],m=h.getSnapshot;h=h.value;try{if(!Fi(m(),h))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $a(t,e,l,r){e&=~ou,e&=~ms,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var m=31-Qn(h),B=1<<m;r[m]=-1,h&=~B}l!==0&&tr(t,l,e)}function wo(){return(Ae&6)===0?(ke(0),!1):!0}function ys(){if(Ue!==null){if(Mn===0)var t=Ue.return;else t=Ue,Bl=fs=null,Sc(t),gr=null,Yu=0,t=Ue;for(;t!==null;)zf(t.alternate,t),t=t.return;Ue=null}}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Zg(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),ys(),En=t,Ue=l=Ca(t.current,null),pe=e,Mn=0,on=null,hi=!1,ca=wl(t,e),Yr=!1,gs=wa=ou=ms=Hl=jn=0,je=$u=null,Tn=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-Qn(r),m=1<<h;e|=t[h],r&=~m}return Qs=e,Fn(),l}function Ur(t,e){Be=null,k.H=cs,e===pr?(e=pn(),Mn=3):e===sf?(e=pn(),Mn=4):Mn=e===Za?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,on=e,Ue===null&&(jn=1,Oc(t,na(e,t.current)))}function cu(){var t=k.H;return k.H=cs,t===null?cs:t}function Hc(){var t=k.A;return k.A=xo,t}function tc(){jn=4,hi||(pe&4194176)!==pe&&Da.current!==null||(ca=!0),(Hl&134217727)===0&&(ms&134217727)===0||En===null||$a(En,pe,wa,!1)}function Eo(t,e,l){var r=Ae;Ae|=2;var h=cu(),m=Hc();(En!==t||pe!==e)&&(Sn=null,Js(t,e)),e=!1;var B=jn;t:do try{if(Mn!==0&&Ue!==null){var tt=Ue,rt=on;switch(Mn){case 8:ys(),B=6;break t;case 3:case 2:case 6:Da.current===null&&(e=!0);var vt=Mn;if(Mn=0,on=null,y(t,tt,rt,vt),l&&ca){B=0;break t}break;default:vt=Mn,Mn=0,on=null,y(t,tt,rt,vt)}}Uf(),B=jn;break}catch(Ut){Ur(t,Ut)}while(!0);return e&&t.shellSuspendCounter++,Bl=fs=null,Ae=r,k.H=h,k.A=m,Ue===null&&(En=null,pe=0,Fn()),B}function Uf(){for(;Ue!==null;)c(Ue)}function n(t,e){var l=Ae;Ae|=2;var r=cu(),h=Hc();En!==t||pe!==e?(Sn=null,qe=cn()+500,Js(t,e)):ca=wl(t,e);t:do try{if(Mn!==0&&Ue!==null){e=Ue;var m=on;e:switch(Mn){case 1:Mn=0,on=null,y(t,e,m,1);break;case 2:if(Zh(m)){Mn=0,on=null,d(e);break}e=function(){Mn===2&&En===t&&(Mn=7),Dn(t)},m.then(e,e);break t;case 3:Mn=7;break t;case 4:Mn=5;break t;case 7:Zh(m)?(Mn=0,on=null,d(e)):(Mn=0,on=null,y(t,e,m,7));break;case 5:var B=null;switch(Ue.tag){case 26:B=Ue.memoizedState;case 5:case 27:var tt=Ue;if(!B||O1(B)){Mn=0,on=null;var rt=tt.sibling;if(rt!==null)Ue=rt;else{var vt=tt.return;vt!==null?(Ue=vt,C(vt)):Ue=null}break e}}Mn=0,on=null,y(t,e,m,5);break;case 6:Mn=0,on=null,y(t,e,m,6);break;case 8:ys(),jn=6;break t;default:throw Error(v(462))}}i();break}catch(Ut){Ur(t,Ut)}while(!0);return Bl=fs=null,k.H=r,k.A=h,Ae=l,Ue!==null?0:(En=null,pe=0,Fn(),jn)}function i(){for(;Ue!==null&&!en();)c(Ue)}function c(t){var e=Vu(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,e===null?C(t):Ue=e}function d(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Ld(l,e,e.pendingProps,e.type,void 0,pe);break;case 11:e=Ld(l,e,e.pendingProps,e.type.render,e.ref,pe);break;case 5:Sc(e);default:zf(l,e),e=Ue=Lr(e,Qs),e=Vu(l,e,Qs)}t.memoizedProps=t.pendingProps,e===null?C(t):Ue=e}function y(t,e,l,r){Bl=fs=null,Sc(e),gr=null,Yu=0;var h=e.return;try{if(L0(t,h,e,l,pe)){jn=1,Oc(t,na(l,t.current)),Ue=null;return}}catch(m){if(h!==null)throw Ue=h,m;jn=1,Oc(t,na(l,t.current)),Ue=null;return}e.flags&32768?(an||r===1?t=!0:ca||(pe&536870912)!==0?t=!1:(hi=t=!0,(r===2||r===3||r===6)&&(r=Da.current,r!==null&&r.tag===13&&(r.flags|=16384))),et(e,t)):C(e)}function C(t){var e=t;do{if((e.flags&32768)!==0){et(e,hi);return}t=e.return;var l=z0(e.alternate,e,Qs);if(l!==null){Ue=l;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);jn===0&&(jn=5)}function et(t,e){do{var l=ti(t.alternate,t);if(l!==null){l.flags&=32767,Ue=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=l}while(t!==null);jn=6,Ue=null}function ct(t,e,l,r,h,m,B,tt,rt,vt){var Ut=k.T,kt=Tt.p;try{Tt.p=2,k.T=null,Ct(t,e,l,r,kt,h,m,B,tt,rt,vt)}finally{k.T=Ut,Tt.p=kt}}function Ct(t,e,l,r,h,m,B,tt){do Wt();while(ml!==null);if((Ae&6)!==0)throw Error(v(327));var rt=t.finishedWork;if(r=t.finishedLanes,rt===null)return null;if(t.finishedWork=null,t.finishedLanes=0,rt===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var vt=rt.lanes|rt.childLanes;if(vt|=ta,qr(t,r,vt,m,B,tt),t===En&&(Ue=En=null,pe=0),(rt.subtreeFlags&10256)===0&&(rt.flags&10256)===0||pl||(pl=!0,jl=vt,kn=l,St(ei,function(){return Wt(),null})),l=(rt.flags&15990)!==0,(rt.subtreeFlags&15990)!==0||l?(l=k.T,k.T=null,m=Tt.p,Tt.p=2,B=Ae,Ae|=4,au(t,rt),So(rt,t),Pu(V0,t.containerInfo),Qd=!!F0,V0=F0=null,t.current=rt,lu(t,rt.alternate,rt),Yn(),Ae=B,Tt.p=m,k.T=l):t.current=rt,pl?(pl=!1,ml=t,Co=r):Yt(t,vt),vt=t.pendingLanes,vt===0&&(Si=null),Aa(rt.stateNode),Dn(t),e!==null)for(h=t.onRecoverableError,rt=0;rt<e.length;rt++)vt=e[rt],h(vt.value,{componentStack:vt.stack});return(Co&3)!==0&&Wt(),vt=t.pendingLanes,(r&4194218)!==0&&(vt&42)!==0?t===Ks?gl++:(gl=0,Ks=t):gl=0,ke(0),null}function Yt(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vr(e)))}function Wt(){if(ml!==null){var t=ml,e=jl;jl=0;var l=Xa(Co),r=k.T,h=Tt.p;try{if(Tt.p=32>l?32:l,k.T=null,ml===null)var m=!1;else{l=kn,kn=null;var B=ml,tt=Co;if(ml=null,Co=0,(Ae&6)!==0)throw Error(v(331));var rt=Ae;if(Ae|=4,su(B.current),Fs(B,B.current,tt,l),Ae=rt,ke(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Pe,B)}catch{}m=!0}return m}finally{Tt.p=h,k.T=r,Yt(t,e)}}return!1}function ie(t,e,l){e=na(l,e),e=xf(t.stateNode,e,2),t=Ja(t,e,2),t!==null&&(il(t,2),Dn(t))}function Jt(t,e,l){if(t.tag===3)ie(t,t,l);else for(;e!==null;){if(e.tag===3){ie(e,t,l);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=na(l,t),l=Cf(2),r=Ja(e,l,2),r!==null&&(Pd(l,r,e,t),il(r,2),Dn(r));break}}e=e.return}}function Ne(t,e,l){var r=t.pingCache;if(r===null){r=t.pingCache=new Zs;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(l)||(Yr=!0,h.add(l),t=vl.bind(null,t,e,l),e.then(t,t))}function vl(t,e,l){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,En===t&&(pe&l)===l&&(jn===4||jn===3&&(pe&62914560)===pe&&300>cn()-ze?(Ae&2)===0&&Js(t,0):ou|=l,gs===pe&&(gs=0)),Dn(t)}function fu(t,e){e===0&&(e=Un()),t=dn(t,e),t!==null&&(il(t,e),Dn(t))}function To(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),fu(t,l)}function Mt(t,e){var l=0;switch(t.tag){case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(v(314))}r!==null&&r.delete(e),fu(t,l)}function St(t,e){return tn(t,e)}var Pt=null,Kt=null,se=!1,An=!1,ge=!1,Ge=0;function Dn(t){t!==Kt&&t.next===null&&(Kt===null?Pt=Kt=t:Kt=Kt.next=t),An=!0,se||(se=!0,Gg(Gr))}function ke(t,e){if(!ge&&An){ge=!0;do for(var l=!1,r=Pt;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var m=0;else{var B=r.suspendedLanes,tt=r.pingedLanes;m=(1<<31-Qn(42|t)+1)-1,m&=h&~(B&~tt),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(l=!0,o1(r,m))}else m=pe,m=ma(r,r===En?m:0),(m&3)===0||wl(r,m)||(l=!0,o1(r,m));r=r.next}while(l);ge=!1}}function Gr(){An=se=!1;var t=0;Ge!==0&&(kg()&&(t=Ge),Ge=0);for(var e=cn(),l=null,r=Pt;r!==null;){var h=r.next,m=Gd(r,e);m===0?(r.next=null,l===null?Pt=h:l.next=h,h===null&&(Kt=l)):(l=r,(t!==0||(m&3)!==0)&&(An=!0)),r=h}ke(t)}function Gd(t,e){for(var l=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var B=31-Qn(m),tt=1<<B,rt=h[B];rt===-1?((tt&l)===0||(tt&r)!==0)&&(h[B]=Ga(tt,e)):rt<=e&&(t.expiredLanes|=tt),m&=~tt}if(e=En,l=pe,l=ma(t,t===e?l:0),r=t.callbackNode,l===0||t===e&&Mn===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&wi(r),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||wl(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(r!==null&&wi(r),Xa(l)){case 2:case 8:l=Ei;break;case 32:l=ei;break;case 268435456:l=zi;break;default:l=ei}return r=r1.bind(null,t),l=tn(l,r),t.callbackPriority=e,t.callbackNode=l,e}return r!==null&&r!==null&&wi(r),t.callbackPriority=2,t.callbackNode=null,2}function r1(t,e){var l=t.callbackNode;if(Wt()&&t.callbackNode!==l)return null;var r=pe;return r=ma(t,t===En?r:0),r===0?null:(uu(t,r,e),Gd(t,cn()),t.callbackNode!=null&&t.callbackNode===l?r1.bind(null,t):null)}function o1(t,e){if(Wt())return null;uu(t,e,!0)}function Gg(t){Qg(function(){(Ae&6)!==0?tn(yn,t):t()})}function Y0(){return Ge===0&&(Ge=El()),Ge}function u1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:de(""+t)}function c1(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function Xg(t,e,l,r,h){if(e==="submit"&&l&&l.stateNode===h){var m=u1((h[we]||null).action),B=r.submitter;B&&(e=(e=B[we]||null)?u1(e.formAction):B.getAttribute("formAction"),e!==null&&(m=e,B=null));var tt=new Nl("action","action",null,r,h);t.push({event:tt,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ge!==0){var rt=B?c1(h,B):new FormData(h);yf(l,{pending:!0,data:rt,method:h.method,action:m},null,rt)}}else typeof m=="function"&&(tt.preventDefault(),rt=B?c1(h,B):new FormData(h),yf(l,{pending:!0,data:rt,method:h.method,action:m},m,rt))},currentTarget:h}]})}}for(var U0=0;U0<Re.length;U0++){var G0=Re[U0],Hg=G0.toLowerCase(),jg=G0[0].toUpperCase()+G0.slice(1);ue(Hg,"on"+jg)}ue(Qt,"onAnimationEnd"),ue(Zt,"onAnimationIteration"),ue(ee,"onAnimationStart"),ue("dblclick","onDoubleClick"),ue("focusin","onFocus"),ue("focusout","onBlur"),ue(xe,"onTransitionRun"),ue(Ee,"onTransitionStart"),ue(ye,"onTransitionCancel"),ue(hn,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function f1(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var r=t[l],h=r.event;r=r.listeners;t:{var m=void 0;if(e)for(var B=r.length-1;0<=B;B--){var tt=r[B],rt=tt.instance,vt=tt.currentTarget;if(tt=tt.listener,rt!==m&&h.isPropagationStopped())break t;m=tt,h.currentTarget=vt;try{m(h)}catch(Ut){Nc(Ut)}h.currentTarget=null,m=rt}else for(B=0;B<r.length;B++){if(tt=r[B],rt=tt.instance,vt=tt.currentTarget,tt=tt.listener,rt!==m&&h.isPropagationStopped())break t;m=tt,h.currentTarget=vt;try{m(h)}catch(Ut){Nc(Ut)}h.currentTarget=null,m=rt}}}}function sn(t,e){var l=e[Ki];l===void 0&&(l=e[Ki]=new Set);var r=t+"__bubble";l.has(r)||(h1(e,t,2,!1),l.add(r))}function X0(t,e,l){var r=0;e&&(r|=4),h1(l,t,r,e)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function H0(t){if(!t[Xd]){t[Xd]=!0,Ti.forEach(function(l){l!=="selectionchange"&&(qg.has(l)||X0(l,!1,t),X0(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xd]||(e[Xd]=!0,X0("selectionchange",!1,e))}}function h1(t,e,l,r){switch(B1(e)){case 2:var h=my;break;case 8:h=gy;break;default:h=tp}l=h.bind(null,e,l,t),h=void 0,!Kr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,l,{capture:!0,passive:h}):t.addEventListener(e,l,!0):h!==void 0?t.addEventListener(e,l,{passive:h}):t.addEventListener(e,l,!1)}function j0(t,e,l,r,h){var m=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var B=r.tag;if(B===3||B===4){var tt=r.stateNode.containerInfo;if(tt===h||tt.nodeType===8&&tt.parentNode===h)break;if(B===4)for(B=r.return;B!==null;){var rt=B.tag;if((rt===3||rt===4)&&(rt=B.stateNode.containerInfo,rt===h||rt.nodeType===8&&rt.parentNode===h))return;B=B.return}for(;tt!==null;){if(B=Oa(tt),B===null)return;if(rt=B.tag,rt===5||rt===6||rt===26||rt===27){r=m=B;continue t}tt=tt.parentNode}}r=r.return}Al(function(){var vt=m,Ut=Gn(l),kt=[];t:{var Dt=fn.get(t);if(Dt!==void 0){var Bt=Nl,re=t;switch(t){case"keypress":if(Ts(l)===0)break t;case"keydown":case"keyup":Bt=Cu;break;case"focusin":re="focus",Bt=Lo;break;case"focusout":re="blur",Bt=Lo;break;case"beforeblur":case"afterblur":Bt=Lo;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=Jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=Cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=Yo;break;case Qt:case Zt:case ee:Bt=cc;break;case hn:Bt=Ml;break;case"scroll":case"scrollend":Bt=oc;break;case"wheel":Bt=ur;break;case"copy":case"cut":case"paste":Bt=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=Wl;break;case"toggle":case"beforetoggle":Bt=Dl}var Me=(e&4)!==0,xi=!Me&&(t==="scroll"||t==="scrollend"),xt=Me?Dt!==null?Dt+"Capture":null:Dt;Me=[];for(var gt=vt,At;gt!==null;){var Vt=gt;if(At=Vt.stateNode,Vt=Vt.tag,Vt!==5&&Vt!==26&&Vt!==27||At===null||xt===null||(Vt=ir(gt,xt),Vt!=null&&Me.push(Xf(gt,Vt,At))),xi)break;gt=gt.return}0<Me.length&&(Dt=new Bt(Dt,re,null,l,Ut),kt.push({event:Dt,listeners:Me}))}}if((e&7)===0){t:{if(Dt=t==="mouseover"||t==="pointerover",Bt=t==="mouseout"||t==="pointerout",Dt&&l!==Je&&(re=l.relatedTarget||l.fromElement)&&(Oa(re)||re[Qi]))break t;if((Bt||Dt)&&(Dt=Ut.window===Ut?Ut:(Dt=Ut.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Bt?(re=l.relatedTarget||l.toElement,Bt=vt,re=re?Oa(re):null,re!==null&&(xi=mt(re),Me=re.tag,re!==xi||Me!==5&&Me!==27&&Me!==6)&&(re=null)):(Bt=null,re=vt),Bt!==re)){if(Me=Jr,Vt="onMouseLeave",xt="onMouseEnter",gt="mouse",(t==="pointerout"||t==="pointerover")&&(Me=Wl,Vt="onPointerLeave",xt="onPointerEnter",gt="pointer"),xi=Bt==null?Dt:vn(Bt),At=re==null?Dt:vn(re),Dt=new Me(Vt,gt+"leave",Bt,l,Ut),Dt.target=xi,Dt.relatedTarget=At,Vt=null,Oa(Ut)===vt&&(Me=new Me(xt,gt+"enter",re,l,Ut),Me.target=At,Me.relatedTarget=xi,Vt=Me),xi=Vt,Bt&&re)e:{for(Me=Bt,xt=re,gt=0,At=Me;At;At=jc(At))gt++;for(At=0,Vt=xt;Vt;Vt=jc(Vt))At++;for(;0<gt-At;)Me=jc(Me),gt--;for(;0<At-gt;)xt=jc(xt),At--;for(;gt--;){if(Me===xt||xt!==null&&Me===xt.alternate)break e;Me=jc(Me),xt=jc(xt)}Me=null}else Me=null;Bt!==null&&d1(kt,Dt,Bt,Me,!1),re!==null&&xi!==null&&d1(kt,xi,re,Me,!0)}}t:{if(Dt=vt?vn(vt):window,Bt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&Dt.type==="file")var ae=Xo;else if(ao(Dt))if(Ho)ae=es;else{ae=fr;var Ze=af}else Bt=Dt.nodeName,!Bt||Bt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?vt&&$t(vt.elementType)&&(ae=Xo):ae=so;if(ae&&(ae=ae(t,vt))){qi(kt,ae,l,Ut);break t}Ze&&Ze(t,Dt,vt),t==="focusout"&&vt&&Dt.type==="number"&&vt.memoizedProps.value!=null&&_(Dt,"number",Dt.value)}switch(Ze=vt?vn(vt):window,t){case"focusin":(ao(Ze)||Ze.contentEditable==="true")&&(is=Ze,A=vt,L=null);break;case"focusout":L=A=is=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,lt(kt,l,Ut);break;case"selectionchange":if(qo)break;case"keydown":case"keyup":lt(kt,l,Ut)}var fe;if($r)t:{switch(t){case"compositionstart":var be="onCompositionStart";break t;case"compositionend":be="onCompositionEnd";break t;case"compositionupdate":be="onCompositionUpdate";break t}be=void 0}else ts?no(t,l)&&(be="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(eo&&l.locale!=="ko"&&(ts||be!=="onCompositionStart"?be==="onCompositionEnd"&&ts&&(fe=$i()):(Fa=Ut,_u="value"in Fa?Fa.value:Fa.textContent,ts=!0)),Ze=Hd(vt,be),0<Ze.length&&(be=new Bo(be,t,null,l,Ut),kt.push({event:be,listeners:Ze}),fe?be.data=fe:(fe=Au(l),fe!==null&&(be.data=fe)))),(fe=to?io(t,l):Nu(t,l))&&(be=Hd(vt,"onBeforeInput"),0<be.length&&(Ze=new Bo("onBeforeInput","beforeinput",null,l,Ut),kt.push({event:Ze,listeners:be}),Ze.data=fe)),Xg(kt,t,vt,l,Ut)}f1(kt,e)})}function Xf(t,e,l){return{instance:t,listener:e,currentTarget:l}}function Hd(t,e){for(var l=e+"Capture",r=[];t!==null;){var h=t,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ir(t,l),h!=null&&r.unshift(Xf(t,h,m)),h=ir(t,e),h!=null&&r.push(Xf(t,h,m))),t=t.return}return r}function jc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d1(t,e,l,r,h){for(var m=e._reactName,B=[];l!==null&&l!==r;){var tt=l,rt=tt.alternate,vt=tt.stateNode;if(tt=tt.tag,rt!==null&&rt===r)break;tt!==5&&tt!==26&&tt!==27||vt===null||(rt=vt,h?(vt=ir(l,m),vt!=null&&B.unshift(Xf(l,vt,rt))):h||(vt=ir(l,m),vt!=null&&B.push(Xf(l,vt,rt)))),l=l.return}B.length!==0&&t.push({event:e,listeners:B})}var Fg=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function p1(t){return(typeof t=="string"?t:""+t).replace(Fg,`
`).replace(Vg,"")}function m1(t,e){return e=p1(e),p1(t)===e}function jd(){}function zn(t,e,l,r,h,m){switch(l){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||ot(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&ot(t,""+r);break;case"className":kl(t,"class",r);break;case"tabIndex":kl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(t,l,r);break;case"style":Ot(t,r,m);break;case"data":if(e!=="object"){kl(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=de(""+r),t.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(e!=="input"&&zn(t,e,"name",h.name,h,null),zn(t,e,"formEncType",h.formEncType,h,null),zn(t,e,"formMethod",h.formMethod,h,null),zn(t,e,"formTarget",h.formTarget,h,null)):(zn(t,e,"encType",h.encType,h,null),zn(t,e,"method",h.method,h,null),zn(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(l);break}r=de(""+r),t.setAttribute(l,r);break;case"onClick":r!=null&&(t.onclick=jd);break;case"onScroll":r!=null&&sn("scroll",t);break;case"onScrollEnd":r!=null&&sn("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(v(61));if(l=r.__html,l!=null){if(h.children!=null)throw Error(v(60));t.innerHTML=l}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}l=de(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""+r):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":r===!0?t.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(l,r):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(l,r):t.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(l):t.setAttribute(l,r);break;case"popover":sn("beforetoggle",t),sn("toggle",t),Cs(t,"popover",r);break;case"xlinkActuate":ya(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ya(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ya(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ya(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ya(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ya(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ya(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ya(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ya(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cs(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ce.get(l)||l,Cs(t,l,r))}}function q0(t,e,l,r,h,m){switch(l){case"style":Ot(t,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(v(61));if(l=r.__html,l!=null){if(h.children!=null)throw Error(v(60));t.innerHTML=l}}break;case"children":typeof r=="string"?ot(t,r):(typeof r=="number"||typeof r=="bigint")&&ot(t,""+r);break;case"onScroll":r!=null&&sn("scroll",t);break;case"onScrollEnd":r!=null&&sn("scrollend",t);break;case"onClick":r!=null&&(t.onclick=jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mi.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),e=l.slice(2,h?l.length-7:void 0),m=t[we]||null,m=m!=null?m[l]:null,typeof m=="function"&&t.removeEventListener(e,m,h),typeof r=="function")){typeof m!="function"&&m!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,r,h);break t}l in t?t[l]=r:r===!0?t.setAttribute(l,""):Cs(t,l,r)}}}function Ta(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",t),sn("load",t);var r=!1,h=!1,m;for(m in l)if(l.hasOwnProperty(m)){var B=l[m];if(B!=null)switch(m){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,e));default:zn(t,e,m,B,l,null)}}h&&zn(t,e,"srcSet",l.srcSet,l,null),r&&zn(t,e,"src",l.src,l,null);return;case"input":sn("invalid",t);var tt=m=B=h=null,rt=null,vt=null;for(r in l)if(l.hasOwnProperty(r)){var Ut=l[r];if(Ut!=null)switch(r){case"name":h=Ut;break;case"type":B=Ut;break;case"checked":rt=Ut;break;case"defaultChecked":vt=Ut;break;case"value":m=Ut;break;case"defaultValue":tt=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(v(137,e));break;default:zn(t,e,r,Ut,l,null)}}p(t,m,tt,rt,vt,B,h,!1),ws(t);return;case"select":sn("invalid",t),r=B=m=null;for(h in l)if(l.hasOwnProperty(h)&&(tt=l[h],tt!=null))switch(h){case"value":m=tt;break;case"defaultValue":B=tt;break;case"multiple":r=tt;default:zn(t,e,h,tt,l,null)}e=m,l=B,t.multiple=!!r,e!=null?Y(t,!!r,e,!1):l!=null&&Y(t,!!r,l,!0);return;case"textarea":sn("invalid",t),m=h=r=null;for(B in l)if(l.hasOwnProperty(B)&&(tt=l[B],tt!=null))switch(B){case"value":r=tt;break;case"defaultValue":h=tt;break;case"children":m=tt;break;case"dangerouslySetInnerHTML":if(tt!=null)throw Error(v(91));break;default:zn(t,e,B,tt,l,null)}st(t,r,h,m),ws(t);return;case"option":for(rt in l)if(l.hasOwnProperty(rt)&&(r=l[rt],r!=null))switch(rt){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:zn(t,e,rt,r,l,null)}return;case"dialog":sn("cancel",t),sn("close",t);break;case"iframe":case"object":sn("load",t);break;case"video":case"audio":for(r=0;r<Gf.length;r++)sn(Gf[r],t);break;case"image":sn("error",t),sn("load",t);break;case"details":sn("toggle",t);break;case"embed":case"source":case"link":sn("error",t),sn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in l)if(l.hasOwnProperty(vt)&&(r=l[vt],r!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,e));default:zn(t,e,vt,r,l,null)}return;default:if($t(e)){for(Ut in l)l.hasOwnProperty(Ut)&&(r=l[Ut],r!==void 0&&q0(t,e,Ut,r,l,void 0));return}}for(tt in l)l.hasOwnProperty(tt)&&(r=l[tt],r!=null&&zn(t,e,tt,r,l,null))}function Ig(t,e,l,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,B=null,tt=null,rt=null,vt=null,Ut=null;for(Bt in l){var kt=l[Bt];if(l.hasOwnProperty(Bt)&&kt!=null)switch(Bt){case"checked":break;case"value":break;case"defaultValue":rt=kt;default:r.hasOwnProperty(Bt)||zn(t,e,Bt,null,r,kt)}}for(var Dt in r){var Bt=r[Dt];if(kt=l[Dt],r.hasOwnProperty(Dt)&&(Bt!=null||kt!=null))switch(Dt){case"type":m=Bt;break;case"name":h=Bt;break;case"checked":vt=Bt;break;case"defaultChecked":Ut=Bt;break;case"value":B=Bt;break;case"defaultValue":tt=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(v(137,e));break;default:Bt!==kt&&zn(t,e,Dt,Bt,r,kt)}}f(t,B,tt,rt,vt,Ut,m,h);return;case"select":Bt=B=tt=Dt=null;for(m in l)if(rt=l[m],l.hasOwnProperty(m)&&rt!=null)switch(m){case"value":break;case"multiple":Bt=rt;default:r.hasOwnProperty(m)||zn(t,e,m,null,r,rt)}for(h in r)if(m=r[h],rt=l[h],r.hasOwnProperty(h)&&(m!=null||rt!=null))switch(h){case"value":Dt=m;break;case"defaultValue":tt=m;break;case"multiple":B=m;default:m!==rt&&zn(t,e,h,m,r,rt)}e=tt,l=B,r=Bt,Dt!=null?Y(t,!!l,Dt,!1):!!r!=!!l&&(e!=null?Y(t,!!l,e,!0):Y(t,!!l,l?[]:"",!1));return;case"textarea":Bt=Dt=null;for(tt in l)if(h=l[tt],l.hasOwnProperty(tt)&&h!=null&&!r.hasOwnProperty(tt))switch(tt){case"value":break;case"children":break;default:zn(t,e,tt,null,r,h)}for(B in r)if(h=r[B],m=l[B],r.hasOwnProperty(B)&&(h!=null||m!=null))switch(B){case"value":Dt=h;break;case"defaultValue":Bt=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(v(91));break;default:h!==m&&zn(t,e,B,h,r,m)}Q(t,Dt,Bt);return;case"option":for(var re in l)if(Dt=l[re],l.hasOwnProperty(re)&&Dt!=null&&!r.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:zn(t,e,re,null,r,Dt)}for(rt in r)if(Dt=r[rt],Bt=l[rt],r.hasOwnProperty(rt)&&Dt!==Bt&&(Dt!=null||Bt!=null))switch(rt){case"selected":t.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:zn(t,e,rt,Dt,r,Bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)Dt=l[Me],l.hasOwnProperty(Me)&&Dt!=null&&!r.hasOwnProperty(Me)&&zn(t,e,Me,null,r,Dt);for(vt in r)if(Dt=r[vt],Bt=l[vt],r.hasOwnProperty(vt)&&Dt!==Bt&&(Dt!=null||Bt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(v(137,e));break;default:zn(t,e,vt,Dt,r,Bt)}return;default:if($t(e)){for(var xi in l)Dt=l[xi],l.hasOwnProperty(xi)&&Dt!==void 0&&!r.hasOwnProperty(xi)&&q0(t,e,xi,void 0,r,Dt);for(Ut in r)Dt=r[Ut],Bt=l[Ut],!r.hasOwnProperty(Ut)||Dt===Bt||Dt===void 0&&Bt===void 0||q0(t,e,Ut,Dt,r,Bt);return}}for(var xt in l)Dt=l[xt],l.hasOwnProperty(xt)&&Dt!=null&&!r.hasOwnProperty(xt)&&zn(t,e,xt,null,r,Dt);for(kt in r)Dt=r[kt],Bt=l[kt],!r.hasOwnProperty(kt)||Dt===Bt||Dt==null&&Bt==null||zn(t,e,kt,Dt,r,Bt)}var F0=null,V0=null;function qd(t){return t.nodeType===9?t:t.ownerDocument}function g1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function I0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=null;function kg(){var t=window.event;return t&&t.type==="popstate"?t===k0?!1:(k0=t,!0):(k0=null,!1)}var v1=typeof setTimeout=="function"?setTimeout:void 0,Zg=typeof clearTimeout=="function"?clearTimeout:void 0,b1=typeof Promise=="function"?Promise:void 0,Qg=typeof queueMicrotask=="function"?queueMicrotask:typeof b1<"u"?function(t){return b1.resolve(null).then(t).catch(Kg)}:v1;function Kg(t){setTimeout(function(){throw t})}function Z0(t,e){var l=e,r=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(r===0){t.removeChild(h),Zf(e);return}r--}else l!=="$"&&l!=="$?"&&l!=="$!"||r++;l=h}while(l);Zf(e)}function Q0(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Q0(l),ji(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Jg(t,e,l,r){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Na])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ws(t.nextSibling),t===null)break}return null}function Wg(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Ws(t.nextSibling),t===null))return null;return t}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function S1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(e===0)return t;e--}else l==="/$"&&e++}t=t.previousSibling}return null}function _1(t,e,l){switch(e=qd(l),t){case"html":if(t=e.documentElement,!t)throw Error(v(452));return t;case"head":if(t=e.head,!t)throw Error(v(453));return t;case"body":if(t=e.body,!t)throw Error(v(454));return t;default:throw Error(v(451))}}var vs=new Map,x1=new Set;function Fd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ao=Tt.d;Tt.d={f:$g,r:ty,D:ey,C:ny,L:iy,m:ay,X:sy,S:ly,M:ry};function $g(){var t=Ao.f(),e=wo();return t||e}function ty(t){var e=Ve(t);e!==null&&e.tag===5&&e.type==="form"?Sd(e):Ao.r(t)}var qc=typeof document>"u"?null:document;function C1(t,e,l){var r=qc;if(r&&typeof e=="string"&&e){var h=o(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),x1.has(h)||(x1.add(h),t={rel:t,crossOrigin:l,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),Ta(e,"link",t),Pn(e),r.head.appendChild(e)))}}function ey(t){Ao.D(t),C1("dns-prefetch",t,null)}function ny(t,e){Ao.C(t,e),C1("preconnect",t,e)}function iy(t,e,l){Ao.L(t,e,l);var r=qc;if(r&&t&&e){var h='link[rel="preload"][as="'+o(e)+'"]';e==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+o(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+o(l.imageSizes)+'"]')):h+='[href="'+o(t)+'"]';var m=h;switch(e){case"style":m=Fc(t);break;case"script":m=Vc(t)}vs.has(m)||(t=I({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),vs.set(m,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(Hf(m))||e==="script"&&r.querySelector(jf(m))||(e=r.createElement("link"),Ta(e,"link",t),Pn(e),r.head.appendChild(e)))}}function ay(t,e){Ao.m(t,e);var l=qc;if(l&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+o(r)+'"][href="'+o(t)+'"]',m=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vc(t)}if(!vs.has(m)&&(t=I({rel:"modulepreload",href:t},e),vs.set(m,t),l.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jf(m)))return}r=l.createElement("link"),Ta(r,"link",t),Pn(r),l.head.appendChild(r)}}}function ly(t,e,l){Ao.S(t,e,l);var r=qc;if(r&&t){var h=On(r).hoistableStyles,m=Fc(t);e=e||"default";var B=h.get(m);if(!B){var tt={loading:0,preload:null};if(B=r.querySelector(Hf(m)))tt.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":e},l),(l=vs.get(m))&&K0(t,l);var rt=B=r.createElement("link");Pn(rt),Ta(rt,"link",t),rt._p=new Promise(function(vt,Ut){rt.onload=vt,rt.onerror=Ut}),rt.addEventListener("load",function(){tt.loading|=1}),rt.addEventListener("error",function(){tt.loading|=2}),tt.loading|=4,Vd(B,e,r)}B={type:"stylesheet",instance:B,count:1,state:tt},h.set(m,B)}}}function sy(t,e){Ao.X(t,e);var l=qc;if(l&&t){var r=On(l).hoistableScripts,h=Vc(t),m=r.get(h);m||(m=l.querySelector(jf(h)),m||(t=I({src:t,async:!0},e),(e=vs.get(h))&&J0(t,e),m=l.createElement("script"),Pn(m),Ta(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(h,m))}}function ry(t,e){Ao.M(t,e);var l=qc;if(l&&t){var r=On(l).hoistableScripts,h=Vc(t),m=r.get(h);m||(m=l.querySelector(jf(h)),m||(t=I({src:t,async:!0,type:"module"},e),(e=vs.get(h))&&J0(t,e),m=l.createElement("script"),Pn(m),Ta(m,"link",t),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(h,m))}}function w1(t,e,l,r){var h=(h=Se.current)?Fd(h):null;if(!h)throw Error(v(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=Fc(l.href),l=On(h).hoistableStyles,r=l.get(e),r||(r={type:"style",instance:null,count:0,state:null},l.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Fc(l.href);var m=On(h).hoistableStyles,B=m.get(t);if(B||(h=h.ownerDocument||h,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,B),(m=h.querySelector(Hf(t)))&&!m._p&&(B.instance=m,B.state.loading=5),vs.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vs.set(t,l),m||oy(h,t,l,B.state))),e&&r===null)throw Error(v(528,""));return B}if(e&&r!==null)throw Error(v(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Vc(l),l=On(h).hoistableScripts,r=l.get(e),r||(r={type:"script",instance:null,count:0,state:null},l.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,t))}}function Fc(t){return'href="'+o(t)+'"'}function Hf(t){return'link[rel="stylesheet"]['+t+"]"}function E1(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function oy(t,e,l,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ta(e,"link",l),Pn(e),t.head.appendChild(e))}function Vc(t){return'[src="'+o(t)+'"]'}function jf(t){return"script[async]"+t}function T1(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+o(l.href)+'"]');if(r)return e.instance=r,Pn(r),r;var h=I({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Pn(r),Ta(r,"style",h),Vd(r,l.precedence,t),e.instance=r;case"stylesheet":h=Fc(l.href);var m=t.querySelector(Hf(h));if(m)return e.state.loading|=4,e.instance=m,Pn(m),m;r=E1(l),(h=vs.get(h))&&K0(r,h),m=(t.ownerDocument||t).createElement("link"),Pn(m);var B=m;return B._p=new Promise(function(tt,rt){B.onload=tt,B.onerror=rt}),Ta(m,"link",r),e.state.loading|=4,Vd(m,l.precedence,t),e.instance=m;case"script":return m=Vc(l.src),(h=t.querySelector(jf(m)))?(e.instance=h,Pn(h),h):(r=l,(h=vs.get(m))&&(r=I({},l),J0(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pn(h),Ta(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(v(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,Vd(r,l.precedence,t));return e.instance}function Vd(t,e,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,m=h,B=0;B<r.length;B++){var tt=r[B];if(tt.dataset.precedence===e)m=tt;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function K0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function J0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Id=null;function A1(t,e,l){if(Id===null){var r=new Map,h=Id=new Map;h.set(l,r)}else h=Id,r=h.get(l),r||(r=new Map,h.set(l,r));if(r.has(t))return r;for(r.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var m=l[h];if(!(m[Na]||m[Nn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var B=m.getAttribute(e)||"";B=t+B;var tt=r.get(B);tt?tt.push(m):r.set(B,[m])}}return r}function N1(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function uy(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function O1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var qf=null;function cy(){}function fy(t,e,l){if(qf===null)throw Error(v(475));var r=qf;if(e.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var h=Fc(l.href),m=t.querySelector(Hf(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=kd.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=m,Pn(m);return}m=t.ownerDocument||t,l=E1(l),(h=vs.get(h))&&K0(l,h),m=m.createElement("link"),Pn(m);var B=m;B._p=new Promise(function(tt,rt){B.onload=tt,B.onerror=rt}),Ta(m,"link",l),e.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=kd.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function hy(){if(qf===null)throw Error(v(475));var t=qf;return t.stylesheets&&t.count===0&&W0(t,t.stylesheets),0<t.count?function(e){var l=setTimeout(function(){if(t.stylesheets&&W0(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(l)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)W0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zd=null;function W0(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zd=new Map,e.forEach(dy,t),Zd=null,kd.call(t))}function dy(t,e){if(!(e.state.loading&4)){var l=Zd.get(t);if(l)var r=l.get(null);else{l=new Map,Zd.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var B=h[m];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(l.set(B.dataset.precedence,B),r=B)}r&&l.set(null,r)}h=e.instance,B=h.getAttribute("data-precedence"),m=l.get(B)||r,m===r&&l.set(null,h),l.set(B,h),this.count++,r=kd.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var Ff={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ht,_currentValue2:Ht,_threadCount:0};function py(t,e,l,r,h,m,B,tt){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.hiddenUpdates=Tl(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function M1(t,e,l,r,h,m,B,tt,rt,vt,Ut,kt){return t=new py(t,e,l,B,tt,rt,vt,kt),e=1,m===!0&&(e|=24),m=fi(3,null,null,e),t.current=m,m.stateNode=t,e=of(),e.refCount++,t.pooledCache=e,e.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:e},_a(m),t}function D1(t){return t?(t=ki,t):ki}function P1(t,e,l,r,h,m){h=D1(h),r.context===null?r.context=h:r.pendingContext=h,r=Ka(e),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=Ja(t,r,e),l!==null&&(_i(l,t,e),Or(l,t,e))}function R1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function $0(t,e){R1(t,e),(t=t.alternate)&&R1(t,e)}function L1(t){if(t.tag===13){var e=dn(t,67108864);e!==null&&_i(e,t,67108864),$0(t,67108864)}}var Qd=!0;function my(t,e,l,r){var h=k.T;k.T=null;var m=Tt.p;try{Tt.p=2,tp(t,e,l,r)}finally{Tt.p=m,k.T=h}}function gy(t,e,l,r){var h=k.T;k.T=null;var m=Tt.p;try{Tt.p=8,tp(t,e,l,r)}finally{Tt.p=m,k.T=h}}function tp(t,e,l,r){if(Qd){var h=ep(r);if(h===null)j0(t,e,r,Kd,l),z1(t,r);else if(vy(h,t,e,l,r))r.stopPropagation();else if(z1(t,r),e&4&&-1<yy.indexOf(t)){for(;h!==null;){var m=Ve(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var B=pi(m.pendingLanes);if(B!==0){var tt=m;for(tt.pendingLanes|=2,tt.entangledLanes|=2;B;){var rt=1<<31-Qn(B);tt.entanglements[1]|=rt,B&=~rt}Dn(m),(Ae&6)===0&&(qe=cn()+500,ke(0))}}break;case 13:tt=dn(m,2),tt!==null&&_i(tt,m,2),wo(),$0(m,2)}if(m=ep(r),m===null&&j0(t,e,r,Kd,l),m===h)break;h=m}h!==null&&r.stopPropagation()}else j0(t,e,r,null,l)}}function ep(t){return t=Gn(t),np(t)}var Kd=null;function np(t){if(Kd=null,t=Oa(t),t!==null){var e=mt(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=wt(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Kd=t,null}function B1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case yn:return 2;case Ei:return 8;case ei:case Bi:return 32;case zi:return 268435456;default:return 32}default:return 32}}var ip=!1,hu=null,du=null,pu=null,Vf=new Map,If=new Map,mu=[],yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z1(t,e){switch(t){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(e.pointerId)}}function kf(t,e,l,r,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:e,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[h]},e!==null&&(e=Ve(e),e!==null&&L1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function vy(t,e,l,r,h){switch(e){case"focusin":return hu=kf(hu,t,e,l,r,h),!0;case"dragenter":return du=kf(du,t,e,l,r,h),!0;case"mouseover":return pu=kf(pu,t,e,l,r,h),!0;case"pointerover":var m=h.pointerId;return Vf.set(m,kf(Vf.get(m)||null,t,e,l,r,h)),!0;case"gotpointercapture":return m=h.pointerId,If.set(m,kf(If.get(m)||null,t,e,l,r,h)),!0}return!1}function Y1(t){var e=Oa(t.target);if(e!==null){var l=mt(e);if(l!==null){if(e=l.tag,e===13){if(e=wt(l),e!==null){t.blockedOn=e,Ha(t.priority,function(){if(l.tag===13){var r=Ea(),h=dn(l,r);h!==null&&_i(h,l,r),$0(l,r)}});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=ep(t.nativeEvent);if(l===null){l=t.nativeEvent;var r=new l.constructor(l.type,l);Je=r,l.target.dispatchEvent(r),Je=null}else return e=Ve(l),e!==null&&L1(e),t.blockedOn=l,!1;e.shift()}return!0}function U1(t,e,l){Jd(t)&&l.delete(e)}function by(){ip=!1,hu!==null&&Jd(hu)&&(hu=null),du!==null&&Jd(du)&&(du=null),pu!==null&&Jd(pu)&&(pu=null),Vf.forEach(U1),If.forEach(U1)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,by)))}var $d=null;function G1(t){$d!==t&&($d=t,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){$d===t&&($d=null);for(var e=0;e<t.length;e+=3){var l=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(np(r||l)===null)continue;break}var m=Ve(l);m!==null&&(t.splice(e,3),e-=3,yf(m,{pending:!0,data:h,method:l.method,action:r},r,h))}}))}function Zf(t){function e(rt){return Wd(rt,t)}hu!==null&&Wd(hu,t),du!==null&&Wd(du,t),pu!==null&&Wd(pu,t),Vf.forEach(e),If.forEach(e);for(var l=0;l<mu.length;l++){var r=mu[l];r.blockedOn===t&&(r.blockedOn=null)}for(;0<mu.length&&(l=mu[0],l.blockedOn===null);)Y1(l),l.blockedOn===null&&mu.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var h=l[r],m=l[r+1],B=h[we]||null;if(typeof m=="function")B||G1(l);else if(B){var tt=null;if(m&&m.hasAttribute("formAction")){if(h=m,B=m[we]||null)tt=B.formAction;else if(np(h)!==null)continue}else tt=B.action;typeof tt=="function"?l[r+1]=tt:(l.splice(r,3),r-=3),G1(l)}}}function ap(t){this._internalRoot=t}t0.prototype.render=ap.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(v(409));var l=e.current,r=Ea();P1(l,r,t,e,null,null)},t0.prototype.unmount=ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&Wt(),P1(t.current,2,null,t,null,null),wo(),e[Qi]=null}};function t0(t){this._internalRoot=t}t0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fr();t={blockedOn:null,target:t,priority:e};for(var l=0;l<mu.length&&e!==0&&e<mu[l].priority;l++);mu.splice(l,0,t),l===0&&Y1(t)}};var X1=a.version;if(X1!=="19.0.0")throw Error(v(527,X1,"19.0.0"));Tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=ht(e),t=t!==null?Nt(t):null,t=t===null?null:t.stateNode,t};var Sy={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:Oa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{Pe=e0.inject(Sy),Ce=e0}catch{}}return Kf.createRoot=function(t,e){if(!x(t))throw Error(v(299));var l=!1,r="",h=Nd,m=Od,B=Md,tt=null;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(m=e.onCaughtError),e.onRecoverableError!==void 0&&(B=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(tt=e.unstable_transitionCallbacks)),e=M1(t,1,!1,null,null,l,r,h,m,B,tt,null),t[Qi]=e.current,H0(t.nodeType===8?t.parentNode:t),new ap(e)},Kf.hydrateRoot=function(t,e,l){if(!x(t))throw Error(v(299));var r=!1,h="",m=Nd,B=Od,tt=Md,rt=null,vt=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(B=l.onCaughtError),l.onRecoverableError!==void 0&&(tt=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(rt=l.unstable_transitionCallbacks),l.formState!==void 0&&(vt=l.formState)),e=M1(t,1,!0,e,l??null,r,h,m,B,tt,rt,vt),e.context=D1(null),l=e.current,r=Ea(),h=Ka(r),h.callback=null,Ja(l,h,r),e.current.lanes=r,il(e,r),Dn(e),t[Qi]=e.current,H0(t),new t0(e)},Kf.version="19.0.0",Kf}var J1;function Oy(){if(J1)return rp.exports;J1=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(a){console.error(a)}}return u(),rp.exports=Ny(),rp.exports}var My=Oy();function Dy({onDone:u,duration:a=4e3}){return Gt.useEffect(()=>{const g=setTimeout(()=>u==null?void 0:u(),a);return()=>clearTimeout(g)},[u,a]),R.jsx("div",{className:"container splash-container",role:"img","aria-label":"Loading",children:R.jsxs("div",{className:"content splash-content",children:[R.jsx("h2",{className:"frame-1",children:"Plot & Check Safety"}),R.jsx("h2",{className:"frame-2",children:"FIRE"})]})})}var l0={exports:{}},Jf={},fp={},hp={},W1;function Fe(){return W1||(W1=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u._registerNode=u.Konva=u.glob=void 0;const a=Math.PI/180;function g(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}u.glob=typeof H1<"u"?H1:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},u.Konva={_global:u.glob,version:"9.3.18",isBrowser:g(),isUnminified:/param/.test((function(x){}).toString()),dblClickWindow:400,getAngle(x){return u.Konva.angleDeg?x*a:x},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return u.Konva.DD.isDragging},isTransforming(){var x;return(x=u.Konva.Transformer)===null||x===void 0?void 0:x.isTransforming()},isDragReady(){return!!u.Konva.DD.node},releaseCanvasOnDestroy:!0,document:u.glob.document,_injectGlobal(x){u.glob.Konva=x}};const v=x=>{u.Konva[x.prototype.getClassName()]=x};u._registerNode=v,u.Konva._injectGlobal(u.Konva)})(hp)),hp}var dp={},$1;function Ci(){return $1||($1=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Util=u.Transform=void 0;const a=Fe();class g{constructor(H=[1,0,0,1,0,0]){this.dirty=!1,this.m=H&&H.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new g(this.m)}copyInto(H){H.m[0]=this.m[0],H.m[1]=this.m[1],H.m[2]=this.m[2],H.m[3]=this.m[3],H.m[4]=this.m[4],H.m[5]=this.m[5]}point(H){const V=this.m;return{x:V[0]*H.x+V[2]*H.y+V[4],y:V[1]*H.x+V[3]*H.y+V[5]}}translate(H,V){return this.m[4]+=this.m[0]*H+this.m[2]*V,this.m[5]+=this.m[1]*H+this.m[3]*V,this}scale(H,V){return this.m[0]*=H,this.m[1]*=H,this.m[2]*=V,this.m[3]*=V,this}rotate(H){const V=Math.cos(H),$=Math.sin(H),ft=this.m[0]*V+this.m[2]*$,nt=this.m[1]*V+this.m[3]*$,k=this.m[0]*-$+this.m[2]*V,I=this.m[1]*-$+this.m[3]*V;return this.m[0]=ft,this.m[1]=nt,this.m[2]=k,this.m[3]=I,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(H,V){const $=this.m[0]+this.m[2]*V,ft=this.m[1]+this.m[3]*V,nt=this.m[2]+this.m[0]*H,k=this.m[3]+this.m[1]*H;return this.m[0]=$,this.m[1]=ft,this.m[2]=nt,this.m[3]=k,this}multiply(H){const V=this.m[0]*H.m[0]+this.m[2]*H.m[1],$=this.m[1]*H.m[0]+this.m[3]*H.m[1],ft=this.m[0]*H.m[2]+this.m[2]*H.m[3],nt=this.m[1]*H.m[2]+this.m[3]*H.m[3],k=this.m[0]*H.m[4]+this.m[2]*H.m[5]+this.m[4],I=this.m[1]*H.m[4]+this.m[3]*H.m[5]+this.m[5];return this.m[0]=V,this.m[1]=$,this.m[2]=ft,this.m[3]=nt,this.m[4]=k,this.m[5]=I,this}invert(){const H=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),V=this.m[3]*H,$=-this.m[1]*H,ft=-this.m[2]*H,nt=this.m[0]*H,k=H*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),I=H*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=V,this.m[1]=$,this.m[2]=ft,this.m[3]=nt,this.m[4]=k,this.m[5]=I,this}getMatrix(){return this.m}decompose(){const H=this.m[0],V=this.m[1],$=this.m[2],ft=this.m[3],nt=this.m[4],k=this.m[5],I=H*ft-V*$,it={x:nt,y:k,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(H!=0||V!=0){const dt=Math.sqrt(H*H+V*V);it.rotation=V>0?Math.acos(H/dt):-Math.acos(H/dt),it.scaleX=dt,it.scaleY=I/dt,it.skewX=(H*$+V*ft)/I,it.skewY=0}else if($!=0||ft!=0){const dt=Math.sqrt($*$+ft*ft);it.rotation=Math.PI/2-(ft>0?Math.acos(-$/dt):-Math.acos($/dt)),it.scaleX=I/dt,it.scaleY=dt,it.skewX=0,it.skewY=(H*$+V*ft)/I}return it.rotation=u.Util._getRotation(it.rotation),it}}u.Transform=g;const v="[object Array]",x="[object Number]",b="[object String]",O="[object Boolean]",S=Math.PI/180,w=180/Math.PI,N="#",z="",F="0",X="Konva warning: ",P="Konva error: ",D="rgb(",G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},U=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let J=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(T){setTimeout(T,60)};u.Util={_isElement(T){return!!(T&&T.nodeType==1)},_isFunction(T){return!!(T&&T.constructor&&T.call&&T.apply)},_isPlainObject(T){return!!T&&T.constructor===Object},_isArray(T){return Object.prototype.toString.call(T)===v},_isNumber(T){return Object.prototype.toString.call(T)===x&&!isNaN(T)&&isFinite(T)},_isString(T){return Object.prototype.toString.call(T)===b},_isBoolean(T){return Object.prototype.toString.call(T)===O},isObject(T){return T instanceof Object},isValidSelector(T){if(typeof T!="string")return!1;const H=T[0];return H==="#"||H==="."||H===H.toUpperCase()},_sign(T){return T===0||T>0?1:-1},requestAnimFrame(T){J.push(T),J.length===1&&E(function(){const H=J;J=[],H.forEach(function(V){V()})})},createCanvasElement(){const T=document.createElement("canvas");try{T.style=T.style||{}}catch{}return T},createImageElement(){return document.createElement("img")},_isInDocument(T){for(;T=T.parentNode;)if(T==document)return!0;return!1},_urlToImage(T,H){const V=u.Util.createImageElement();V.onload=function(){H(V)},V.src=T},_rgbToHex(T,H,V){return((1<<24)+(T<<16)+(H<<8)+V).toString(16).slice(1)},_hexToRgb(T){T=T.replace(N,z);const H=parseInt(T,16);return{r:H>>16&255,g:H>>8&255,b:H&255}},getRandomColor(){let T=(Math.random()*16777215<<0).toString(16);for(;T.length<6;)T=F+T;return N+T},getRGB(T){let H;return T in G?(H=G[T],{r:H[0],g:H[1],b:H[2]}):T[0]===N?this._hexToRgb(T.substring(1)):T.substr(0,4)===D?(H=U.exec(T.replace(/ /g,"")),{r:parseInt(H[1],10),g:parseInt(H[2],10),b:parseInt(H[3],10)}):{r:0,g:0,b:0}},colorToRGBA(T){return T=T||"black",u.Util._namedColorToRBA(T)||u.Util._hex3ColorToRGBA(T)||u.Util._hex4ColorToRGBA(T)||u.Util._hex6ColorToRGBA(T)||u.Util._hex8ColorToRGBA(T)||u.Util._rgbColorToRGBA(T)||u.Util._rgbaColorToRGBA(T)||u.Util._hslColorToRGBA(T)},_namedColorToRBA(T){const H=G[T.toLowerCase()];return H?{r:H[0],g:H[1],b:H[2],a:1}:null},_rgbColorToRGBA(T){if(T.indexOf("rgb(")===0){T=T.match(/rgb\(([^)]+)\)/)[1];const H=T.split(/ *, */).map(Number);return{r:H[0],g:H[1],b:H[2],a:1}}},_rgbaColorToRGBA(T){if(T.indexOf("rgba(")===0){T=T.match(/rgba\(([^)]+)\)/)[1];const H=T.split(/ *, */).map((V,$)=>V.slice(-1)==="%"?$===3?parseInt(V)/100:parseInt(V)/100*255:Number(V));return{r:H[0],g:H[1],b:H[2],a:H[3]}}},_hex8ColorToRGBA(T){if(T[0]==="#"&&T.length===9)return{r:parseInt(T.slice(1,3),16),g:parseInt(T.slice(3,5),16),b:parseInt(T.slice(5,7),16),a:parseInt(T.slice(7,9),16)/255}},_hex6ColorToRGBA(T){if(T[0]==="#"&&T.length===7)return{r:parseInt(T.slice(1,3),16),g:parseInt(T.slice(3,5),16),b:parseInt(T.slice(5,7),16),a:1}},_hex4ColorToRGBA(T){if(T[0]==="#"&&T.length===5)return{r:parseInt(T[1]+T[1],16),g:parseInt(T[2]+T[2],16),b:parseInt(T[3]+T[3],16),a:parseInt(T[4]+T[4],16)/255}},_hex3ColorToRGBA(T){if(T[0]==="#"&&T.length===4)return{r:parseInt(T[1]+T[1],16),g:parseInt(T[2]+T[2],16),b:parseInt(T[3]+T[3],16),a:1}},_hslColorToRGBA(T){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(T)){const[H,...V]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(T),$=Number(V[0])/360,ft=Number(V[1])/100,nt=Number(V[2])/100;let k,I,it;if(ft===0)return it=nt*255,{r:Math.round(it),g:Math.round(it),b:Math.round(it),a:1};nt<.5?k=nt*(1+ft):k=nt+ft-nt*ft;const dt=2*nt-k,M=[0,0,0];for(let Z=0;Z<3;Z++)I=$+1/3*-(Z-1),I<0&&I++,I>1&&I--,6*I<1?it=dt+(k-dt)*6*I:2*I<1?it=k:3*I<2?it=dt+(k-dt)*(2/3-I)*6:it=dt,M[Z]=it*255;return{r:Math.round(M[0]),g:Math.round(M[1]),b:Math.round(M[2]),a:1}}},haveIntersection(T,H){return!(H.x>T.x+T.width||H.x+H.width<T.x||H.y>T.y+T.height||H.y+H.height<T.y)},cloneObject(T){const H={};for(const V in T)this._isPlainObject(T[V])?H[V]=this.cloneObject(T[V]):this._isArray(T[V])?H[V]=this.cloneArray(T[V]):H[V]=T[V];return H},cloneArray(T){return T.slice(0)},degToRad(T){return T*S},radToDeg(T){return T*w},_degToRad(T){return u.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),u.Util.degToRad(T)},_radToDeg(T){return u.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),u.Util.radToDeg(T)},_getRotation(T){return a.Konva.angleDeg?u.Util.radToDeg(T):T},_capitalize(T){return T.charAt(0).toUpperCase()+T.slice(1)},throw(T){throw new Error(P+T)},error(T){console.error(P+T)},warn(T){a.Konva.showWarnings&&console.warn(X+T)},each(T,H){for(const V in T)H(V,T[V])},_inRange(T,H,V){return H<=T&&T<V},_getProjectionToSegment(T,H,V,$,ft,nt){let k,I,it;const dt=(T-V)*(T-V)+(H-$)*(H-$);if(dt==0)k=T,I=H,it=(ft-V)*(ft-V)+(nt-$)*(nt-$);else{const M=((ft-T)*(V-T)+(nt-H)*($-H))/dt;M<0?(k=T,I=H,it=(T-ft)*(T-ft)+(H-nt)*(H-nt)):M>1?(k=V,I=$,it=(V-ft)*(V-ft)+($-nt)*($-nt)):(k=T+M*(V-T),I=H+M*($-H),it=(k-ft)*(k-ft)+(I-nt)*(I-nt))}return[k,I,it]},_getProjectionToLine(T,H,V){const $=u.Util.cloneObject(T);let ft=Number.MAX_VALUE;return H.forEach(function(nt,k){if(!V&&k===H.length-1)return;const I=H[(k+1)%H.length],it=u.Util._getProjectionToSegment(nt.x,nt.y,I.x,I.y,T.x,T.y),dt=it[0],M=it[1],Z=it[2];Z<ft&&($.x=dt,$.y=M,ft=Z)}),$},_prepareArrayForTween(T,H,V){const $=[],ft=[];if(T.length>H.length){const k=H;H=T,T=k}for(let k=0;k<T.length;k+=2)$.push({x:T[k],y:T[k+1]});for(let k=0;k<H.length;k+=2)ft.push({x:H[k],y:H[k+1]});const nt=[];return ft.forEach(function(k){const I=u.Util._getProjectionToLine(k,$,V);nt.push(I.x),nt.push(I.y)}),nt},_prepareToStringify(T){let H;T.visitedByCircularReferenceRemoval=!0;for(const V in T)if(T.hasOwnProperty(V)&&T[V]&&typeof T[V]=="object"){if(H=Object.getOwnPropertyDescriptor(T,V),T[V].visitedByCircularReferenceRemoval||u.Util._isElement(T[V]))if(H.configurable)delete T[V];else return null;else if(u.Util._prepareToStringify(T[V])===null)if(H.configurable)delete T[V];else return null}return delete T.visitedByCircularReferenceRemoval,T},_assign(T,H){for(const V in H)T[V]=H[V];return T},_getFirstPointerId(T){return T.touches?T.changedTouches[0].identifier:T.pointerId||999},releaseCanvas(...T){a.Konva.releaseCanvasOnDestroy&&T.forEach(H=>{H.width=0,H.height=0})},drawRoundedRectPath(T,H,V,$){let ft=0,nt=0,k=0,I=0;typeof $=="number"?ft=nt=k=I=Math.min($,H/2,V/2):(ft=Math.min($[0]||0,H/2,V/2),nt=Math.min($[1]||0,H/2,V/2),I=Math.min($[2]||0,H/2,V/2),k=Math.min($[3]||0,H/2,V/2)),T.moveTo(ft,0),T.lineTo(H-nt,0),T.arc(H-nt,nt,nt,Math.PI*3/2,0,!1),T.lineTo(H,V-I),T.arc(H-I,V-I,I,0,Math.PI/2,!1),T.lineTo(k,V),T.arc(k,V-k,k,Math.PI/2,Math.PI,!1),T.lineTo(0,ft),T.arc(ft,ft,ft,Math.PI,Math.PI*3/2,!1)}}})(dp)),dp}var Wf={},pp={},bl={},tm;function $e(){if(tm)return bl;tm=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.RGBComponent=v,bl.alphaComponent=x,bl.getNumberValidator=b,bl.getNumberOrArrayOfNumbersValidator=O,bl.getNumberOrAutoValidator=S,bl.getStringValidator=w,bl.getStringOrGradientValidator=N,bl.getFunctionValidator=z,bl.getNumberArrayValidator=F,bl.getBooleanValidator=X,bl.getComponentValidator=P;const u=Fe(),a=Ci();function g(D){return a.Util._isString(D)?'"'+D+'"':Object.prototype.toString.call(D)==="[object Number]"||a.Util._isBoolean(D)?D:Object.prototype.toString.call(D)}function v(D){return D>255?255:D<0?0:Math.round(D)}function x(D){return D>1?1:D<1e-4?1e-4:D}function b(){if(u.Konva.isUnminified)return function(D,G){return a.Util._isNumber(D)||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a number.'),D}}function O(D){if(u.Konva.isUnminified)return function(G,U){let J=a.Util._isNumber(G),E=a.Util._isArray(G)&&G.length==D;return!J&&!E&&a.Util.warn(g(G)+' is a not valid value for "'+U+'" attribute. The value should be a number or Array<number>('+D+")"),G}}function S(){if(u.Konva.isUnminified)return function(D,G){var U=a.Util._isNumber(D),J=D==="auto";return U||J||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a number or "auto".'),D}}function w(){if(u.Konva.isUnminified)return function(D,G){return a.Util._isString(D)||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a string.'),D}}function N(){if(u.Konva.isUnminified)return function(D,G){const U=a.Util._isString(D),J=Object.prototype.toString.call(D)==="[object CanvasGradient]"||D&&D.addColorStop;return U||J||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a string or a native gradient.'),D}}function z(){if(u.Konva.isUnminified)return function(D,G){return a.Util._isFunction(D)||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a function.'),D}}function F(){if(u.Konva.isUnminified)return function(D,G){const U=Int8Array?Object.getPrototypeOf(Int8Array):null;return U&&D instanceof U||(a.Util._isArray(D)?D.forEach(function(J){a.Util._isNumber(J)||a.Util.warn('"'+G+'" attribute has non numeric element '+J+". Make sure that all elements are numbers.")}):a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a array of numbers.')),D}}function X(){if(u.Konva.isUnminified)return function(D,G){var U=D===!0||D===!1;return U||a.Util.warn(g(D)+' is a not valid value for "'+G+'" attribute. The value should be a boolean.'),D}}function P(D){if(u.Konva.isUnminified)return function(G,U){return G==null||a.Util.isObject(G)||a.Util.warn(g(G)+' is a not valid value for "'+U+'" attribute. The value should be an object with properties '+D),G}}return bl}var em;function Qe(){return em||(em=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Factory=void 0;const a=Ci(),g=$e(),v="get",x="set";u.Factory={addGetterSetter(b,O,S,w,N){u.Factory.addGetter(b,O,S),u.Factory.addSetter(b,O,w,N),u.Factory.addOverloadedGetterSetter(b,O)},addGetter(b,O,S){var w=v+a.Util._capitalize(O);b.prototype[w]=b.prototype[w]||function(){const N=this.attrs[O];return N===void 0?S:N}},addSetter(b,O,S,w){var N=x+a.Util._capitalize(O);b.prototype[N]||u.Factory.overWriteSetter(b,O,S,w)},overWriteSetter(b,O,S,w){var N=x+a.Util._capitalize(O);b.prototype[N]=function(z){return S&&z!==void 0&&z!==null&&(z=S.call(this,z,O)),this._setAttr(O,z),w&&w.call(this),this}},addComponentsGetterSetter(b,O,S,w,N){const z=S.length,F=a.Util._capitalize,X=v+F(O),P=x+F(O);b.prototype[X]=function(){const G={};for(let U=0;U<z;U++){const J=S[U];G[J]=this.getAttr(O+F(J))}return G};const D=(0,g.getComponentValidator)(S);b.prototype[P]=function(G){const U=this.attrs[O];w&&(G=w.call(this,G,O)),D&&D.call(this,G,O);for(const J in G)G.hasOwnProperty(J)&&this._setAttr(O+F(J),G[J]);return G||S.forEach(J=>{this._setAttr(O+F(J),void 0)}),this._fireChangeEvent(O,U,G),N&&N.call(this),this},u.Factory.addOverloadedGetterSetter(b,O)},addOverloadedGetterSetter(b,O){var S=a.Util._capitalize(O),w=x+S,N=v+S;b.prototype[O]=function(){return arguments.length?(this[w](arguments[0]),this):this[N]()}},addDeprecatedGetterSetter(b,O,S,w){a.Util.error("Adding deprecated "+O);const N=v+a.Util._capitalize(O),z=O+" property is deprecated and will be removed soon. Look at Konva change log for more information.";b.prototype[N]=function(){a.Util.error(z);const F=this.attrs[O];return F===void 0?S:F},u.Factory.addSetter(b,O,w,function(){a.Util.error(z)}),u.Factory.addOverloadedGetterSetter(b,O)},backCompat(b,O){a.Util.each(O,function(S,w){const N=b.prototype[w],z=v+a.Util._capitalize(S),F=x+a.Util._capitalize(S);function X(){N.apply(this,arguments),a.Util.error('"'+S+'" method is deprecated and will be removed soon. Use ""'+w+'" instead.')}b.prototype[S]=X,b.prototype[z]=X,b.prototype[F]=X})},afterSetFilter(){this._filterUpToDate=!1}}})(pp)),pp}var No={},Oo={},nm;function L2(){if(nm)return Oo;nm=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.HitContext=Oo.SceneContext=Oo.Context=void 0;const u=Ci(),a=Fe();function g(J){const E=[],T=J.length,H=u.Util;for(let V=0;V<T;V++){let $=J[V];H._isNumber($)?$=Math.round($*1e3)/1e3:H._isString($)||($=$+""),E.push($)}return E}const v=",",x="(",b=")",O="([",S="])",w=";",N="()",z="=",F=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],X=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],P=100;let D=class{constructor(E){this.canvas=E,a.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(E){E.fillEnabled()&&this._fill(E)}_fill(E){}strokeShape(E){E.hasStroke()&&this._stroke(E)}_stroke(E){}fillStrokeShape(E){E.attrs.fillAfterStrokeEnabled?(this.strokeShape(E),this.fillShape(E)):(this.fillShape(E),this.strokeShape(E))}getTrace(E,T){let H=this.traceArr,V=H.length,$="",ft,nt,k,I;for(ft=0;ft<V;ft++)nt=H[ft],k=nt.method,k?(I=nt.args,$+=k,E?$+=N:u.Util._isArray(I[0])?$+=O+I.join(v)+S:(T&&(I=I.map(it=>typeof it=="number"?Math.floor(it):it)),$+=x+I.join(v)+b)):($+=nt.property,E||($+=z+nt.val)),$+=w;return $}clearTrace(){this.traceArr=[]}_trace(E){let T=this.traceArr,H;T.push(E),H=T.length,H>=P&&T.shift()}reset(){const E=this.getCanvas().getPixelRatio();this.setTransform(1*E,0,0,1*E,0,0)}getCanvas(){return this.canvas}clear(E){const T=this.getCanvas();E?this.clearRect(E.x||0,E.y||0,E.width||0,E.height||0):this.clearRect(0,0,T.getWidth()/T.pixelRatio,T.getHeight()/T.pixelRatio)}_applyLineCap(E){const T=E.attrs.lineCap;T&&this.setAttr("lineCap",T)}_applyOpacity(E){const T=E.getAbsoluteOpacity();T!==1&&this.setAttr("globalAlpha",T)}_applyLineJoin(E){const T=E.attrs.lineJoin;T&&this.setAttr("lineJoin",T)}setAttr(E,T){this._context[E]=T}arc(E,T,H,V,$,ft){this._context.arc(E,T,H,V,$,ft)}arcTo(E,T,H,V,$){this._context.arcTo(E,T,H,V,$)}beginPath(){this._context.beginPath()}bezierCurveTo(E,T,H,V,$,ft){this._context.bezierCurveTo(E,T,H,V,$,ft)}clearRect(E,T,H,V){this._context.clearRect(E,T,H,V)}clip(...E){this._context.clip.apply(this._context,E)}closePath(){this._context.closePath()}createImageData(E,T){const H=arguments;if(H.length===2)return this._context.createImageData(E,T);if(H.length===1)return this._context.createImageData(E)}createLinearGradient(E,T,H,V){return this._context.createLinearGradient(E,T,H,V)}createPattern(E,T){return this._context.createPattern(E,T)}createRadialGradient(E,T,H,V,$,ft){return this._context.createRadialGradient(E,T,H,V,$,ft)}drawImage(E,T,H,V,$,ft,nt,k,I){const it=arguments,dt=this._context;it.length===3?dt.drawImage(E,T,H):it.length===5?dt.drawImage(E,T,H,V,$):it.length===9&&dt.drawImage(E,T,H,V,$,ft,nt,k,I)}ellipse(E,T,H,V,$,ft,nt,k){this._context.ellipse(E,T,H,V,$,ft,nt,k)}isPointInPath(E,T,H,V){return H?this._context.isPointInPath(H,E,T,V):this._context.isPointInPath(E,T,V)}fill(...E){this._context.fill.apply(this._context,E)}fillRect(E,T,H,V){this._context.fillRect(E,T,H,V)}strokeRect(E,T,H,V){this._context.strokeRect(E,T,H,V)}fillText(E,T,H,V){V?this._context.fillText(E,T,H,V):this._context.fillText(E,T,H)}measureText(E){return this._context.measureText(E)}getImageData(E,T,H,V){return this._context.getImageData(E,T,H,V)}lineTo(E,T){this._context.lineTo(E,T)}moveTo(E,T){this._context.moveTo(E,T)}rect(E,T,H,V){this._context.rect(E,T,H,V)}roundRect(E,T,H,V,$){this._context.roundRect(E,T,H,V,$)}putImageData(E,T,H){this._context.putImageData(E,T,H)}quadraticCurveTo(E,T,H,V){this._context.quadraticCurveTo(E,T,H,V)}restore(){this._context.restore()}rotate(E){this._context.rotate(E)}save(){this._context.save()}scale(E,T){this._context.scale(E,T)}setLineDash(E){this._context.setLineDash?this._context.setLineDash(E):"mozDash"in this._context?this._context.mozDash=E:"webkitLineDash"in this._context&&(this._context.webkitLineDash=E)}getLineDash(){return this._context.getLineDash()}setTransform(E,T,H,V,$,ft){this._context.setTransform(E,T,H,V,$,ft)}stroke(E){E?this._context.stroke(E):this._context.stroke()}strokeText(E,T,H,V){this._context.strokeText(E,T,H,V)}transform(E,T,H,V,$,ft){this._context.transform(E,T,H,V,$,ft)}translate(E,T){this._context.translate(E,T)}_enableTrace(){let E=this,T=F.length,H=this.setAttr,V,$;const ft=function(nt){let k=E[nt],I;E[nt]=function(){return $=g(Array.prototype.slice.call(arguments,0)),I=k.apply(E,arguments),E._trace({method:nt,args:$}),I}};for(V=0;V<T;V++)ft(F[V]);E.setAttr=function(){H.apply(E,arguments);const nt=arguments[0];let k=arguments[1];(nt==="shadowOffsetX"||nt==="shadowOffsetY"||nt==="shadowBlur")&&(k=k/this.canvas.getPixelRatio()),E._trace({property:nt,val:k})}}_applyGlobalCompositeOperation(E){const T=E.attrs.globalCompositeOperation;!T||T==="source-over"||this.setAttr("globalCompositeOperation",T)}};Oo.Context=D,X.forEach(function(J){Object.defineProperty(D.prototype,J,{get(){return this._context[J]},set(E){this._context[J]=E}})});class G extends D{constructor(E,{willReadFrequently:T=!1}={}){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:T})}_fillColor(E){const T=E.fill();this.setAttr("fillStyle",T),E._fillFunc(this)}_fillPattern(E){this.setAttr("fillStyle",E._getFillPattern()),E._fillFunc(this)}_fillLinearGradient(E){const T=E._getLinearGradient();T&&(this.setAttr("fillStyle",T),E._fillFunc(this))}_fillRadialGradient(E){const T=E._getRadialGradient();T&&(this.setAttr("fillStyle",T),E._fillFunc(this))}_fill(E){const T=E.fill(),H=E.getFillPriority();if(T&&H==="color"){this._fillColor(E);return}const V=E.getFillPatternImage();if(V&&H==="pattern"){this._fillPattern(E);return}const $=E.getFillLinearGradientColorStops();if($&&H==="linear-gradient"){this._fillLinearGradient(E);return}const ft=E.getFillRadialGradientColorStops();if(ft&&H==="radial-gradient"){this._fillRadialGradient(E);return}T?this._fillColor(E):V?this._fillPattern(E):$?this._fillLinearGradient(E):ft&&this._fillRadialGradient(E)}_strokeLinearGradient(E){const T=E.getStrokeLinearGradientStartPoint(),H=E.getStrokeLinearGradientEndPoint(),V=E.getStrokeLinearGradientColorStops(),$=this.createLinearGradient(T.x,T.y,H.x,H.y);if(V){for(let ft=0;ft<V.length;ft+=2)$.addColorStop(V[ft],V[ft+1]);this.setAttr("strokeStyle",$)}}_stroke(E){const T=E.dash(),H=E.getStrokeScaleEnabled();if(E.hasStroke()){if(!H){this.save();const $=this.getCanvas().getPixelRatio();this.setTransform($,0,0,$,0,0)}this._applyLineCap(E),T&&E.dashEnabled()&&(this.setLineDash(T),this.setAttr("lineDashOffset",E.dashOffset())),this.setAttr("lineWidth",E.strokeWidth()),E.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),E.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(E):this.setAttr("strokeStyle",E.stroke()),E._strokeFunc(this),H||this.restore()}}_applyShadow(E){var T,H,V;const $=(T=E.getShadowRGBA())!==null&&T!==void 0?T:"black",ft=(H=E.getShadowBlur())!==null&&H!==void 0?H:5,nt=(V=E.getShadowOffset())!==null&&V!==void 0?V:{x:0,y:0},k=E.getAbsoluteScale(),I=this.canvas.getPixelRatio(),it=k.x*I,dt=k.y*I;this.setAttr("shadowColor",$),this.setAttr("shadowBlur",ft*Math.min(Math.abs(it),Math.abs(dt))),this.setAttr("shadowOffsetX",nt.x*it),this.setAttr("shadowOffsetY",nt.y*dt)}}Oo.SceneContext=G;class U extends D{constructor(E){super(E),this._context=E._canvas.getContext("2d",{willReadFrequently:!0})}_fill(E){this.save(),this.setAttr("fillStyle",E.colorKey),E._fillFuncHit(this),this.restore()}strokeShape(E){E.hasHitStroke()&&this._stroke(E)}_stroke(E){if(E.hasHitStroke()){const T=E.getStrokeScaleEnabled();if(!T){this.save();const $=this.getCanvas().getPixelRatio();this.setTransform($,0,0,$,0,0)}this._applyLineCap(E);const H=E.hitStrokeWidth(),V=H==="auto"?E.strokeWidth():H;this.setAttr("lineWidth",V),this.setAttr("strokeStyle",E.colorKey),E._strokeFuncHit(this),T||this.restore()}}}return Oo.HitContext=U,Oo}var im;function v0(){if(im)return No;im=1,Object.defineProperty(No,"__esModule",{value:!0}),No.HitCanvas=No.SceneCanvas=No.Canvas=void 0;const u=Ci(),a=L2(),g=Fe(),v=Qe(),x=$e();let b;function O(){if(b)return b;const z=u.Util.createCanvasElement(),F=z.getContext("2d");return b=(function(){const X=g.Konva._global.devicePixelRatio||1,P=F.webkitBackingStorePixelRatio||F.mozBackingStorePixelRatio||F.msBackingStorePixelRatio||F.oBackingStorePixelRatio||F.backingStorePixelRatio||1;return X/P})(),u.Util.releaseCanvas(z),b}let S=class{constructor(F){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const P=(F||{}).pixelRatio||g.Konva.pixelRatio||O();this.pixelRatio=P,this._canvas=u.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(F){const X=this.pixelRatio;this.pixelRatio=F,this.setSize(this.getWidth()/X,this.getHeight()/X)}setWidth(F){this.width=this._canvas.width=F*this.pixelRatio,this._canvas.style.width=F+"px";const X=this.pixelRatio;this.getContext()._context.scale(X,X)}setHeight(F){this.height=this._canvas.height=F*this.pixelRatio,this._canvas.style.height=F+"px";const X=this.pixelRatio;this.getContext()._context.scale(X,X)}getWidth(){return this.width}getHeight(){return this.height}setSize(F,X){this.setWidth(F||0),this.setHeight(X||0)}toDataURL(F,X){try{return this._canvas.toDataURL(F,X)}catch{try{return this._canvas.toDataURL()}catch(D){return u.Util.error("Unable to get data URL. "+D.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};No.Canvas=S,v.Factory.addGetterSetter(S,"pixelRatio",void 0,(0,x.getNumberValidator)());class w extends S{constructor(F={width:0,height:0,willReadFrequently:!1}){super(F),this.context=new a.SceneContext(this,{willReadFrequently:F.willReadFrequently}),this.setSize(F.width,F.height)}}No.SceneCanvas=w;class N extends S{constructor(F={width:0,height:0}){super(F),this.hitCanvas=!0,this.context=new a.HitContext(this),this.setSize(F.width,F.height)}}return No.HitCanvas=N,No}var mp={},am;function Gp(){return am||(am=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.DD=void 0;const a=Fe(),g=Ci();u.DD={get isDragging(){let v=!1;return u.DD._dragElements.forEach(x=>{x.dragStatus==="dragging"&&(v=!0)}),v},justDragged:!1,get node(){let v;return u.DD._dragElements.forEach(x=>{v=x.node}),v},_dragElements:new Map,_drag(v){const x=[];u.DD._dragElements.forEach((b,O)=>{const{node:S}=b,w=S.getStage();w.setPointersPositions(v),b.pointerId===void 0&&(b.pointerId=g.Util._getFirstPointerId(v));const N=w._changedPointerPositions.find(z=>z.id===b.pointerId);if(N){if(b.dragStatus!=="dragging"){const z=S.dragDistance();if(Math.max(Math.abs(N.x-b.startPointerPos.x),Math.abs(N.y-b.startPointerPos.y))<z||(S.startDrag({evt:v}),!S.isDragging()))return}S._setDragPosition(v,b),x.push(S)}}),x.forEach(b=>{b.fire("dragmove",{type:"dragmove",target:b,evt:v},!0)})},_endDragBefore(v){const x=[];u.DD._dragElements.forEach(b=>{const{node:O}=b,S=O.getStage();if(v&&S.setPointersPositions(v),!S._changedPointerPositions.find(z=>z.id===b.pointerId))return;(b.dragStatus==="dragging"||b.dragStatus==="stopped")&&(u.DD.justDragged=!0,a.Konva._mouseListenClick=!1,a.Konva._touchListenClick=!1,a.Konva._pointerListenClick=!1,b.dragStatus="stopped");const N=b.node.getLayer()||b.node instanceof a.Konva.Stage&&b.node;N&&x.indexOf(N)===-1&&x.push(N)}),x.forEach(b=>{b.draw()})},_endDragAfter(v){u.DD._dragElements.forEach((x,b)=>{x.dragStatus==="stopped"&&x.node.fire("dragend",{type:"dragend",target:x.node,evt:v},!0),x.dragStatus!=="dragging"&&u.DD._dragElements.delete(b)})}},a.Konva.isBrowser&&(window.addEventListener("mouseup",u.DD._endDragBefore,!0),window.addEventListener("touchend",u.DD._endDragBefore,!0),window.addEventListener("touchcancel",u.DD._endDragBefore,!0),window.addEventListener("mousemove",u.DD._drag),window.addEventListener("touchmove",u.DD._drag),window.addEventListener("mouseup",u.DD._endDragAfter,!1),window.addEventListener("touchend",u.DD._endDragAfter,!1),window.addEventListener("touchcancel",u.DD._endDragAfter,!1))})(mp)),mp}var lm;function Ri(){if(lm)return Wf;lm=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Node=void 0;const u=Ci(),a=Qe(),g=v0(),v=Fe(),x=Gp(),b=$e(),O="absoluteOpacity",S="allEventListeners",w="absoluteTransform",N="absoluteScale",z="canvas",F="Change",X="children",P="konva",D="listening",G="mouseenter",U="mouseleave",J="set",E="Shape",T=" ",H="stage",V="transform",$="Stage",ft="visible",nt=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(T);let k=1,I=class Rp{constructor(M){this._id=k++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(M),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(M){(M===V||M===w)&&this._cache.get(M)?this._cache.get(M).dirty=!0:M?this._cache.delete(M):this._cache.clear()}_getCache(M,Z){let j=this._cache.get(M);return(j===void 0||(M===V||M===w)&&j.dirty===!0)&&(j=Z.call(this),this._cache.set(M,j)),j}_calculate(M,Z,j){if(!this._attachedDepsListeners.get(M)){const W=Z.map(at=>at+"Change.konva").join(T);this.on(W,()=>{this._clearCache(M)}),this._attachedDepsListeners.set(M,!0)}return this._getCache(M,j)}_getCanvasCache(){return this._cache.get(z)}_clearSelfAndDescendantCache(M){this._clearCache(M),M===w&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(z)){const{scene:M,filter:Z,hit:j}=this._cache.get(z);u.Util.releaseCanvas(M,Z,j),this._cache.delete(z)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(M){const Z=M||{};let j={};(Z.x===void 0||Z.y===void 0||Z.width===void 0||Z.height===void 0)&&(j=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let W=Math.ceil(Z.width||j.width),at=Math.ceil(Z.height||j.height),mt=Z.pixelRatio,wt=Z.x===void 0?Math.floor(j.x):Z.x,K=Z.y===void 0?Math.floor(j.y):Z.y,ht=Z.offset||0,Nt=Z.drawBorder||!1,yt=Z.hitCanvasPixelRatio||1;if(!W||!at){u.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const Tt=Math.abs(Math.round(j.x)-wt)>.5?1:0,Ht=Math.abs(Math.round(j.y)-K)>.5?1:0;W+=ht*2+Tt,at+=ht*2+Ht,wt-=ht,K-=ht;const Ft=new g.SceneCanvas({pixelRatio:mt,width:W,height:at}),ut=new g.SceneCanvas({pixelRatio:mt,width:0,height:0,willReadFrequently:!0}),_t=new g.HitCanvas({pixelRatio:yt,width:W,height:at}),jt=Ft.getContext(),zt=_t.getContext();return _t.isCache=!0,Ft.isCache=!0,this._cache.delete(z),this._filterUpToDate=!1,Z.imageSmoothingEnabled===!1&&(Ft.getContext()._context.imageSmoothingEnabled=!1,ut.getContext()._context.imageSmoothingEnabled=!1),jt.save(),zt.save(),jt.translate(-wt,-K),zt.translate(-wt,-K),this._isUnderCache=!0,this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(N),this.drawScene(Ft,this),this.drawHit(_t,this),this._isUnderCache=!1,jt.restore(),zt.restore(),Nt&&(jt.save(),jt.beginPath(),jt.rect(0,0,W,at),jt.closePath(),jt.setAttr("strokeStyle","red"),jt.setAttr("lineWidth",5),jt.stroke(),jt.restore()),this._cache.set(z,{scene:Ft,filter:ut,hit:_t,x:wt,y:K}),this._requestDraw(),this}isCached(){return this._cache.has(z)}getClientRect(M){throw new Error('abstract "getClientRect" method call')}_transformedRect(M,Z){const j=[{x:M.x,y:M.y},{x:M.x+M.width,y:M.y},{x:M.x+M.width,y:M.y+M.height},{x:M.x,y:M.y+M.height}];let W=1/0,at=1/0,mt=-1/0,wt=-1/0;const K=this.getAbsoluteTransform(Z);return j.forEach(function(ht){const Nt=K.point(ht);W===void 0&&(W=mt=Nt.x,at=wt=Nt.y),W=Math.min(W,Nt.x),at=Math.min(at,Nt.y),mt=Math.max(mt,Nt.x),wt=Math.max(wt,Nt.y)}),{x:W,y:at,width:mt-W,height:wt-at}}_drawCachedSceneCanvas(M){M.save(),M._applyOpacity(this),M._applyGlobalCompositeOperation(this);const Z=this._getCanvasCache();M.translate(Z.x,Z.y);const j=this._getCachedSceneCanvas(),W=j.pixelRatio;M.drawImage(j._canvas,0,0,j.width/W,j.height/W),M.restore()}_drawCachedHitCanvas(M){const Z=this._getCanvasCache(),j=Z.hit;M.save(),M.translate(Z.x,Z.y),M.drawImage(j._canvas,0,0,j.width/j.pixelRatio,j.height/j.pixelRatio),M.restore()}_getCachedSceneCanvas(){let M=this.filters(),Z=this._getCanvasCache(),j=Z.scene,W=Z.filter,at=W.getContext(),mt,wt,K,ht;if(M){if(!this._filterUpToDate){const Nt=j.pixelRatio;W.setSize(j.width/j.pixelRatio,j.height/j.pixelRatio);try{for(mt=M.length,at.clear(),at.drawImage(j._canvas,0,0,j.getWidth()/Nt,j.getHeight()/Nt),wt=at.getImageData(0,0,W.getWidth(),W.getHeight()),K=0;K<mt;K++){if(ht=M[K],typeof ht!="function"){u.Util.error("Filter should be type of function, but got "+typeof ht+" instead. Please check correct filters");continue}ht.call(this,wt),at.putImageData(wt,0,0)}}catch(yt){u.Util.error("Unable to apply filter. "+yt.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return W}return j}on(M,Z){if(this._cache&&this._cache.delete(S),arguments.length===3)return this._delegate.apply(this,arguments);let j=M.split(T),W=j.length,at,mt,wt,K,ht;for(at=0;at<W;at++)mt=j[at],wt=mt.split("."),K=wt[0],ht=wt[1]||"",this.eventListeners[K]||(this.eventListeners[K]=[]),this.eventListeners[K].push({name:ht,handler:Z});return this}off(M,Z){let j=(M||"").split(T),W=j.length,at,mt,wt,K,ht,Nt;if(this._cache&&this._cache.delete(S),!M)for(mt in this.eventListeners)this._off(mt);for(at=0;at<W;at++)if(wt=j[at],K=wt.split("."),ht=K[0],Nt=K[1],ht)this.eventListeners[ht]&&this._off(ht,Nt,Z);else for(mt in this.eventListeners)this._off(mt,Nt,Z);return this}dispatchEvent(M){const Z={target:this,type:M.type,evt:M};return this.fire(M.type,Z),this}addEventListener(M,Z){return this.on(M,function(j){Z.call(this,j.evt)}),this}removeEventListener(M){return this.off(M),this}_delegate(M,Z,j){const W=this;this.on(M,function(at){const mt=at.target.findAncestors(Z,!0,W);for(let wt=0;wt<mt.length;wt++)at=u.Util.cloneObject(at),at.currentTarget=mt[wt],j.call(mt[wt],at)})}remove(){return this.isDragging()&&this.stopDrag(),x.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(w),this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(H),this._clearSelfAndDescendantCache(ft),this._clearSelfAndDescendantCache(D)}_remove(){this._clearCaches();const M=this.getParent();M&&M.children&&(M.children.splice(this.index,1),M._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(M){const Z="get"+u.Util._capitalize(M);return u.Util._isFunction(this[Z])?this[Z]():this.attrs[M]}getAncestors(){let M=this.getParent(),Z=[];for(;M;)Z.push(M),M=M.getParent();return Z}getAttrs(){return this.attrs||{}}setAttrs(M){return this._batchTransformChanges(()=>{let Z,j;if(!M)return this;for(Z in M)Z!==X&&(j=J+u.Util._capitalize(Z),u.Util._isFunction(this[j])?this[j](M[Z]):this._setAttr(Z,M[Z]))}),this}isListening(){return this._getCache(D,this._isListening)}_isListening(M){if(!this.listening())return!1;const j=this.getParent();return j&&j!==M&&this!==M?j._isListening(M):!0}isVisible(){return this._getCache(ft,this._isVisible)}_isVisible(M){if(!this.visible())return!1;const j=this.getParent();return j&&j!==M&&this!==M?j._isVisible(M):!0}shouldDrawHit(M,Z=!1){if(M)return this._isVisible(M)&&this._isListening(M);const j=this.getLayer();let W=!1;x.DD._dragElements.forEach(mt=>{mt.dragStatus==="dragging"&&(mt.node.nodeType==="Stage"||mt.node.getLayer()===j)&&(W=!0)});const at=!Z&&!v.Konva.hitOnDragEnabled&&(W||v.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!at}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let M=this.getDepth(),Z=this,j=0,W,at,mt,wt;function K(Nt){for(W=[],at=Nt.length,mt=0;mt<at;mt++)wt=Nt[mt],j++,wt.nodeType!==E&&(W=W.concat(wt.getChildren().slice())),wt._id===Z._id&&(mt=at);W.length>0&&W[0].getDepth()<=M&&K(W)}const ht=this.getStage();return Z.nodeType!==$&&ht&&K(ht.getChildren()),j}getDepth(){let M=0,Z=this.parent;for(;Z;)M++,Z=Z.parent;return M}_batchTransformChanges(M){this._batchingTransformChange=!0,M(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(V),this._clearSelfAndDescendantCache(w)),this._needClearTransformCache=!1}setPosition(M){return this._batchTransformChanges(()=>{this.x(M.x),this.y(M.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const M=this.getStage();if(!M)return null;const Z=M.getPointerPosition();if(!Z)return null;const j=this.getAbsoluteTransform().copy();return j.invert(),j.point(Z)}getAbsolutePosition(M){let Z=!1,j=this.parent;for(;j;){if(j.isCached()){Z=!0;break}j=j.parent}Z&&!M&&(M=!0);const W=this.getAbsoluteTransform(M).getMatrix(),at=new u.Transform,mt=this.offset();return at.m=W.slice(),at.translate(mt.x,mt.y),at.getTranslation()}setAbsolutePosition(M){const{x:Z,y:j,...W}=this._clearTransform();this.attrs.x=Z,this.attrs.y=j,this._clearCache(V);const at=this._getAbsoluteTransform().copy();return at.invert(),at.translate(M.x,M.y),M={x:this.attrs.x+at.getTranslation().x,y:this.attrs.y+at.getTranslation().y},this._setTransform(W),this.setPosition({x:M.x,y:M.y}),this._clearCache(V),this._clearSelfAndDescendantCache(w),this}_setTransform(M){let Z;for(Z in M)this.attrs[Z]=M[Z]}_clearTransform(){const M={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,M}move(M){let Z=M.x,j=M.y,W=this.x(),at=this.y();return Z!==void 0&&(W+=Z),j!==void 0&&(at+=j),this.setPosition({x:W,y:at}),this}_eachAncestorReverse(M,Z){let j=[],W=this.getParent(),at,mt;if(!(Z&&Z._id===this._id)){for(j.unshift(this);W&&(!Z||W._id!==Z._id);)j.unshift(W),W=W.parent;for(at=j.length,mt=0;mt<at;mt++)M(j[mt])}}rotate(M){return this.rotation(this.rotation()+M),this}moveToTop(){if(!this.parent)return u.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const M=this.index,Z=this.parent.getChildren().length;return M<Z-1?(this.parent.children.splice(M,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return u.Util.warn("Node has no parent. moveUp function is ignored."),!1;const M=this.index,Z=this.parent.getChildren().length;return M<Z-1?(this.parent.children.splice(M,1),this.parent.children.splice(M+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return u.Util.warn("Node has no parent. moveDown function is ignored."),!1;const M=this.index;return M>0?(this.parent.children.splice(M,1),this.parent.children.splice(M-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return u.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const M=this.index;return M>0?(this.parent.children.splice(M,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(M){if(!this.parent)return u.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(M<0||M>=this.parent.children.length)&&u.Util.warn("Unexpected value "+M+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const Z=this.index;return this.parent.children.splice(Z,1),this.parent.children.splice(M,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(O,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let M=this.opacity();const Z=this.getParent();return Z&&!Z._isUnderCache&&(M*=Z.getAbsoluteOpacity()),M}moveTo(M){return this.getParent()!==M&&(this._remove(),M.add(this)),this}toObject(){let M=this.getAttrs(),Z,j,W,at,mt;const wt={attrs:{},className:this.getClassName()};for(Z in M)j=M[Z],mt=u.Util.isObject(j)&&!u.Util._isPlainObject(j)&&!u.Util._isArray(j),!mt&&(W=typeof this[Z]=="function"&&this[Z],delete M[Z],at=W?W.call(this):null,M[Z]=j,at!==j&&(wt.attrs[Z]=j));return u.Util._prepareToStringify(wt)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(M,Z,j){const W=[];Z&&this._isMatch(M)&&W.push(this);let at=this.parent;for(;at;){if(at===j)return W;at._isMatch(M)&&W.push(at),at=at.parent}return W}isAncestorOf(M){return!1}findAncestor(M,Z,j){return this.findAncestors(M,Z,j)[0]}_isMatch(M){if(!M)return!1;if(typeof M=="function")return M(this);let Z=M.replace(/ /g,"").split(","),j=Z.length,W,at;for(W=0;W<j;W++)if(at=Z[W],u.Util.isValidSelector(at)||(u.Util.warn('Selector "'+at+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),u.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),u.Util.warn("Konva is awesome, right?")),at.charAt(0)==="#"){if(this.id()===at.slice(1))return!0}else if(at.charAt(0)==="."){if(this.hasName(at.slice(1)))return!0}else if(this.className===at||this.nodeType===at)return!0;return!1}getLayer(){const M=this.getParent();return M?M.getLayer():null}getStage(){return this._getCache(H,this._getStage)}_getStage(){const M=this.getParent();return M?M.getStage():null}fire(M,Z={},j){return Z.target=Z.target||this,j?this._fireAndBubble(M,Z):this._fire(M,Z),this}getAbsoluteTransform(M){return M?this._getAbsoluteTransform(M):this._getCache(w,this._getAbsoluteTransform)}_getAbsoluteTransform(M){let Z;if(M)return Z=new u.Transform,this._eachAncestorReverse(function(j){const W=j.transformsEnabled();W==="all"?Z.multiply(j.getTransform()):W==="position"&&Z.translate(j.x()-j.offsetX(),j.y()-j.offsetY())},M),Z;{Z=this._cache.get(w)||new u.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(Z):Z.reset();const j=this.transformsEnabled();if(j==="all")Z.multiply(this.getTransform());else if(j==="position"){const W=this.attrs.x||0,at=this.attrs.y||0,mt=this.attrs.offsetX||0,wt=this.attrs.offsetY||0;Z.translate(W-mt,at-wt)}return Z.dirty=!1,Z}}getAbsoluteScale(M){let Z=this;for(;Z;)Z._isUnderCache&&(M=Z),Z=Z.getParent();const W=this.getAbsoluteTransform(M).decompose();return{x:W.scaleX,y:W.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(V,this._getTransform)}_getTransform(){var M,Z;const j=this._cache.get(V)||new u.Transform;j.reset();const W=this.x(),at=this.y(),mt=v.Konva.getAngle(this.rotation()),wt=(M=this.attrs.scaleX)!==null&&M!==void 0?M:1,K=(Z=this.attrs.scaleY)!==null&&Z!==void 0?Z:1,ht=this.attrs.skewX||0,Nt=this.attrs.skewY||0,yt=this.attrs.offsetX||0,Tt=this.attrs.offsetY||0;return(W!==0||at!==0)&&j.translate(W,at),mt!==0&&j.rotate(mt),(ht!==0||Nt!==0)&&j.skew(ht,Nt),(wt!==1||K!==1)&&j.scale(wt,K),(yt!==0||Tt!==0)&&j.translate(-1*yt,-1*Tt),j.dirty=!1,j}clone(M){let Z=u.Util.cloneObject(this.attrs),j,W,at,mt,wt;for(j in M)Z[j]=M[j];const K=new this.constructor(Z);for(j in this.eventListeners)for(W=this.eventListeners[j],at=W.length,mt=0;mt<at;mt++)wt=W[mt],wt.name.indexOf(P)<0&&(K.eventListeners[j]||(K.eventListeners[j]=[]),K.eventListeners[j].push(wt));return K}_toKonvaCanvas(M){M=M||{};const Z=this.getClientRect(),j=this.getStage(),W=M.x!==void 0?M.x:Math.floor(Z.x),at=M.y!==void 0?M.y:Math.floor(Z.y),mt=M.pixelRatio||1,wt=new g.SceneCanvas({width:M.width||Math.ceil(Z.width)||(j?j.width():0),height:M.height||Math.ceil(Z.height)||(j?j.height():0),pixelRatio:mt}),K=wt.getContext(),ht=new g.SceneCanvas({width:wt.width/wt.pixelRatio+Math.abs(W),height:wt.height/wt.pixelRatio+Math.abs(at),pixelRatio:wt.pixelRatio});return M.imageSmoothingEnabled===!1&&(K._context.imageSmoothingEnabled=!1),K.save(),(W||at)&&K.translate(-1*W,-1*at),this.drawScene(wt,void 0,ht),K.restore(),wt}toCanvas(M){return this._toKonvaCanvas(M)._canvas}toDataURL(M){M=M||{};const Z=M.mimeType||null,j=M.quality||null,W=this._toKonvaCanvas(M).toDataURL(Z,j);return M.callback&&M.callback(W),W}toImage(M){return new Promise((Z,j)=>{try{const W=M==null?void 0:M.callback;W&&delete M.callback,u.Util._urlToImage(this.toDataURL(M),function(at){Z(at),W==null||W(at)})}catch(W){j(W)}})}toBlob(M){return new Promise((Z,j)=>{try{const W=M==null?void 0:M.callback;W&&delete M.callback,this.toCanvas(M).toBlob(at=>{Z(at),W==null||W(at)},M==null?void 0:M.mimeType,M==null?void 0:M.quality)}catch(W){j(W)}})}setSize(M){return this.width(M.width),this.height(M.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():v.Konva.dragDistance}_off(M,Z,j){let W=this.eventListeners[M],at,mt,wt;for(at=0;at<W.length;at++)if(mt=W[at].name,wt=W[at].handler,(mt!=="konva"||Z==="konva")&&(!Z||mt===Z)&&(!j||j===wt)){if(W.splice(at,1),W.length===0){delete this.eventListeners[M];break}at--}}_fireChangeEvent(M,Z,j){this._fire(M+F,{oldVal:Z,newVal:j})}addName(M){if(!this.hasName(M)){const Z=this.name(),j=Z?Z+" "+M:M;this.name(j)}return this}hasName(M){if(!M)return!1;const Z=this.name();return Z?(Z||"").split(/\s/g).indexOf(M)!==-1:!1}removeName(M){const Z=(this.name()||"").split(/\s/g),j=Z.indexOf(M);return j!==-1&&(Z.splice(j,1),this.name(Z.join(" "))),this}setAttr(M,Z){const j=this[J+u.Util._capitalize(M)];return u.Util._isFunction(j)?j.call(this,Z):this._setAttr(M,Z),this}_requestDraw(){if(v.Konva.autoDrawEnabled){const M=this.getLayer()||this.getStage();M==null||M.batchDraw()}}_setAttr(M,Z){const j=this.attrs[M];j===Z&&!u.Util.isObject(Z)||(Z==null?delete this.attrs[M]:this.attrs[M]=Z,this._shouldFireChangeEvents&&this._fireChangeEvent(M,j,Z),this._requestDraw())}_setComponentAttr(M,Z,j){let W;j!==void 0&&(W=this.attrs[M],W||(this.attrs[M]=this.getAttr(M)),this.attrs[M][Z]=j,this._fireChangeEvent(M,W,j))}_fireAndBubble(M,Z,j){if(Z&&this.nodeType===E&&(Z.target=this),!((M===G||M===U)&&(j&&(this===j||this.isAncestorOf&&this.isAncestorOf(j))||this.nodeType==="Stage"&&!j))){this._fire(M,Z);const at=(M===G||M===U)&&j&&j.isAncestorOf&&j.isAncestorOf(this)&&!j.isAncestorOf(this.parent);(Z&&!Z.cancelBubble||!Z)&&this.parent&&this.parent.isListening()&&!at&&(j&&j.parent?this._fireAndBubble.call(this.parent,M,Z,j):this._fireAndBubble.call(this.parent,M,Z))}}_getProtoListeners(M){var Z,j,W;const at=(Z=this._cache.get(S))!==null&&Z!==void 0?Z:{};let mt=at==null?void 0:at[M];if(mt===void 0){mt=[];let wt=Object.getPrototypeOf(this);for(;wt;){const K=(W=(j=wt.eventListeners)===null||j===void 0?void 0:j[M])!==null&&W!==void 0?W:[];mt.push(...K),wt=Object.getPrototypeOf(wt)}at[M]=mt,this._cache.set(S,at)}return mt}_fire(M,Z){Z=Z||{},Z.currentTarget=this,Z.type=M;const j=this._getProtoListeners(M);if(j)for(var W=0;W<j.length;W++)j[W].handler.call(this,Z);const at=this.eventListeners[M];if(at)for(var W=0;W<at.length;W++)at[W].handler.call(this,Z)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(M){const Z=M?M.pointerId:void 0,j=this.getStage(),W=this.getAbsolutePosition();if(!j)return;const at=j._getPointerById(Z)||j._changedPointerPositions[0]||W;x.DD._dragElements.set(this._id,{node:this,startPointerPos:at,offset:{x:at.x-W.x,y:at.y-W.y},dragStatus:"ready",pointerId:Z})}startDrag(M,Z=!0){x.DD._dragElements.has(this._id)||this._createDragElement(M);const j=x.DD._dragElements.get(this._id);j.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:M&&M.evt},Z)}_setDragPosition(M,Z){const j=this.getStage()._getPointerById(Z.pointerId);if(!j)return;let W={x:j.x-Z.offset.x,y:j.y-Z.offset.y};const at=this.dragBoundFunc();if(at!==void 0){const mt=at.call(this,W,M);mt?W=mt:u.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==W.x||this._lastPos.y!==W.y)&&(this.setAbsolutePosition(W),this._requestDraw()),this._lastPos=W}stopDrag(M){const Z=x.DD._dragElements.get(this._id);Z&&(Z.dragStatus="stopped"),x.DD._endDragBefore(M),x.DD._endDragAfter(M)}setDraggable(M){this._setAttr("draggable",M),this._dragChange()}isDragging(){const M=x.DD._dragElements.get(this._id);return M?M.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(M){if(!(!(M.evt.button!==void 0)||v.Konva.dragButtons.indexOf(M.evt.button)>=0)||this.isDragging())return;let W=!1;x.DD._dragElements.forEach(at=>{this.isAncestorOf(at.node)&&(W=!0)}),W||this._createDragElement(M)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const Z=x.DD._dragElements.get(this._id),j=Z&&Z.dragStatus==="dragging",W=Z&&Z.dragStatus==="ready";j?this.stopDrag():W&&x.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(M={x:0,y:0}){const Z=this.getStage();if(!Z)return!1;const j={x:-M.x,y:-M.y,width:Z.width()+2*M.x,height:Z.height()+2*M.y};return u.Util.haveIntersection(j,this.getClientRect())}static create(M,Z){return u.Util._isString(M)&&(M=JSON.parse(M)),this._createNode(M,Z)}static _createNode(M,Z){let j=Rp.prototype.getClassName.call(M),W=M.children,at,mt,wt;Z&&(M.attrs.container=Z),v.Konva[j]||(u.Util.warn('Can not find a node with class name "'+j+'". Fallback to "Shape".'),j="Shape");const K=v.Konva[j];if(at=new K(M.attrs),W)for(mt=W.length,wt=0;wt<mt;wt++)at.add(Rp._createNode(W[wt]));return at}};Wf.Node=I,I.prototype.nodeType="Node",I.prototype._attrsAffectingSize=[],I.prototype.eventListeners={},I.prototype.on.call(I.prototype,nt,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(V),this._clearSelfAndDescendantCache(w)}),I.prototype.on.call(I.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ft)}),I.prototype.on.call(I.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(D)}),I.prototype.on.call(I.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(O)});const it=a.Factory.addGetterSetter;return it(I,"zIndex"),it(I,"absolutePosition"),it(I,"position"),it(I,"x",0,(0,b.getNumberValidator)()),it(I,"y",0,(0,b.getNumberValidator)()),it(I,"globalCompositeOperation","source-over",(0,b.getStringValidator)()),it(I,"opacity",1,(0,b.getNumberValidator)()),it(I,"name","",(0,b.getStringValidator)()),it(I,"id","",(0,b.getStringValidator)()),it(I,"rotation",0,(0,b.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"scale",["x","y"]),it(I,"scaleX",1,(0,b.getNumberValidator)()),it(I,"scaleY",1,(0,b.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"skew",["x","y"]),it(I,"skewX",0,(0,b.getNumberValidator)()),it(I,"skewY",0,(0,b.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"offset",["x","y"]),it(I,"offsetX",0,(0,b.getNumberValidator)()),it(I,"offsetY",0,(0,b.getNumberValidator)()),it(I,"dragDistance",void 0,(0,b.getNumberValidator)()),it(I,"width",0,(0,b.getNumberValidator)()),it(I,"height",0,(0,b.getNumberValidator)()),it(I,"listening",!0,(0,b.getBooleanValidator)()),it(I,"preventDefault",!0,(0,b.getBooleanValidator)()),it(I,"filters",void 0,function(dt){return this._filterUpToDate=!1,dt}),it(I,"visible",!0,(0,b.getBooleanValidator)()),it(I,"transformsEnabled","all",(0,b.getStringValidator)()),it(I,"size"),it(I,"dragBoundFunc"),it(I,"draggable",!1,(0,b.getBooleanValidator)()),a.Factory.backCompat(I,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Wf}var $f={},sm;function b0(){if(sm)return $f;sm=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.Container=void 0;const u=Qe(),a=Ri(),g=$e();let v=class extends a.Node{constructor(){super(...arguments),this.children=[]}getChildren(b){if(!b)return this.children||[];const O=this.children||[],S=[];return O.forEach(function(w){b(w)&&S.push(w)}),S}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(b=>{b.parent=null,b.index=0,b.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(b=>{b.parent=null,b.index=0,b.destroy()}),this.children=[],this._requestDraw(),this}add(...b){if(b.length===0)return this;if(b.length>1){for(let S=0;S<b.length;S++)this.add(b[S]);return this}const O=b[0];return O.getParent()?(O.moveTo(this),this):(this._validateAdd(O),O.index=this.getChildren().length,O.parent=this,O._clearCaches(),this.getChildren().push(O),this._fire("add",{child:O}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(b){return this._generalFind(b,!1)}findOne(b){const O=this._generalFind(b,!0);return O.length>0?O[0]:void 0}_generalFind(b,O){const S=[];return this._descendants(w=>{const N=w._isMatch(b);return N&&S.push(w),!!(N&&O)}),S}_descendants(b){let O=!1;const S=this.getChildren();for(const w of S){if(O=b(w),O)return!0;if(w.hasChildren()&&(O=w._descendants(b),O))return!0}return!1}toObject(){const b=a.Node.prototype.toObject.call(this);return b.children=[],this.getChildren().forEach(O=>{b.children.push(O.toObject())}),b}isAncestorOf(b){let O=b.getParent();for(;O;){if(O._id===this._id)return!0;O=O.getParent()}return!1}clone(b){const O=a.Node.prototype.clone.call(this,b);return this.getChildren().forEach(function(S){O.add(S.clone())}),O}getAllIntersections(b){const O=[];return this.find("Shape").forEach(S=>{S.isVisible()&&S.intersects(b)&&O.push(S)}),O}_clearSelfAndDescendantCache(b){var O;super._clearSelfAndDescendantCache(b),!this.isCached()&&((O=this.children)===null||O===void 0||O.forEach(function(S){S._clearSelfAndDescendantCache(b)}))}_setChildrenIndices(){var b;(b=this.children)===null||b===void 0||b.forEach(function(O,S){O.index=S}),this._requestDraw()}drawScene(b,O,S){const w=this.getLayer(),N=b||w&&w.getCanvas(),z=N&&N.getContext(),F=this._getCanvasCache(),X=F&&F.scene,P=N&&N.isCache;if(!this.isVisible()&&!P)return this;if(X){z.save();const D=this.getAbsoluteTransform(O).getMatrix();z.transform(D[0],D[1],D[2],D[3],D[4],D[5]),this._drawCachedSceneCanvas(z),z.restore()}else this._drawChildren("drawScene",N,O,S);return this}drawHit(b,O){if(!this.shouldDrawHit(O))return this;const S=this.getLayer(),w=b||S&&S.hitCanvas,N=w&&w.getContext(),z=this._getCanvasCache();if(z&&z.hit){N.save();const X=this.getAbsoluteTransform(O).getMatrix();N.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(N),N.restore()}else this._drawChildren("drawHit",w,O);return this}_drawChildren(b,O,S,w){var N;const z=O&&O.getContext(),F=this.clipWidth(),X=this.clipHeight(),P=this.clipFunc(),D=typeof F=="number"&&typeof X=="number"||P,G=S===this;if(D){z.save();const J=this.getAbsoluteTransform(S);let E=J.getMatrix();z.transform(E[0],E[1],E[2],E[3],E[4],E[5]),z.beginPath();let T;if(P)T=P.call(this,z,this);else{const H=this.clipX(),V=this.clipY();z.rect(H||0,V||0,F,X)}z.clip.apply(z,T),E=J.copy().invert().getMatrix(),z.transform(E[0],E[1],E[2],E[3],E[4],E[5])}const U=!G&&this.globalCompositeOperation()!=="source-over"&&b==="drawScene";U&&(z.save(),z._applyGlobalCompositeOperation(this)),(N=this.children)===null||N===void 0||N.forEach(function(J){J[b](O,S,w)}),U&&z.restore(),D&&z.restore()}getClientRect(b={}){var O;const S=b.skipTransform,w=b.relativeTo;let N,z,F,X,P={x:1/0,y:1/0,width:0,height:0};const D=this;(O=this.children)===null||O===void 0||O.forEach(function(J){if(!J.visible())return;const E=J.getClientRect({relativeTo:D,skipShadow:b.skipShadow,skipStroke:b.skipStroke});E.width===0&&E.height===0||(N===void 0?(N=E.x,z=E.y,F=E.x+E.width,X=E.y+E.height):(N=Math.min(N,E.x),z=Math.min(z,E.y),F=Math.max(F,E.x+E.width),X=Math.max(X,E.y+E.height)))});const G=this.find("Shape");let U=!1;for(let J=0;J<G.length;J++)if(G[J]._isVisible(this)){U=!0;break}return U&&N!==void 0?P={x:N,y:z,width:F-N,height:X-z}:P={x:0,y:0,width:0,height:0},S?P:this._transformedRect(P,w)}};return $f.Container=v,u.Factory.addComponentsGetterSetter(v,"clip",["x","y","width","height"]),u.Factory.addGetterSetter(v,"clipX",void 0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(v,"clipY",void 0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(v,"clipWidth",void 0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(v,"clipHeight",void 0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(v,"clipFunc"),$f}var gp={},yu={},rm;function B2(){if(rm)return yu;rm=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.getCapturedShape=v,yu.createEvent=x,yu.hasPointerCapture=b,yu.setPointerCapture=O,yu.releaseCapture=S;const u=Fe(),a=new Map,g=u.Konva._global.PointerEvent!==void 0;function v(w){return a.get(w)}function x(w){return{evt:w,pointerId:w.pointerId}}function b(w,N){return a.get(w)===N}function O(w,N){S(w),N.getStage()&&(a.set(w,N),g&&N._fire("gotpointercapture",x(new PointerEvent("gotpointercapture"))))}function S(w,N){const z=a.get(w);if(!z)return;const F=z.getStage();F&&F.content,a.delete(w),g&&z._fire("lostpointercapture",x(new PointerEvent("lostpointercapture")))}return yu}var om;function Py(){return om||(om=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Stage=u.stages=void 0;const a=Ci(),g=Qe(),v=b0(),x=Fe(),b=v0(),O=Gp(),S=Fe(),w=B2(),N="Stage",z="string",F="px",X="mouseout",P="mouseleave",D="mouseover",G="mouseenter",U="mousemove",J="mousedown",E="mouseup",T="pointermove",H="pointerdown",V="pointerup",$="pointercancel",ft="lostpointercapture",nt="pointerout",k="pointerleave",I="pointerover",it="pointerenter",dt="contextmenu",M="touchstart",Z="touchend",j="touchmove",W="touchcancel",at="wheel",mt=5,wt=[[G,"_pointerenter"],[J,"_pointerdown"],[U,"_pointermove"],[E,"_pointerup"],[P,"_pointerleave"],[M,"_pointerdown"],[j,"_pointermove"],[Z,"_pointerup"],[W,"_pointercancel"],[D,"_pointerover"],[at,"_wheel"],[dt,"_contextmenu"],[H,"_pointerdown"],[T,"_pointermove"],[V,"_pointerup"],[$,"_pointercancel"],[ft,"_lostpointercapture"]],K={mouse:{[nt]:X,[k]:P,[I]:D,[it]:G,[T]:U,[H]:J,[V]:E,[$]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[nt]:"touchout",[k]:"touchleave",[I]:"touchover",[it]:"touchenter",[T]:j,[H]:M,[V]:Z,[$]:W,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[nt]:nt,[k]:k,[I]:I,[it]:it,[T]:T,[H]:H,[V]:V,[$]:$,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ht=Ft=>Ft.indexOf("pointer")>=0?"pointer":Ft.indexOf("touch")>=0?"touch":"mouse",Nt=Ft=>{const ut=ht(Ft);if(ut==="pointer")return x.Konva.pointerEventsEnabled&&K.pointer;if(ut==="touch")return K.touch;if(ut==="mouse")return K.mouse};function yt(Ft={}){return(Ft.clipFunc||Ft.clipWidth||Ft.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ft}const Tt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";u.stages=[];class Ht extends v.Container{constructor(ut){super(yt(ut)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),u.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{yt(this.attrs)}),this._checkVisibility()}_validateAdd(ut){const _t=ut.getType()==="Layer",jt=ut.getType()==="FastLayer";_t||jt||a.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ut=this.visible()?"":"none";this.content.style.display=ut}setContainer(ut){if(typeof ut===z){if(ut.charAt(0)==="."){const jt=ut.slice(1);ut=document.getElementsByClassName(jt)[0]}else{var _t;ut.charAt(0)!=="#"?_t=ut:_t=ut.slice(1),ut=document.getElementById(_t)}if(!ut)throw"Can not find container in document with id "+_t}return this._setAttr("container",ut),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ut.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const ut=this.children,_t=ut.length;for(let jt=0;jt<_t;jt++)ut[jt].clear();return this}clone(ut){return ut||(ut={}),ut.container=typeof document<"u"&&document.createElement("div"),v.Container.prototype.clone.call(this,ut)}destroy(){super.destroy();const ut=this.content;ut&&a.Util._isInDocument(ut)&&this.container().removeChild(ut);const _t=u.stages.indexOf(this);return _t>-1&&u.stages.splice(_t,1),a.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ut=this._pointerPositions[0]||this._changedPointerPositions[0];return ut?{x:ut.x,y:ut.y}:(a.Util.warn(Tt),null)}_getPointerById(ut){return this._pointerPositions.find(_t=>_t.id===ut)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ut){ut=ut||{},ut.x=ut.x||0,ut.y=ut.y||0,ut.width=ut.width||this.width(),ut.height=ut.height||this.height();const _t=new b.SceneCanvas({width:ut.width,height:ut.height,pixelRatio:ut.pixelRatio||1}),jt=_t.getContext()._context,zt=this.children;return(ut.x||ut.y)&&jt.translate(-1*ut.x,-1*ut.y),zt.forEach(function(te){if(!te.isVisible())return;const ne=te._toKonvaCanvas(ut);jt.drawImage(ne._canvas,ut.x,ut.y,ne.getWidth()/ne.getPixelRatio(),ne.getHeight()/ne.getPixelRatio())}),_t}getIntersection(ut){if(!ut)return null;const _t=this.children,jt=_t.length,zt=jt-1;for(let te=zt;te>=0;te--){const ne=_t[te].getIntersection(ut);if(ne)return ne}return null}_resizeDOM(){const ut=this.width(),_t=this.height();this.content&&(this.content.style.width=ut+F,this.content.style.height=_t+F),this.bufferCanvas.setSize(ut,_t),this.bufferHitCanvas.setSize(ut,_t),this.children.forEach(jt=>{jt.setSize({width:ut,height:_t}),jt.draw()})}add(ut,..._t){if(arguments.length>1){for(let zt=0;zt<arguments.length;zt++)this.add(arguments[zt]);return this}super.add(ut);const jt=this.children.length;return jt>mt&&a.Util.warn("The stage has "+jt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ut.setSize({width:this.width(),height:this.height()}),ut.draw(),x.Konva.isBrowser&&this.content.appendChild(ut.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ut){return w.hasPointerCapture(ut,this)}setPointerCapture(ut){w.setPointerCapture(ut,this)}releaseCapture(ut){w.releaseCapture(ut,this)}getLayers(){return this.children}_bindContentEvents(){x.Konva.isBrowser&&wt.forEach(([ut,_t])=>{this.content.addEventListener(ut,jt=>{this[_t](jt)},{passive:!1})})}_pointerenter(ut){this.setPointersPositions(ut);const _t=Nt(ut.type);_t&&this._fire(_t.pointerenter,{evt:ut,target:this,currentTarget:this})}_pointerover(ut){this.setPointersPositions(ut);const _t=Nt(ut.type);_t&&this._fire(_t.pointerover,{evt:ut,target:this,currentTarget:this})}_getTargetShape(ut){let _t=this[ut+"targetShape"];return _t&&!_t.getStage()&&(_t=null),_t}_pointerleave(ut){const _t=Nt(ut.type),jt=ht(ut.type);if(!_t)return;this.setPointersPositions(ut);const zt=this._getTargetShape(jt),te=!(x.Konva.isDragging()||x.Konva.isTransforming())||x.Konva.hitOnDragEnabled;zt&&te?(zt._fireAndBubble(_t.pointerout,{evt:ut}),zt._fireAndBubble(_t.pointerleave,{evt:ut}),this._fire(_t.pointerleave,{evt:ut,target:this,currentTarget:this}),this[jt+"targetShape"]=null):te&&(this._fire(_t.pointerleave,{evt:ut,target:this,currentTarget:this}),this._fire(_t.pointerout,{evt:ut,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(ut){const _t=Nt(ut.type),jt=ht(ut.type);if(!_t)return;this.setPointersPositions(ut);let zt=!1;this._changedPointerPositions.forEach(te=>{const ne=this.getIntersection(te);if(O.DD.justDragged=!1,x.Konva["_"+jt+"ListenClick"]=!0,!ne||!ne.isListening()){this[jt+"ClickStartShape"]=void 0;return}x.Konva.capturePointerEventsEnabled&&ne.setPointerCapture(te.id),this[jt+"ClickStartShape"]=ne,ne._fireAndBubble(_t.pointerdown,{evt:ut,pointerId:te.id}),zt=!0;const Se=ut.type.indexOf("touch")>=0;ne.preventDefault()&&ut.cancelable&&Se&&ut.preventDefault()}),zt||this._fire(_t.pointerdown,{evt:ut,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(ut){const _t=Nt(ut.type),jt=ht(ut.type);if(!_t||(x.Konva.isDragging()&&O.DD.node.preventDefault()&&ut.cancelable&&ut.preventDefault(),this.setPointersPositions(ut),!(!(x.Konva.isDragging()||x.Konva.isTransforming())||x.Konva.hitOnDragEnabled)))return;const te={};let ne=!1;const Se=this._getTargetShape(jt);this._changedPointerPositions.forEach(Oe=>{const he=w.getCapturedShape(Oe.id)||this.getIntersection(Oe),xn=Oe.id,De={evt:ut,pointerId:xn},un=Se!==he;if(un&&Se&&(Se._fireAndBubble(_t.pointerout,{...De},he),Se._fireAndBubble(_t.pointerleave,{...De},he)),he){if(te[he._id])return;te[he._id]=!0}he&&he.isListening()?(ne=!0,un&&(he._fireAndBubble(_t.pointerover,{...De},Se),he._fireAndBubble(_t.pointerenter,{...De},Se),this[jt+"targetShape"]=he),he._fireAndBubble(_t.pointermove,{...De})):Se&&(this._fire(_t.pointerover,{evt:ut,target:this,currentTarget:this,pointerId:xn}),this[jt+"targetShape"]=null)}),ne||this._fire(_t.pointermove,{evt:ut,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ut){const _t=Nt(ut.type),jt=ht(ut.type);if(!_t)return;this.setPointersPositions(ut);const zt=this[jt+"ClickStartShape"],te=this[jt+"ClickEndShape"],ne={};let Se=!1;this._changedPointerPositions.forEach(Oe=>{const he=w.getCapturedShape(Oe.id)||this.getIntersection(Oe);if(he){if(he.releaseCapture(Oe.id),ne[he._id])return;ne[he._id]=!0}const xn=Oe.id,De={evt:ut,pointerId:xn};let un=!1;x.Konva["_"+jt+"InDblClickWindow"]?(un=!0,clearTimeout(this[jt+"DblTimeout"])):O.DD.justDragged||(x.Konva["_"+jt+"InDblClickWindow"]=!0,clearTimeout(this[jt+"DblTimeout"])),this[jt+"DblTimeout"]=setTimeout(function(){x.Konva["_"+jt+"InDblClickWindow"]=!1},x.Konva.dblClickWindow),he&&he.isListening()?(Se=!0,this[jt+"ClickEndShape"]=he,he._fireAndBubble(_t.pointerup,{...De}),x.Konva["_"+jt+"ListenClick"]&&zt&&zt===he&&(he._fireAndBubble(_t.pointerclick,{...De}),un&&te&&te===he&&he._fireAndBubble(_t.pointerdblclick,{...De}))):(this[jt+"ClickEndShape"]=null,x.Konva["_"+jt+"ListenClick"]&&this._fire(_t.pointerclick,{evt:ut,target:this,currentTarget:this,pointerId:xn}),un&&this._fire(_t.pointerdblclick,{evt:ut,target:this,currentTarget:this,pointerId:xn}))}),Se||this._fire(_t.pointerup,{evt:ut,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),x.Konva["_"+jt+"ListenClick"]=!1,ut.cancelable&&jt!=="touch"&&jt!=="pointer"&&ut.preventDefault()}_contextmenu(ut){this.setPointersPositions(ut);const _t=this.getIntersection(this.getPointerPosition());_t&&_t.isListening()?_t._fireAndBubble(dt,{evt:ut}):this._fire(dt,{evt:ut,target:this,currentTarget:this})}_wheel(ut){this.setPointersPositions(ut);const _t=this.getIntersection(this.getPointerPosition());_t&&_t.isListening()?_t._fireAndBubble(at,{evt:ut}):this._fire(at,{evt:ut,target:this,currentTarget:this})}_pointercancel(ut){this.setPointersPositions(ut);const _t=w.getCapturedShape(ut.pointerId)||this.getIntersection(this.getPointerPosition());_t&&_t._fireAndBubble(V,w.createEvent(ut)),w.releaseCapture(ut.pointerId)}_lostpointercapture(ut){w.releaseCapture(ut.pointerId)}setPointersPositions(ut){const _t=this._getContentPosition();let jt=null,zt=null;ut=ut||window.event,ut.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ut.touches,te=>{this._pointerPositions.push({id:te.identifier,x:(te.clientX-_t.left)/_t.scaleX,y:(te.clientY-_t.top)/_t.scaleY})}),Array.prototype.forEach.call(ut.changedTouches||ut.touches,te=>{this._changedPointerPositions.push({id:te.identifier,x:(te.clientX-_t.left)/_t.scaleX,y:(te.clientY-_t.top)/_t.scaleY})})):(jt=(ut.clientX-_t.left)/_t.scaleX,zt=(ut.clientY-_t.top)/_t.scaleY,this.pointerPos={x:jt,y:zt},this._pointerPositions=[{x:jt,y:zt,id:a.Util._getFirstPointerId(ut)}],this._changedPointerPositions=[{x:jt,y:zt,id:a.Util._getFirstPointerId(ut)}])}_setPointerPosition(ut){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ut)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const ut=this.content.getBoundingClientRect();return{top:ut.top,left:ut.left,scaleX:ut.width/this.content.clientWidth||1,scaleY:ut.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new b.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new b.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!x.Konva.isBrowser)return;const ut=this.container();if(!ut)throw"Stage has no container. A container is required.";ut.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ut.appendChild(this.content),this._resizeDOM()}cache(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ut){ut.batchDraw()}),this}}u.Stage=Ht,Ht.prototype.nodeType=N,(0,S._registerNode)(Ht),g.Factory.addGetterSetter(Ht,"container"),x.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{u.stages.forEach(Ft=>{Ft.batchDraw()})})})(gp)),gp}var th={},yp={},um;function da(){return um||(um=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Shape=u.shapes=void 0;const a=Fe(),g=Ci(),v=Qe(),x=Ri(),b=$e(),O=Fe(),S=B2(),w="hasShadow",N="shadowRGBA",z="patternImage",F="linearGradient",X="radialGradient";let P;function D(){return P||(P=g.Util.createCanvasElement().getContext("2d"),P)}u.shapes={};function G(k){const I=this.attrs.fillRule;I?k.fill(I):k.fill()}function U(k){k.stroke()}function J(k){const I=this.attrs.fillRule;I?k.fill(I):k.fill()}function E(k){k.stroke()}function T(){this._clearCache(w)}function H(){this._clearCache(N)}function V(){this._clearCache(z)}function $(){this._clearCache(F)}function ft(){this._clearCache(X)}class nt extends x.Node{constructor(I){super(I);let it;for(;it=g.Util.getRandomColor(),!(it&&!(it in u.shapes)););this.colorKey=it,u.shapes[it]=this}getContext(){return g.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return g.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(w,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(z,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const it=D().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(it&&it.setTransform){const dt=new g.Transform;dt.translate(this.fillPatternX(),this.fillPatternY()),dt.rotate(a.Konva.getAngle(this.fillPatternRotation())),dt.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),dt.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const M=dt.getMatrix(),Z=typeof DOMMatrix>"u"?{a:M[0],b:M[1],c:M[2],d:M[3],e:M[4],f:M[5]}:new DOMMatrix(M);it.setTransform(Z)}return it}}_getLinearGradient(){return this._getCache(F,this.__getLinearGradient)}__getLinearGradient(){const I=this.fillLinearGradientColorStops();if(I){const it=D(),dt=this.fillLinearGradientStartPoint(),M=this.fillLinearGradientEndPoint(),Z=it.createLinearGradient(dt.x,dt.y,M.x,M.y);for(let j=0;j<I.length;j+=2)Z.addColorStop(I[j],I[j+1]);return Z}}_getRadialGradient(){return this._getCache(X,this.__getRadialGradient)}__getRadialGradient(){const I=this.fillRadialGradientColorStops();if(I){const it=D(),dt=this.fillRadialGradientStartPoint(),M=this.fillRadialGradientEndPoint(),Z=it.createRadialGradient(dt.x,dt.y,this.fillRadialGradientStartRadius(),M.x,M.y,this.fillRadialGradientEndRadius());for(let j=0;j<I.length;j+=2)Z.addColorStop(I[j],I[j+1]);return Z}}getShadowRGBA(){return this._getCache(N,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const I=g.Util.colorToRGBA(this.shadowColor());if(I)return"rgba("+I.r+","+I.g+","+I.b+","+I.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const I=this.hitStrokeWidth();return I==="auto"?this.hasStroke():this.strokeEnabled()&&!!I}intersects(I){const it=this.getStage();if(!it)return!1;const dt=it.bufferHitCanvas;return dt.getContext().clear(),this.drawHit(dt,void 0,!0),dt.context.getImageData(Math.round(I.x),Math.round(I.y),1,1).data[3]>0}destroy(){return x.Node.prototype.destroy.call(this),delete u.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(I){var it;if(!((it=this.attrs.perfectDrawEnabled)!==null&&it!==void 0?it:!0))return!1;const M=I||this.hasFill(),Z=this.hasStroke(),j=this.getAbsoluteOpacity()!==1;if(M&&Z&&j)return!0;const W=this.hasShadow(),at=this.shadowForStrokeEnabled();return!!(M&&Z&&W&&at)}setStrokeHitEnabled(I){g.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),I?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const I=this.size();return{x:this._centroid?-I.width/2:0,y:this._centroid?-I.height/2:0,width:I.width,height:I.height}}getClientRect(I={}){let it=!1,dt=this.getParent();for(;dt;){if(dt.isCached()){it=!0;break}dt=dt.getParent()}const M=I.skipTransform,Z=I.relativeTo||it&&this.getStage()||void 0,j=this.getSelfRect(),at=!I.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,mt=j.width+at,wt=j.height+at,K=!I.skipShadow&&this.hasShadow(),ht=K?this.shadowOffsetX():0,Nt=K?this.shadowOffsetY():0,yt=mt+Math.abs(ht),Tt=wt+Math.abs(Nt),Ht=K&&this.shadowBlur()||0,Ft=yt+Ht*2,ut=Tt+Ht*2,_t={width:Ft,height:ut,x:-(at/2+Ht)+Math.min(ht,0)+j.x,y:-(at/2+Ht)+Math.min(Nt,0)+j.y};return M?_t:this._transformedRect(_t,Z)}drawScene(I,it,dt){const M=this.getLayer();let Z=I||M.getCanvas(),j=Z.getContext(),W=this._getCanvasCache(),at=this.getSceneFunc(),mt=this.hasShadow(),wt,K;const ht=Z.isCache,Nt=it===this;if(!this.isVisible()&&!Nt)return this;if(W){j.save();const Tt=this.getAbsoluteTransform(it).getMatrix();return j.transform(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5]),this._drawCachedSceneCanvas(j),j.restore(),this}if(!at)return this;if(j.save(),this._useBufferCanvas()&&!ht){wt=this.getStage();const Tt=dt||wt.bufferCanvas;K=Tt.getContext(),K.clear(),K.save(),K._applyLineJoin(this);var yt=this.getAbsoluteTransform(it).getMatrix();K.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),at.call(this,K,this),K.restore();const Ht=Tt.pixelRatio;mt&&j._applyShadow(this),j._applyOpacity(this),j._applyGlobalCompositeOperation(this),j.drawImage(Tt._canvas,0,0,Tt.width/Ht,Tt.height/Ht)}else{if(j._applyLineJoin(this),!Nt){var yt=this.getAbsoluteTransform(it).getMatrix();j.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),j._applyOpacity(this),j._applyGlobalCompositeOperation(this)}mt&&j._applyShadow(this),at.call(this,j,this)}return j.restore(),this}drawHit(I,it,dt=!1){if(!this.shouldDrawHit(it,dt))return this;const M=this.getLayer(),Z=I||M.hitCanvas,j=Z&&Z.getContext(),W=this.hitFunc()||this.sceneFunc(),at=this._getCanvasCache(),mt=at&&at.hit;if(this.colorKey||g.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),mt){j.save();const K=this.getAbsoluteTransform(it).getMatrix();return j.transform(K[0],K[1],K[2],K[3],K[4],K[5]),this._drawCachedHitCanvas(j),j.restore(),this}if(!W)return this;if(j.save(),j._applyLineJoin(this),!(this===it)){const K=this.getAbsoluteTransform(it).getMatrix();j.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return W.call(this,j,this),j.restore(),this}drawHitFromCache(I=0){const it=this._getCanvasCache(),dt=this._getCachedSceneCanvas(),M=it.hit,Z=M.getContext(),j=M.getWidth(),W=M.getHeight();Z.clear(),Z.drawImage(dt._canvas,0,0,j,W);try{const at=Z.getImageData(0,0,j,W),mt=at.data,wt=mt.length,K=g.Util._hexToRgb(this.colorKey);for(let ht=0;ht<wt;ht+=4)mt[ht+3]>I?(mt[ht]=K.r,mt[ht+1]=K.g,mt[ht+2]=K.b,mt[ht+3]=255):mt[ht+3]=0;Z.putImageData(at,0,0)}catch(at){g.Util.error("Unable to draw hit graph from cached scene canvas. "+at.message)}return this}hasPointerCapture(I){return S.hasPointerCapture(I,this)}setPointerCapture(I){S.setPointerCapture(I,this)}releaseCapture(I){S.releaseCapture(I,this)}}u.Shape=nt,nt.prototype._fillFunc=G,nt.prototype._strokeFunc=U,nt.prototype._fillFuncHit=J,nt.prototype._strokeFuncHit=E,nt.prototype._centroid=!1,nt.prototype.nodeType="Shape",(0,O._registerNode)(nt),nt.prototype.eventListeners={},nt.prototype.on.call(nt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",T),nt.prototype.on.call(nt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",H),nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",V),nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",$),nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",ft),v.Factory.addGetterSetter(nt,"stroke",void 0,(0,b.getStringOrGradientValidator)()),v.Factory.addGetterSetter(nt,"strokeWidth",2,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillAfterStrokeEnabled",!1),v.Factory.addGetterSetter(nt,"hitStrokeWidth","auto",(0,b.getNumberOrAutoValidator)()),v.Factory.addGetterSetter(nt,"strokeHitEnabled",!0,(0,b.getBooleanValidator)()),v.Factory.addGetterSetter(nt,"perfectDrawEnabled",!0,(0,b.getBooleanValidator)()),v.Factory.addGetterSetter(nt,"shadowForStrokeEnabled",!0,(0,b.getBooleanValidator)()),v.Factory.addGetterSetter(nt,"lineJoin"),v.Factory.addGetterSetter(nt,"lineCap"),v.Factory.addGetterSetter(nt,"sceneFunc"),v.Factory.addGetterSetter(nt,"hitFunc"),v.Factory.addGetterSetter(nt,"dash"),v.Factory.addGetterSetter(nt,"dashOffset",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"shadowColor",void 0,(0,b.getStringValidator)()),v.Factory.addGetterSetter(nt,"shadowBlur",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"shadowOpacity",1,(0,b.getNumberValidator)()),v.Factory.addComponentsGetterSetter(nt,"shadowOffset",["x","y"]),v.Factory.addGetterSetter(nt,"shadowOffsetX",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"shadowOffsetY",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillPatternImage"),v.Factory.addGetterSetter(nt,"fill",void 0,(0,b.getStringOrGradientValidator)()),v.Factory.addGetterSetter(nt,"fillPatternX",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillPatternY",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillLinearGradientColorStops"),v.Factory.addGetterSetter(nt,"strokeLinearGradientColorStops"),v.Factory.addGetterSetter(nt,"fillRadialGradientStartRadius",0),v.Factory.addGetterSetter(nt,"fillRadialGradientEndRadius",0),v.Factory.addGetterSetter(nt,"fillRadialGradientColorStops"),v.Factory.addGetterSetter(nt,"fillPatternRepeat","repeat"),v.Factory.addGetterSetter(nt,"fillEnabled",!0),v.Factory.addGetterSetter(nt,"strokeEnabled",!0),v.Factory.addGetterSetter(nt,"shadowEnabled",!0),v.Factory.addGetterSetter(nt,"dashEnabled",!0),v.Factory.addGetterSetter(nt,"strokeScaleEnabled",!0),v.Factory.addGetterSetter(nt,"fillPriority","color"),v.Factory.addComponentsGetterSetter(nt,"fillPatternOffset",["x","y"]),v.Factory.addGetterSetter(nt,"fillPatternOffsetX",0,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillPatternOffsetY",0,(0,b.getNumberValidator)()),v.Factory.addComponentsGetterSetter(nt,"fillPatternScale",["x","y"]),v.Factory.addGetterSetter(nt,"fillPatternScaleX",1,(0,b.getNumberValidator)()),v.Factory.addGetterSetter(nt,"fillPatternScaleY",1,(0,b.getNumberValidator)()),v.Factory.addComponentsGetterSetter(nt,"fillLinearGradientStartPoint",["x","y"]),v.Factory.addComponentsGetterSetter(nt,"strokeLinearGradientStartPoint",["x","y"]),v.Factory.addGetterSetter(nt,"fillLinearGradientStartPointX",0),v.Factory.addGetterSetter(nt,"strokeLinearGradientStartPointX",0),v.Factory.addGetterSetter(nt,"fillLinearGradientStartPointY",0),v.Factory.addGetterSetter(nt,"strokeLinearGradientStartPointY",0),v.Factory.addComponentsGetterSetter(nt,"fillLinearGradientEndPoint",["x","y"]),v.Factory.addComponentsGetterSetter(nt,"strokeLinearGradientEndPoint",["x","y"]),v.Factory.addGetterSetter(nt,"fillLinearGradientEndPointX",0),v.Factory.addGetterSetter(nt,"strokeLinearGradientEndPointX",0),v.Factory.addGetterSetter(nt,"fillLinearGradientEndPointY",0),v.Factory.addGetterSetter(nt,"strokeLinearGradientEndPointY",0),v.Factory.addComponentsGetterSetter(nt,"fillRadialGradientStartPoint",["x","y"]),v.Factory.addGetterSetter(nt,"fillRadialGradientStartPointX",0),v.Factory.addGetterSetter(nt,"fillRadialGradientStartPointY",0),v.Factory.addComponentsGetterSetter(nt,"fillRadialGradientEndPoint",["x","y"]),v.Factory.addGetterSetter(nt,"fillRadialGradientEndPointX",0),v.Factory.addGetterSetter(nt,"fillRadialGradientEndPointY",0),v.Factory.addGetterSetter(nt,"fillPatternRotation",0),v.Factory.addGetterSetter(nt,"fillRule",void 0,(0,b.getStringValidator)()),v.Factory.backCompat(nt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(yp)),yp}var cm;function z2(){if(cm)return th;cm=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Layer=void 0;const u=Ci(),a=b0(),g=Ri(),v=Qe(),x=v0(),b=$e(),O=da(),S=Fe(),w="#",N="beforeDraw",z="draw",F=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],X=F.length;class P extends a.Container{constructor(G){super(G),this.canvas=new x.SceneCanvas,this.hitCanvas=new x.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(G){return this.getContext().clear(G),this.getHitCanvas().getContext().clear(G),this}setZIndex(G){super.setZIndex(G);const U=this.getStage();return U&&U.content&&(U.content.removeChild(this.getNativeCanvasElement()),G<U.children.length-1?U.content.insertBefore(this.getNativeCanvasElement(),U.children[G+1].getCanvas()._canvas):U.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){g.Node.prototype.moveToTop.call(this);const G=this.getStage();return G&&G.content&&(G.content.removeChild(this.getNativeCanvasElement()),G.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!g.Node.prototype.moveUp.call(this))return!1;const U=this.getStage();return!U||!U.content?!1:(U.content.removeChild(this.getNativeCanvasElement()),this.index<U.children.length-1?U.content.insertBefore(this.getNativeCanvasElement(),U.children[this.index+1].getCanvas()._canvas):U.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(g.Node.prototype.moveDown.call(this)){const G=this.getStage();if(G){const U=G.children;G.content&&(G.content.removeChild(this.getNativeCanvasElement()),G.content.insertBefore(this.getNativeCanvasElement(),U[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(g.Node.prototype.moveToBottom.call(this)){const G=this.getStage();if(G){const U=G.children;G.content&&(G.content.removeChild(this.getNativeCanvasElement()),G.content.insertBefore(this.getNativeCanvasElement(),U[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const G=this.getNativeCanvasElement();return g.Node.prototype.remove.call(this),G&&G.parentNode&&u.Util._isInDocument(G)&&G.parentNode.removeChild(G),this}getStage(){return this.parent}setSize({width:G,height:U}){return this.canvas.setSize(G,U),this.hitCanvas.setSize(G,U),this._setSmoothEnabled(),this}_validateAdd(G){const U=G.getType();U!=="Group"&&U!=="Shape"&&u.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(G){return G=G||{},G.width=G.width||this.getWidth(),G.height=G.height||this.getHeight(),G.x=G.x!==void 0?G.x:this.x(),G.y=G.y!==void 0?G.y:this.y(),g.Node.prototype._toKonvaCanvas.call(this,G)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){u.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){u.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,u.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(G){if(!this.isListening()||!this.isVisible())return null;let U=1,J=!1;for(;;){for(let E=0;E<X;E++){const T=F[E],H=this._getIntersection({x:G.x+T.x*U,y:G.y+T.y*U}),V=H.shape;if(V)return V;if(J=!!H.antialiased,!H.antialiased)break}if(J)U+=1;else return null}}_getIntersection(G){const U=this.hitCanvas.pixelRatio,J=this.hitCanvas.context.getImageData(Math.round(G.x*U),Math.round(G.y*U),1,1).data,E=J[3];if(E===255){const T=u.Util._rgbToHex(J[0],J[1],J[2]),H=O.shapes[w+T];return H?{shape:H}:{antialiased:!0}}else if(E>0)return{antialiased:!0};return{}}drawScene(G,U){const J=this.getLayer(),E=G||J&&J.getCanvas();return this._fire(N,{node:this}),this.clearBeforeDraw()&&E.getContext().clear(),a.Container.prototype.drawScene.call(this,E,U),this._fire(z,{node:this}),this}drawHit(G,U){const J=this.getLayer(),E=G||J&&J.hitCanvas;return J&&J.clearBeforeDraw()&&J.getHitCanvas().getContext().clear(),a.Container.prototype.drawHit.call(this,E,U),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(G){u.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(G)}getHitGraphEnabled(G){return u.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const G=this.parent;!!this.hitCanvas._canvas.parentNode?G.content.removeChild(this.hitCanvas._canvas):G.content.appendChild(this.hitCanvas._canvas)}destroy(){return u.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return th.Layer=P,P.prototype.nodeType="Layer",(0,S._registerNode)(P),v.Factory.addGetterSetter(P,"imageSmoothingEnabled",!0),v.Factory.addGetterSetter(P,"clearBeforeDraw",!0),v.Factory.addGetterSetter(P,"hitGraphEnabled",!0,(0,b.getBooleanValidator)()),th}var eh={},fm;function Ry(){if(fm)return eh;fm=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.FastLayer=void 0;const u=Ci(),a=z2(),g=Fe();let v=class extends a.Layer{constructor(b){super(b),this.listening(!1),u.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return eh.FastLayer=v,v.prototype.nodeType="FastLayer",(0,g._registerNode)(v),eh}var nh={},hm;function Xp(){if(hm)return nh;hm=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Group=void 0;const u=Ci(),a=b0(),g=Fe();let v=class extends a.Container{_validateAdd(b){const O=b.getType();O!=="Group"&&O!=="Shape"&&u.Util.throw("You may only add groups and shapes to groups.")}};return nh.Group=v,v.prototype.nodeType="Group",(0,g._registerNode)(v),nh}var ih={},dm;function Hp(){if(dm)return ih;dm=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.Animation=void 0;const u=Fe(),a=Ci(),g=(function(){return u.glob.performance&&u.glob.performance.now?function(){return u.glob.performance.now()}:function(){return new Date().getTime()}})();let v=class kc{constructor(b,O){this.id=kc.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:g(),frameRate:0},this.func=b,this.setLayers(O)}setLayers(b){let O=[];return b&&(O=Array.isArray(b)?b:[b]),this.layers=O,this}getLayers(){return this.layers}addLayer(b){const O=this.layers,S=O.length;for(let w=0;w<S;w++)if(O[w]._id===b._id)return!1;return this.layers.push(b),!0}isRunning(){const O=kc.animations,S=O.length;for(let w=0;w<S;w++)if(O[w].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=g(),kc._addAnimation(this),this}stop(){return kc._removeAnimation(this),this}_updateFrameObject(b){this.frame.timeDiff=b-this.frame.lastTime,this.frame.lastTime=b,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(b){this.animations.push(b),this._handleAnimation()}static _removeAnimation(b){const O=b.id,S=this.animations,w=S.length;for(let N=0;N<w;N++)if(S[N].id===O){this.animations.splice(N,1);break}}static _runFrames(){const b={},O=this.animations;for(let S=0;S<O.length;S++){const w=O[S],N=w.layers,z=w.func;w._updateFrameObject(g());const F=N.length;let X;if(z?X=z.call(w,w.frame)!==!1:X=!0,!!X)for(let P=0;P<F;P++){const D=N[P];D._id!==void 0&&(b[D._id]=D)}}for(const S in b)b.hasOwnProperty(S)&&b[S].batchDraw()}static _animationLoop(){const b=kc;b.animations.length?(b._runFrames(),a.Util.requestAnimFrame(b._animationLoop)):b.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,a.Util.requestAnimFrame(this._animationLoop))}};return ih.Animation=v,v.animations=[],v.animIdCounter=0,v.animRunning=!1,ih}var vp={},pm;function Ly(){return pm||(pm=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Easings=u.Tween=void 0;const a=Ci(),g=Hp(),v=Ri(),x=Fe(),b={node:1,duration:1,easing:1,onFinish:1,yoyo:1},O=1,S=2,w=3,N=["fill","stroke","shadowColor"];let z=0;class F{constructor(D,G,U,J,E,T,H){this.prop=D,this.propFunc=G,this.begin=J,this._pos=J,this.duration=T,this._change=0,this.prevPos=0,this.yoyo=H,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=U,this._change=E-this.begin,this.pause()}fire(D){const G=this[D];G&&G()}setTime(D){D>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():D<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=D,this.update())}getTime(){return this._time}setPosition(D){this.prevPos=this._pos,this.propFunc(D),this._pos=D}getPosition(D){return D===void 0&&(D=this._time),this.func(D,this.begin,this._change,this.duration)}play(){this.state=S,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=w,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(D){this.pause(),this._time=D,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const D=this.getTimer()-this._startTime;this.state===S?this.setTime(D):this.state===w&&this.setTime(this.duration-D)}pause(){this.state=O,this.fire("onPause")}getTimer(){return new Date().getTime()}}class X{constructor(D){const G=this,U=D.node,J=U._id,E=D.easing||u.Easings.Linear,T=!!D.yoyo;let H,V;typeof D.duration>"u"?H=.3:D.duration===0?H=.001:H=D.duration,this.node=U,this._id=z++;const $=U.getLayer()||(U instanceof x.Konva.Stage?U.getLayers():null);$||a.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new g.Animation(function(){G.tween.onEnterFrame()},$),this.tween=new F(V,function(ft){G._tweenFunc(ft)},E,0,1,H*1e3,T),this._addListeners(),X.attrs[J]||(X.attrs[J]={}),X.attrs[J][this._id]||(X.attrs[J][this._id]={}),X.tweens[J]||(X.tweens[J]={});for(V in D)b[V]===void 0&&this._addAttr(V,D[V]);this.reset(),this.onFinish=D.onFinish,this.onReset=D.onReset,this.onUpdate=D.onUpdate}_addAttr(D,G){const U=this.node,J=U._id;let E,T,H,V,$;const ft=X.tweens[J][D];ft&&delete X.attrs[J][ft][D];let nt=U.getAttr(D);if(a.Util._isArray(G))if(E=[],T=Math.max(G.length,nt.length),D==="points"&&G.length!==nt.length&&(G.length>nt.length?(V=nt,nt=a.Util._prepareArrayForTween(nt,G,U.closed())):(H=G,G=a.Util._prepareArrayForTween(G,nt,U.closed()))),D.indexOf("fill")===0)for(let k=0;k<T;k++)if(k%2===0)E.push(G[k]-nt[k]);else{const I=a.Util.colorToRGBA(nt[k]);$=a.Util.colorToRGBA(G[k]),nt[k]=I,E.push({r:$.r-I.r,g:$.g-I.g,b:$.b-I.b,a:$.a-I.a})}else for(let k=0;k<T;k++)E.push(G[k]-nt[k]);else N.indexOf(D)!==-1?(nt=a.Util.colorToRGBA(nt),$=a.Util.colorToRGBA(G),E={r:$.r-nt.r,g:$.g-nt.g,b:$.b-nt.b,a:$.a-nt.a}):E=G-nt;X.attrs[J][this._id][D]={start:nt,diff:E,end:G,trueEnd:H,trueStart:V},X.tweens[J][D]=this._id}_tweenFunc(D){const G=this.node,U=X.attrs[G._id][this._id];let J,E,T,H,V,$,ft,nt;for(J in U){if(E=U[J],T=E.start,H=E.diff,nt=E.end,a.Util._isArray(T))if(V=[],ft=Math.max(T.length,nt.length),J.indexOf("fill")===0)for($=0;$<ft;$++)$%2===0?V.push((T[$]||0)+H[$]*D):V.push("rgba("+Math.round(T[$].r+H[$].r*D)+","+Math.round(T[$].g+H[$].g*D)+","+Math.round(T[$].b+H[$].b*D)+","+(T[$].a+H[$].a*D)+")");else for($=0;$<ft;$++)V.push((T[$]||0)+H[$]*D);else N.indexOf(J)!==-1?V="rgba("+Math.round(T.r+H.r*D)+","+Math.round(T.g+H.g*D)+","+Math.round(T.b+H.b*D)+","+(T.a+H.a*D)+")":V=T+H*D;G.setAttr(J,V)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const D=this.node,G=X.attrs[D._id][this._id];G.points&&G.points.trueEnd&&D.setAttr("points",G.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const D=this.node,G=X.attrs[D._id][this._id];G.points&&G.points.trueStart&&D.points(G.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(D){return this.tween.seek(D*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const D=this.node._id,G=this._id,U=X.tweens[D];this.pause();for(const J in U)delete X.tweens[D][J];delete X.attrs[D][G]}}u.Tween=X,X.attrs={},X.tweens={},v.Node.prototype.to=function(P){const D=P.onFinish;P.node=this,P.onFinish=function(){this.destroy(),D&&D()},new X(P).play()},u.Easings={BackEaseIn(P,D,G,U){return G*(P/=U)*P*((1.70158+1)*P-1.70158)+D},BackEaseOut(P,D,G,U){return G*((P=P/U-1)*P*((1.70158+1)*P+1.70158)+1)+D},BackEaseInOut(P,D,G,U){let J=1.70158;return(P/=U/2)<1?G/2*(P*P*(((J*=1.525)+1)*P-J))+D:G/2*((P-=2)*P*(((J*=1.525)+1)*P+J)+2)+D},ElasticEaseIn(P,D,G,U,J,E){let T=0;return P===0?D:(P/=U)===1?D+G:(E||(E=U*.3),!J||J<Math.abs(G)?(J=G,T=E/4):T=E/(2*Math.PI)*Math.asin(G/J),-(J*Math.pow(2,10*(P-=1))*Math.sin((P*U-T)*(2*Math.PI)/E))+D)},ElasticEaseOut(P,D,G,U,J,E){let T=0;return P===0?D:(P/=U)===1?D+G:(E||(E=U*.3),!J||J<Math.abs(G)?(J=G,T=E/4):T=E/(2*Math.PI)*Math.asin(G/J),J*Math.pow(2,-10*P)*Math.sin((P*U-T)*(2*Math.PI)/E)+G+D)},ElasticEaseInOut(P,D,G,U,J,E){let T=0;return P===0?D:(P/=U/2)===2?D+G:(E||(E=U*(.3*1.5)),!J||J<Math.abs(G)?(J=G,T=E/4):T=E/(2*Math.PI)*Math.asin(G/J),P<1?-.5*(J*Math.pow(2,10*(P-=1))*Math.sin((P*U-T)*(2*Math.PI)/E))+D:J*Math.pow(2,-10*(P-=1))*Math.sin((P*U-T)*(2*Math.PI)/E)*.5+G+D)},BounceEaseOut(P,D,G,U){return(P/=U)<1/2.75?G*(7.5625*P*P)+D:P<2/2.75?G*(7.5625*(P-=1.5/2.75)*P+.75)+D:P<2.5/2.75?G*(7.5625*(P-=2.25/2.75)*P+.9375)+D:G*(7.5625*(P-=2.625/2.75)*P+.984375)+D},BounceEaseIn(P,D,G,U){return G-u.Easings.BounceEaseOut(U-P,0,G,U)+D},BounceEaseInOut(P,D,G,U){return P<U/2?u.Easings.BounceEaseIn(P*2,0,G,U)*.5+D:u.Easings.BounceEaseOut(P*2-U,0,G,U)*.5+G*.5+D},EaseIn(P,D,G,U){return G*(P/=U)*P+D},EaseOut(P,D,G,U){return-G*(P/=U)*(P-2)+D},EaseInOut(P,D,G,U){return(P/=U/2)<1?G/2*P*P+D:-G/2*(--P*(P-2)-1)+D},StrongEaseIn(P,D,G,U){return G*(P/=U)*P*P*P*P+D},StrongEaseOut(P,D,G,U){return G*((P=P/U-1)*P*P*P*P+1)+D},StrongEaseInOut(P,D,G,U){return(P/=U/2)<1?G/2*P*P*P*P*P+D:G/2*((P-=2)*P*P*P*P+2)+D},Linear(P,D,G,U){return G*P/U+D}}})(vp)),vp}var mm;function Lp(){return mm||(mm=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Konva=void 0;const a=Fe(),g=Ci(),v=Ri(),x=b0(),b=Py(),O=z2(),S=Ry(),w=Xp(),N=Gp(),z=da(),F=Hp(),X=Ly(),P=L2(),D=v0();u.Konva=g.Util._assign(a.Konva,{Util:g.Util,Transform:g.Transform,Node:v.Node,Container:x.Container,Stage:b.Stage,stages:b.stages,Layer:O.Layer,FastLayer:S.FastLayer,Group:w.Group,DD:N.DD,Shape:z.Shape,shapes:z.shapes,Animation:F.Animation,Tween:X.Tween,Easings:X.Easings,Context:P.Context,Canvas:D.Canvas}),u.default=u.Konva})(fp)),fp}var ah={},gm;function By(){if(gm)return ah;gm=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Arc=void 0;const u=Qe(),a=da(),g=Fe(),v=$e(),x=Fe();let b=class extends a.Shape{_sceneFunc(S){const w=g.Konva.getAngle(this.angle()),N=this.clockwise();S.beginPath(),S.arc(0,0,this.outerRadius(),0,w,N),S.arc(0,0,this.innerRadius(),w,0,!N),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}getSelfRect(){const S=this.innerRadius(),w=this.outerRadius(),N=this.clockwise(),z=g.Konva.getAngle(N?360-this.angle():this.angle()),F=Math.cos(Math.min(z,Math.PI)),X=1,P=Math.sin(Math.min(Math.max(Math.PI,z),3*Math.PI/2)),D=Math.sin(Math.min(z,Math.PI/2)),G=F*(F>0?S:w),U=X*w,J=P*(P>0?S:w),E=D*(D>0?w:S);return{x:G,y:N?-1*E:J,width:U-G,height:E-J}}};return ah.Arc=b,b.prototype._centroid=!0,b.prototype.className="Arc",b.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,x._registerNode)(b),u.Factory.addGetterSetter(b,"innerRadius",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"outerRadius",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"angle",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"clockwise",!1,(0,v.getBooleanValidator)()),ah}var lh={},sh={},ym;function Y2(){if(ym)return sh;ym=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.Line=void 0;const u=Qe(),a=Fe(),g=da(),v=$e();function x(S,w,N,z,F,X,P){const D=Math.sqrt(Math.pow(N-S,2)+Math.pow(z-w,2)),G=Math.sqrt(Math.pow(F-N,2)+Math.pow(X-z,2)),U=P*D/(D+G),J=P*G/(D+G),E=N-U*(F-S),T=z-U*(X-w),H=N+J*(F-S),V=z+J*(X-w);return[E,T,H,V]}function b(S,w){const N=S.length,z=[];for(let F=2;F<N-2;F+=2){const X=x(S[F-2],S[F-1],S[F],S[F+1],S[F+2],S[F+3],w);isNaN(X[0])||(z.push(X[0]),z.push(X[1]),z.push(S[F]),z.push(S[F+1]),z.push(X[2]),z.push(X[3]))}return z}class O extends g.Shape{constructor(w){super(w),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(w){let N=this.points(),z=N.length,F=this.tension(),X=this.closed(),P=this.bezier(),D,G,U;if(z){if(w.beginPath(),w.moveTo(N[0],N[1]),F!==0&&z>4){for(D=this.getTensionPoints(),G=D.length,U=X?0:4,X||w.quadraticCurveTo(D[0],D[1],D[2],D[3]);U<G-2;)w.bezierCurveTo(D[U++],D[U++],D[U++],D[U++],D[U++],D[U++]);X||w.quadraticCurveTo(D[G-2],D[G-1],N[z-2],N[z-1])}else if(P)for(U=2;U<z;)w.bezierCurveTo(N[U++],N[U++],N[U++],N[U++],N[U++],N[U++]);else for(U=2;U<z;U+=2)w.lineTo(N[U],N[U+1]);X?(w.closePath(),w.fillStrokeShape(this)):w.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():b(this.points(),this.tension())}_getTensionPointsClosed(){const w=this.points(),N=w.length,z=this.tension(),F=x(w[N-2],w[N-1],w[0],w[1],w[2],w[3],z),X=x(w[N-4],w[N-3],w[N-2],w[N-1],w[0],w[1],z),P=b(w,z);return[F[2],F[3]].concat(P).concat([X[0],X[1],w[N-2],w[N-1],X[2],X[3],F[0],F[1],w[0],w[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let w=this.points();if(w.length<4)return{x:w[0]||0,y:w[1]||0,width:0,height:0};this.tension()!==0?w=[w[0],w[1],...this._getTensionPoints(),w[w.length-2],w[w.length-1]]:w=this.points();let N=w[0],z=w[0],F=w[1],X=w[1],P,D;for(let G=0;G<w.length/2;G++)P=w[G*2],D=w[G*2+1],N=Math.min(N,P),z=Math.max(z,P),F=Math.min(F,D),X=Math.max(X,D);return{x:N,y:F,width:z-N,height:X-F}}}return sh.Line=O,O.prototype.className="Line",O.prototype._attrsAffectingSize=["points","bezier","tension"],(0,a._registerNode)(O),u.Factory.addGetterSetter(O,"closed",!1),u.Factory.addGetterSetter(O,"bezier",!1),u.Factory.addGetterSetter(O,"tension",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(O,"points",[],(0,v.getNumberArrayValidator)()),sh}var rh={},bp={},vm;function zy(){return vm||(vm=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.t2length=u.getQuadraticArcLength=u.getCubicArcLength=u.binomialCoefficients=u.cValues=u.tValues=void 0,u.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],u.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],u.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const a=(O,S,w)=>{let N,z;const X=w/2;N=0;for(let P=0;P<20;P++)z=X*u.tValues[20][P]+X,N+=u.cValues[20][P]*v(O,S,z);return X*N};u.getCubicArcLength=a;const g=(O,S,w)=>{w===void 0&&(w=1);const N=O[0]-2*O[1]+O[2],z=S[0]-2*S[1]+S[2],F=2*O[1]-2*O[0],X=2*S[1]-2*S[0],P=4*(N*N+z*z),D=4*(N*F+z*X),G=F*F+X*X;if(P===0)return w*Math.sqrt(Math.pow(O[2]-O[0],2)+Math.pow(S[2]-S[0],2));const U=D/(2*P),J=G/P,E=w+U,T=J-U*U,H=E*E+T>0?Math.sqrt(E*E+T):0,V=U*U+T>0?Math.sqrt(U*U+T):0,$=U+Math.sqrt(U*U+T)!==0?T*Math.log(Math.abs((E+H)/(U+V))):0;return Math.sqrt(P)/2*(E*H-U*V+$)};u.getQuadraticArcLength=g;function v(O,S,w){const N=x(1,w,O),z=x(1,w,S),F=N*N+z*z;return Math.sqrt(F)}const x=(O,S,w)=>{const N=w.length-1;let z,F;if(N===0)return 0;if(O===0){F=0;for(let X=0;X<=N;X++)F+=u.binomialCoefficients[N][X]*Math.pow(1-S,N-X)*Math.pow(S,X)*w[X];return F}else{z=new Array(N);for(let X=0;X<N;X++)z[X]=N*(w[X+1]-w[X]);return x(O-1,S,z)}},b=(O,S,w)=>{let N=1,z=O/S,F=(O-w(z))/S,X=0;for(;N>.001;){const P=w(z+F),D=Math.abs(O-P)/S;if(D<N)N=D,z+=F;else{const G=w(z-F),U=Math.abs(O-G)/S;U<N?(N=U,z-=F):F/=2}if(X++,X>500)break}return z};u.t2length=b})(bp)),bp}var bm;function jp(){if(bm)return rh;bm=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Path=void 0;const u=Qe(),a=da(),g=Fe(),v=zy();let x=class _l extends a.Shape{constructor(O){super(O),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=_l.parsePathData(this.data()),this.pathLength=_l.getPathLength(this.dataArray)}_sceneFunc(O){const S=this.dataArray;O.beginPath();let w=!1;for(let H=0;H<S.length;H++){const V=S[H].command,$=S[H].points;switch(V){case"L":O.lineTo($[0],$[1]);break;case"M":O.moveTo($[0],$[1]);break;case"C":O.bezierCurveTo($[0],$[1],$[2],$[3],$[4],$[5]);break;case"Q":O.quadraticCurveTo($[0],$[1],$[2],$[3]);break;case"A":var N=$[0],z=$[1],F=$[2],X=$[3],P=$[4],D=$[5],G=$[6],U=$[7],J=F>X?F:X,E=F>X?1:F/X,T=F>X?X/F:1;O.translate(N,z),O.rotate(G),O.scale(E,T),O.arc(0,0,J,P,P+D,1-U),O.scale(1/E,1/T),O.rotate(-G),O.translate(-N,-z);break;case"z":w=!0,O.closePath();break}}!w&&!this.hasFill()?O.strokeShape(this):O.fillStrokeShape(this)}getSelfRect(){let O=[];this.dataArray.forEach(function(P){if(P.command==="A"){const D=P.points[4],G=P.points[5],U=P.points[4]+G;let J=Math.PI/180;if(Math.abs(D-U)<J&&(J=Math.abs(D-U)),G<0)for(let E=D-J;E>U;E-=J){const T=_l.getPointOnEllipticalArc(P.points[0],P.points[1],P.points[2],P.points[3],E,0);O.push(T.x,T.y)}else for(let E=D+J;E<U;E+=J){const T=_l.getPointOnEllipticalArc(P.points[0],P.points[1],P.points[2],P.points[3],E,0);O.push(T.x,T.y)}}else if(P.command==="C")for(let D=0;D<=1;D+=.01){const G=_l.getPointOnCubicBezier(D,P.start.x,P.start.y,P.points[0],P.points[1],P.points[2],P.points[3],P.points[4],P.points[5]);O.push(G.x,G.y)}else O=O.concat(P.points)});let S=O[0],w=O[0],N=O[1],z=O[1],F,X;for(let P=0;P<O.length/2;P++)F=O[P*2],X=O[P*2+1],isNaN(F)||(S=Math.min(S,F),w=Math.max(w,F)),isNaN(X)||(N=Math.min(N,X),z=Math.max(z,X));return{x:S,y:N,width:w-S,height:z-N}}getLength(){return this.pathLength}getPointAtLength(O){return _l.getPointAtLengthOfDataArray(O,this.dataArray)}static getLineLength(O,S,w,N){return Math.sqrt((w-O)*(w-O)+(N-S)*(N-S))}static getPathLength(O){let S=0;for(let w=0;w<O.length;++w)S+=O[w].pathLength;return S}static getPointAtLengthOfDataArray(O,S){let w,N=0,z=S.length;if(!z)return null;for(;N<z&&O>S[N].pathLength;)O-=S[N].pathLength,++N;if(N===z)return w=S[N-1].points.slice(-2),{x:w[0],y:w[1]};if(O<.01)return w=S[N].points.slice(0,2),{x:w[0],y:w[1]};const F=S[N],X=F.points;switch(F.command){case"L":return _l.getPointOnLine(O,F.start.x,F.start.y,X[0],X[1]);case"C":return _l.getPointOnCubicBezier((0,v.t2length)(O,_l.getPathLength(S),H=>(0,v.getCubicArcLength)([F.start.x,X[0],X[2],X[4]],[F.start.y,X[1],X[3],X[5]],H)),F.start.x,F.start.y,X[0],X[1],X[2],X[3],X[4],X[5]);case"Q":return _l.getPointOnQuadraticBezier((0,v.t2length)(O,_l.getPathLength(S),H=>(0,v.getQuadraticArcLength)([F.start.x,X[0],X[2]],[F.start.y,X[1],X[3]],H)),F.start.x,F.start.y,X[0],X[1],X[2],X[3]);case"A":var P=X[0],D=X[1],G=X[2],U=X[3],J=X[4],E=X[5],T=X[6];return J+=E*O/F.pathLength,_l.getPointOnEllipticalArc(P,D,G,U,J,T)}return null}static getPointOnLine(O,S,w,N,z,F,X){F=F??S,X=X??w;const P=this.getLineLength(S,w,N,z);if(P<1e-10)return{x:S,y:w};if(N===S)return{x:F,y:X+(z>w?O:-O)};const D=(z-w)/(N-S),G=Math.sqrt(O*O/(1+D*D))*(N<S?-1:1),U=D*G;if(Math.abs(X-w-D*(F-S))<1e-10)return{x:F+G,y:X+U};const J=((F-S)*(N-S)+(X-w)*(z-w))/(P*P),E=S+J*(N-S),T=w+J*(z-w),H=this.getLineLength(F,X,E,T),V=Math.sqrt(O*O-H*H),$=Math.sqrt(V*V/(1+D*D))*(N<S?-1:1),ft=D*$;return{x:E+$,y:T+ft}}static getPointOnCubicBezier(O,S,w,N,z,F,X,P,D){function G(V){return V*V*V}function U(V){return 3*V*V*(1-V)}function J(V){return 3*V*(1-V)*(1-V)}function E(V){return(1-V)*(1-V)*(1-V)}const T=P*G(O)+F*U(O)+N*J(O)+S*E(O),H=D*G(O)+X*U(O)+z*J(O)+w*E(O);return{x:T,y:H}}static getPointOnQuadraticBezier(O,S,w,N,z,F,X){function P(E){return E*E}function D(E){return 2*E*(1-E)}function G(E){return(1-E)*(1-E)}const U=F*P(O)+N*D(O)+S*G(O),J=X*P(O)+z*D(O)+w*G(O);return{x:U,y:J}}static getPointOnEllipticalArc(O,S,w,N,z,F){const X=Math.cos(F),P=Math.sin(F),D={x:w*Math.cos(z),y:N*Math.sin(z)};return{x:O+(D.x*X-D.y*P),y:S+(D.x*P+D.y*X)}}static parsePathData(O){if(!O)return[];let S=O;const w=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];S=S.replace(new RegExp(" ","g"),",");for(var N=0;N<w.length;N++)S=S.replace(new RegExp(w[N],"g"),"|"+w[N]);const z=S.split("|"),F=[],X=[];let P=0,D=0;const G=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let U;for(N=1;N<z.length;N++){let M=z[N],Z=M.charAt(0);for(M=M.slice(1),X.length=0;U=G.exec(M);)X.push(U[0]);const j=[];for(let W=0,at=X.length;W<at;W++){if(X[W]==="00"){j.push(0,0);continue}const mt=parseFloat(X[W]);isNaN(mt)?j.push(0):j.push(mt)}for(;j.length>0&&!isNaN(j[0]);){let W="",at=[];const mt=P,wt=D;var J,E,T,H,V,$,ft,nt,k,I;switch(Z){case"l":P+=j.shift(),D+=j.shift(),W="L",at.push(P,D);break;case"L":P=j.shift(),D=j.shift(),at.push(P,D);break;case"m":var it=j.shift(),dt=j.shift();if(P+=it,D+=dt,W="M",F.length>2&&F[F.length-1].command==="z"){for(let K=F.length-2;K>=0;K--)if(F[K].command==="M"){P=F[K].points[0]+it,D=F[K].points[1]+dt;break}}at.push(P,D),Z="l";break;case"M":P=j.shift(),D=j.shift(),W="M",at.push(P,D),Z="L";break;case"h":P+=j.shift(),W="L",at.push(P,D);break;case"H":P=j.shift(),W="L",at.push(P,D);break;case"v":D+=j.shift(),W="L",at.push(P,D);break;case"V":D=j.shift(),W="L",at.push(P,D);break;case"C":at.push(j.shift(),j.shift(),j.shift(),j.shift()),P=j.shift(),D=j.shift(),at.push(P,D);break;case"c":at.push(P+j.shift(),D+j.shift(),P+j.shift(),D+j.shift()),P+=j.shift(),D+=j.shift(),W="C",at.push(P,D);break;case"S":E=P,T=D,J=F[F.length-1],J.command==="C"&&(E=P+(P-J.points[2]),T=D+(D-J.points[3])),at.push(E,T,j.shift(),j.shift()),P=j.shift(),D=j.shift(),W="C",at.push(P,D);break;case"s":E=P,T=D,J=F[F.length-1],J.command==="C"&&(E=P+(P-J.points[2]),T=D+(D-J.points[3])),at.push(E,T,P+j.shift(),D+j.shift()),P+=j.shift(),D+=j.shift(),W="C",at.push(P,D);break;case"Q":at.push(j.shift(),j.shift()),P=j.shift(),D=j.shift(),at.push(P,D);break;case"q":at.push(P+j.shift(),D+j.shift()),P+=j.shift(),D+=j.shift(),W="Q",at.push(P,D);break;case"T":E=P,T=D,J=F[F.length-1],J.command==="Q"&&(E=P+(P-J.points[0]),T=D+(D-J.points[1])),P=j.shift(),D=j.shift(),W="Q",at.push(E,T,P,D);break;case"t":E=P,T=D,J=F[F.length-1],J.command==="Q"&&(E=P+(P-J.points[0]),T=D+(D-J.points[1])),P+=j.shift(),D+=j.shift(),W="Q",at.push(E,T,P,D);break;case"A":H=j.shift(),V=j.shift(),$=j.shift(),ft=j.shift(),nt=j.shift(),k=P,I=D,P=j.shift(),D=j.shift(),W="A",at=this.convertEndpointToCenterParameterization(k,I,P,D,ft,nt,H,V,$);break;case"a":H=j.shift(),V=j.shift(),$=j.shift(),ft=j.shift(),nt=j.shift(),k=P,I=D,P+=j.shift(),D+=j.shift(),W="A",at=this.convertEndpointToCenterParameterization(k,I,P,D,ft,nt,H,V,$);break}F.push({command:W||Z,points:at,start:{x:mt,y:wt},pathLength:this.calcLength(mt,wt,W||Z,at)})}(Z==="z"||Z==="Z")&&F.push({command:"z",points:[],start:void 0,pathLength:0})}return F}static calcLength(O,S,w,N){let z,F,X,P;const D=_l;switch(w){case"L":return D.getLineLength(O,S,N[0],N[1]);case"C":return(0,v.getCubicArcLength)([O,N[0],N[2],N[4]],[S,N[1],N[3],N[5]],1);case"Q":return(0,v.getQuadraticArcLength)([O,N[0],N[2]],[S,N[1],N[3]],1);case"A":z=0;var G=N[4],U=N[5],J=N[4]+U,E=Math.PI/180;if(Math.abs(G-J)<E&&(E=Math.abs(G-J)),F=D.getPointOnEllipticalArc(N[0],N[1],N[2],N[3],G,0),U<0)for(P=G-E;P>J;P-=E)X=D.getPointOnEllipticalArc(N[0],N[1],N[2],N[3],P,0),z+=D.getLineLength(F.x,F.y,X.x,X.y),F=X;else for(P=G+E;P<J;P+=E)X=D.getPointOnEllipticalArc(N[0],N[1],N[2],N[3],P,0),z+=D.getLineLength(F.x,F.y,X.x,X.y),F=X;return X=D.getPointOnEllipticalArc(N[0],N[1],N[2],N[3],J,0),z+=D.getLineLength(F.x,F.y,X.x,X.y),z}return 0}static convertEndpointToCenterParameterization(O,S,w,N,z,F,X,P,D){const G=D*(Math.PI/180),U=Math.cos(G)*(O-w)/2+Math.sin(G)*(S-N)/2,J=-1*Math.sin(G)*(O-w)/2+Math.cos(G)*(S-N)/2,E=U*U/(X*X)+J*J/(P*P);E>1&&(X*=Math.sqrt(E),P*=Math.sqrt(E));let T=Math.sqrt((X*X*(P*P)-X*X*(J*J)-P*P*(U*U))/(X*X*(J*J)+P*P*(U*U)));z===F&&(T*=-1),isNaN(T)&&(T=0);const H=T*X*J/P,V=T*-P*U/X,$=(O+w)/2+Math.cos(G)*H-Math.sin(G)*V,ft=(S+N)/2+Math.sin(G)*H+Math.cos(G)*V,nt=function(j){return Math.sqrt(j[0]*j[0]+j[1]*j[1])},k=function(j,W){return(j[0]*W[0]+j[1]*W[1])/(nt(j)*nt(W))},I=function(j,W){return(j[0]*W[1]<j[1]*W[0]?-1:1)*Math.acos(k(j,W))},it=I([1,0],[(U-H)/X,(J-V)/P]),dt=[(U-H)/X,(J-V)/P],M=[(-1*U-H)/X,(-1*J-V)/P];let Z=I(dt,M);return k(dt,M)<=-1&&(Z=Math.PI),k(dt,M)>=1&&(Z=0),F===0&&Z>0&&(Z=Z-2*Math.PI),F===1&&Z<0&&(Z=Z+2*Math.PI),[$,ft,X,P,it,Z,G,F]}};return rh.Path=x,x.prototype.className="Path",x.prototype._attrsAffectingSize=["data"],(0,g._registerNode)(x),u.Factory.addGetterSetter(x,"data"),rh}var Sm;function Yy(){if(Sm)return lh;Sm=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.Arrow=void 0;const u=Qe(),a=Y2(),g=$e(),v=Fe(),x=jp();let b=class extends a.Line{_sceneFunc(S){super._sceneFunc(S);const w=Math.PI*2,N=this.points();let z=N;const F=this.tension()!==0&&N.length>4;F&&(z=this.getTensionPoints());const X=this.pointerLength(),P=N.length;let D,G;if(F){const E=[z[z.length-4],z[z.length-3],z[z.length-2],z[z.length-1],N[P-2],N[P-1]],T=x.Path.calcLength(z[z.length-4],z[z.length-3],"C",E),H=x.Path.getPointOnQuadraticBezier(Math.min(1,1-X/T),E[0],E[1],E[2],E[3],E[4],E[5]);D=N[P-2]-H.x,G=N[P-1]-H.y}else D=N[P-2]-N[P-4],G=N[P-1]-N[P-3];const U=(Math.atan2(G,D)+w)%w,J=this.pointerWidth();this.pointerAtEnding()&&(S.save(),S.beginPath(),S.translate(N[P-2],N[P-1]),S.rotate(U),S.moveTo(0,0),S.lineTo(-X,J/2),S.lineTo(-X,-J/2),S.closePath(),S.restore(),this.__fillStroke(S)),this.pointerAtBeginning()&&(S.save(),S.beginPath(),S.translate(N[0],N[1]),F?(D=(z[0]+z[2])/2-N[0],G=(z[1]+z[3])/2-N[1]):(D=N[2]-N[0],G=N[3]-N[1]),S.rotate((Math.atan2(-G,-D)+w)%w),S.moveTo(0,0),S.lineTo(-X,J/2),S.lineTo(-X,-J/2),S.closePath(),S.restore(),this.__fillStroke(S))}__fillStroke(S){const w=this.dashEnabled();w&&(this.attrs.dashEnabled=!1,S.setLineDash([])),S.fillStrokeShape(this),w&&(this.attrs.dashEnabled=!0)}getSelfRect(){const S=super.getSelfRect(),w=this.pointerWidth()/2;return{x:S.x,y:S.y-w,width:S.width,height:S.height+w*2}}};return lh.Arrow=b,b.prototype.className="Arrow",(0,v._registerNode)(b),u.Factory.addGetterSetter(b,"pointerLength",10,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(b,"pointerWidth",10,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(b,"pointerAtBeginning",!1),u.Factory.addGetterSetter(b,"pointerAtEnding",!0),lh}var oh={},_m;function Uy(){if(_m)return oh;_m=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.Circle=void 0;const u=Qe(),a=da(),g=$e(),v=Fe();class x extends a.Shape{_sceneFunc(O){O.beginPath(),O.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),O.closePath(),O.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(O){this.radius()!==O/2&&this.radius(O/2)}setHeight(O){this.radius()!==O/2&&this.radius(O/2)}}return oh.Circle=x,x.prototype._centroid=!0,x.prototype.className="Circle",x.prototype._attrsAffectingSize=["radius"],(0,v._registerNode)(x),u.Factory.addGetterSetter(x,"radius",0,(0,g.getNumberValidator)()),oh}var uh={},xm;function Gy(){if(xm)return uh;xm=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.Ellipse=void 0;const u=Qe(),a=da(),g=$e(),v=Fe();let x=class extends a.Shape{_sceneFunc(O){const S=this.radiusX(),w=this.radiusY();O.beginPath(),O.save(),S!==w&&O.scale(1,w/S),O.arc(0,0,S,0,Math.PI*2,!1),O.restore(),O.closePath(),O.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(O){this.radiusX(O/2)}setHeight(O){this.radiusY(O/2)}};return uh.Ellipse=x,x.prototype.className="Ellipse",x.prototype._centroid=!0,x.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,v._registerNode)(x),u.Factory.addComponentsGetterSetter(x,"radius",["x","y"]),u.Factory.addGetterSetter(x,"radiusX",0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(x,"radiusY",0,(0,g.getNumberValidator)()),uh}var ch={},Cm;function Xy(){if(Cm)return ch;Cm=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.Image=void 0;const u=Ci(),a=Qe(),g=da(),v=Fe(),x=$e();class b extends g.Shape{constructor(S){super(S),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const S=this.image();S&&S.complete||S&&S.readyState===4||S&&S.addEventListener&&S.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const S=!!this.cornerRadius(),w=this.hasShadow();return S&&w?!0:super._useBufferCanvas(!0)}_sceneFunc(S){const w=this.getWidth(),N=this.getHeight(),z=this.cornerRadius(),F=this.attrs.image;let X;if(F){const P=this.attrs.cropWidth,D=this.attrs.cropHeight;P&&D?X=[F,this.cropX(),this.cropY(),P,D,0,0,w,N]:X=[F,0,0,w,N]}(this.hasFill()||this.hasStroke()||z)&&(S.beginPath(),z?u.Util.drawRoundedRectPath(S,w,N,z):S.rect(0,0,w,N),S.closePath(),S.fillStrokeShape(this)),F&&(z&&S.clip(),S.drawImage.apply(S,X))}_hitFunc(S){const w=this.width(),N=this.height(),z=this.cornerRadius();S.beginPath(),z?u.Util.drawRoundedRectPath(S,w,N,z):S.rect(0,0,w,N),S.closePath(),S.fillStrokeShape(this)}getWidth(){var S,w;return(S=this.attrs.width)!==null&&S!==void 0?S:(w=this.image())===null||w===void 0?void 0:w.width}getHeight(){var S,w;return(S=this.attrs.height)!==null&&S!==void 0?S:(w=this.image())===null||w===void 0?void 0:w.height}static fromURL(S,w,N=null){const z=u.Util.createImageElement();z.onload=function(){const F=new b({image:z});w(F)},z.onerror=N,z.crossOrigin="Anonymous",z.src=S}}return ch.Image=b,b.prototype.className="Image",(0,v._registerNode)(b),a.Factory.addGetterSetter(b,"cornerRadius",0,(0,x.getNumberOrArrayOfNumbersValidator)(4)),a.Factory.addGetterSetter(b,"image"),a.Factory.addComponentsGetterSetter(b,"crop",["x","y","width","height"]),a.Factory.addGetterSetter(b,"cropX",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(b,"cropY",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(b,"cropWidth",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(b,"cropHeight",0,(0,x.getNumberValidator)()),ch}var ec={},wm;function Hy(){if(wm)return ec;wm=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Tag=ec.Label=void 0;const u=Qe(),a=da(),g=Xp(),v=$e(),x=Fe(),b=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],O="Change.konva",S="none",w="up",N="right",z="down",F="left",X=b.length;let P=class extends g.Group{constructor(U){super(U),this.on("add.konva",function(J){this._addListeners(J.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(U){let J=this,E;const T=function(){J._sync()};for(E=0;E<X;E++)U.on(b[E]+O,T)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let U=this.getText(),J=this.getTag(),E,T,H,V,$,ft,nt;if(U&&J){switch(E=U.width(),T=U.height(),H=J.pointerDirection(),V=J.pointerWidth(),nt=J.pointerHeight(),$=0,ft=0,H){case w:$=E/2,ft=-1*nt;break;case N:$=E+V,ft=T/2;break;case z:$=E/2,ft=T+nt;break;case F:$=-1*V,ft=T/2;break}J.setAttrs({x:-1*$,y:-1*ft,width:E,height:T}),U.setAttrs({x:-1*$,y:-1*ft})}}};ec.Label=P,P.prototype.className="Label",(0,x._registerNode)(P);class D extends a.Shape{_sceneFunc(U){const J=this.width(),E=this.height(),T=this.pointerDirection(),H=this.pointerWidth(),V=this.pointerHeight(),$=this.cornerRadius();let ft=0,nt=0,k=0,I=0;typeof $=="number"?ft=nt=k=I=Math.min($,J/2,E/2):(ft=Math.min($[0]||0,J/2,E/2),nt=Math.min($[1]||0,J/2,E/2),I=Math.min($[2]||0,J/2,E/2),k=Math.min($[3]||0,J/2,E/2)),U.beginPath(),U.moveTo(ft,0),T===w&&(U.lineTo((J-H)/2,0),U.lineTo(J/2,-1*V),U.lineTo((J+H)/2,0)),U.lineTo(J-nt,0),U.arc(J-nt,nt,nt,Math.PI*3/2,0,!1),T===N&&(U.lineTo(J,(E-V)/2),U.lineTo(J+H,E/2),U.lineTo(J,(E+V)/2)),U.lineTo(J,E-I),U.arc(J-I,E-I,I,0,Math.PI/2,!1),T===z&&(U.lineTo((J+H)/2,E),U.lineTo(J/2,E+V),U.lineTo((J-H)/2,E)),U.lineTo(k,E),U.arc(k,E-k,k,Math.PI/2,Math.PI,!1),T===F&&(U.lineTo(0,(E+V)/2),U.lineTo(-1*H,E/2),U.lineTo(0,(E-V)/2)),U.lineTo(0,ft),U.arc(ft,ft,ft,Math.PI,Math.PI*3/2,!1),U.closePath(),U.fillStrokeShape(this)}getSelfRect(){let U=0,J=0,E=this.pointerWidth(),T=this.pointerHeight(),H=this.pointerDirection(),V=this.width(),$=this.height();return H===w?(J-=T,$+=T):H===z?$+=T:H===F?(U-=E*1.5,V+=E):H===N&&(V+=E*1.5),{x:U,y:J,width:V,height:$}}}return ec.Tag=D,D.prototype.className="Tag",(0,x._registerNode)(D),u.Factory.addGetterSetter(D,"pointerDirection",S),u.Factory.addGetterSetter(D,"pointerWidth",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(D,"pointerHeight",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(D,"cornerRadius",0,(0,v.getNumberOrArrayOfNumbersValidator)(4)),ec}var fh={},Em;function U2(){if(Em)return fh;Em=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.Rect=void 0;const u=Qe(),a=da(),g=Fe(),v=Ci(),x=$e();class b extends a.Shape{_sceneFunc(S){const w=this.cornerRadius(),N=this.width(),z=this.height();S.beginPath(),w?v.Util.drawRoundedRectPath(S,N,z,w):S.rect(0,0,N,z),S.closePath(),S.fillStrokeShape(this)}}return fh.Rect=b,b.prototype.className="Rect",(0,g._registerNode)(b),u.Factory.addGetterSetter(b,"cornerRadius",0,(0,x.getNumberOrArrayOfNumbersValidator)(4)),fh}var hh={},Tm;function jy(){if(Tm)return hh;Tm=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.RegularPolygon=void 0;const u=Qe(),a=da(),g=$e(),v=Fe();let x=class extends a.Shape{_sceneFunc(O){const S=this._getPoints();O.beginPath(),O.moveTo(S[0].x,S[0].y);for(let w=1;w<S.length;w++)O.lineTo(S[w].x,S[w].y);O.closePath(),O.fillStrokeShape(this)}_getPoints(){const O=this.attrs.sides,S=this.attrs.radius||0,w=[];for(let N=0;N<O;N++)w.push({x:S*Math.sin(N*2*Math.PI/O),y:-1*S*Math.cos(N*2*Math.PI/O)});return w}getSelfRect(){const O=this._getPoints();let S=O[0].x,w=O[0].y,N=O[0].x,z=O[0].y;return O.forEach(F=>{S=Math.min(S,F.x),w=Math.max(w,F.x),N=Math.min(N,F.y),z=Math.max(z,F.y)}),{x:S,y:N,width:w-S,height:z-N}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(O){this.radius(O/2)}setHeight(O){this.radius(O/2)}};return hh.RegularPolygon=x,x.prototype.className="RegularPolygon",x.prototype._centroid=!0,x.prototype._attrsAffectingSize=["radius"],(0,v._registerNode)(x),u.Factory.addGetterSetter(x,"radius",0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(x,"sides",0,(0,g.getNumberValidator)()),hh}var dh={},Am;function qy(){if(Am)return dh;Am=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.Ring=void 0;const u=Qe(),a=da(),g=$e(),v=Fe(),x=Math.PI*2;let b=class extends a.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.innerRadius(),0,x,!1),S.moveTo(this.outerRadius(),0),S.arc(0,0,this.outerRadius(),x,0,!0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(S){this.outerRadius(S/2)}setHeight(S){this.outerRadius(S/2)}};return dh.Ring=b,b.prototype.className="Ring",b.prototype._centroid=!0,b.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,v._registerNode)(b),u.Factory.addGetterSetter(b,"innerRadius",0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(b,"outerRadius",0,(0,g.getNumberValidator)()),dh}var ph={},Nm;function Fy(){if(Nm)return ph;Nm=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.Sprite=void 0;const u=Qe(),a=da(),g=Hp(),v=$e(),x=Fe();let b=class extends a.Shape{constructor(S){super(S),this._updated=!0,this.anim=new g.Animation(()=>{const w=this._updated;return this._updated=!1,w}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(S){const w=this.animation(),N=this.frameIndex(),z=N*4,F=this.animations()[w],X=this.frameOffsets(),P=F[z+0],D=F[z+1],G=F[z+2],U=F[z+3],J=this.image();if((this.hasFill()||this.hasStroke())&&(S.beginPath(),S.rect(0,0,G,U),S.closePath(),S.fillStrokeShape(this)),J)if(X){const E=X[w],T=N*2;S.drawImage(J,P,D,G,U,E[T+0],E[T+1],G,U)}else S.drawImage(J,P,D,G,U,0,0,G,U)}_hitFunc(S){const w=this.animation(),N=this.frameIndex(),z=N*4,F=this.animations()[w],X=this.frameOffsets(),P=F[z+2],D=F[z+3];if(S.beginPath(),X){const G=X[w],U=N*2;S.rect(G[U+0],G[U+1],P,D)}else S.rect(0,0,P,D);S.closePath(),S.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const S=this;this.interval=setInterval(function(){S._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const S=this.getLayer();this.anim.setLayers(S),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const S=this.frameIndex(),w=this.animation(),N=this.animations(),z=N[w],F=z.length/4;S<F-1?this.frameIndex(S+1):this.frameIndex(0)}};return ph.Sprite=b,b.prototype.className="Sprite",(0,x._registerNode)(b),u.Factory.addGetterSetter(b,"animation"),u.Factory.addGetterSetter(b,"animations"),u.Factory.addGetterSetter(b,"frameOffsets"),u.Factory.addGetterSetter(b,"image"),u.Factory.addGetterSetter(b,"frameIndex",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"frameRate",17,(0,v.getNumberValidator)()),u.Factory.backCompat(b,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),ph}var mh={},Om;function Vy(){if(Om)return mh;Om=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.Star=void 0;const u=Qe(),a=da(),g=$e(),v=Fe();let x=class extends a.Shape{_sceneFunc(O){const S=this.innerRadius(),w=this.outerRadius(),N=this.numPoints();O.beginPath(),O.moveTo(0,0-w);for(let z=1;z<N*2;z++){const F=z%2===0?w:S,X=F*Math.sin(z*Math.PI/N),P=-1*F*Math.cos(z*Math.PI/N);O.lineTo(X,P)}O.closePath(),O.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(O){this.outerRadius(O/2)}setHeight(O){this.outerRadius(O/2)}};return mh.Star=x,x.prototype.className="Star",x.prototype._centroid=!0,x.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,v._registerNode)(x),u.Factory.addGetterSetter(x,"numPoints",5,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(x,"innerRadius",0,(0,g.getNumberValidator)()),u.Factory.addGetterSetter(x,"outerRadius",0,(0,g.getNumberValidator)()),mh}var Ic={},Mm;function G2(){if(Mm)return Ic;Mm=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Text=void 0,Ic.stringToArray=O;const u=Ci(),a=Qe(),g=da(),v=Fe(),x=$e(),b=Fe();function O(Nt){return[...Nt].reduce((yt,Tt,Ht,Ft)=>{if(new RegExp("\\p{Emoji}","u").test(Tt)){const ut=Ft[Ht+1];ut&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(ut)?(yt.push(Tt+ut),Ft[Ht+1]=""):yt.push(Tt)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(Tt+(Ft[Ht+1]||""))?yt.push(Tt+Ft[Ht+1]):Ht>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(Tt)?yt[yt.length-1]+=Tt:Tt&&yt.push(Tt);return yt},[])}const S="auto",w="center",N="inherit",z="justify",F="Change.konva",X="2d",P="-",D="left",G="text",U="Text",J="top",E="bottom",T="middle",H="normal",V="px ",$=" ",ft="right",nt="rtl",k="word",I="char",it="none",dt="",M=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Z=M.length;function j(Nt){return Nt.split(",").map(yt=>{yt=yt.trim();const Tt=yt.indexOf(" ")>=0,Ht=yt.indexOf('"')>=0||yt.indexOf("'")>=0;return Tt&&!Ht&&(yt=`"${yt}"`),yt}).join(", ")}let W;function at(){return W||(W=u.Util.createCanvasElement().getContext(X),W)}function mt(Nt){Nt.fillText(this._partialText,this._partialTextX,this._partialTextY)}function wt(Nt){Nt.setAttr("miterLimit",2),Nt.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function K(Nt){return Nt=Nt||{},!Nt.fillLinearGradientColorStops&&!Nt.fillRadialGradientColorStops&&!Nt.fillPatternImage&&(Nt.fill=Nt.fill||"black"),Nt}class ht extends g.Shape{constructor(yt){super(K(yt)),this._partialTextX=0,this._partialTextY=0;for(let Tt=0;Tt<Z;Tt++)this.on(M[Tt]+F,this._setTextData);this._setTextData()}_sceneFunc(yt){const Tt=this.textArr,Ht=Tt.length;if(!this.text())return;let Ft=this.padding(),ut=this.fontSize(),_t=this.lineHeight()*ut,jt=this.verticalAlign(),zt=this.direction(),te=0,ne=this.align(),Se=this.getWidth(),Oe=this.letterSpacing(),he=this.fill(),xn=this.textDecoration(),De=xn.indexOf("underline")!==-1,un=xn.indexOf("line-through")!==-1,Ke;zt=zt===N?yt.direction:zt;let tn=_t/2,wi=T;if(v.Konva._fixTextRendering){const zi=this.measureSize("M");wi="alphabetic",tn=(zi.fontBoundingBoxAscent-zi.fontBoundingBoxDescent)/2+_t/2}var en=0,Yn=0;for(zt===nt&&yt.setAttr("direction",zt),yt.setAttr("font",this._getContextFont()),yt.setAttr("textBaseline",wi),yt.setAttr("textAlign",D),jt===T?te=(this.getHeight()-Ht*_t-Ft*2)/2:jt===E&&(te=this.getHeight()-Ht*_t-Ft*2),yt.translate(Ft,te+Ft),Ke=0;Ke<Ht;Ke++){var en=0,Yn=0,cn=Tt[Ke],nn=cn.text,yn=cn.width,Ei=cn.lastInParagraph,ei,Bi;if(yt.save(),ne===ft?en+=Se-yn-Ft*2:ne===w&&(en+=(Se-yn-Ft*2)/2),De){yt.save(),yt.beginPath();const qn=v.Konva._fixTextRendering?Math.round(ut/4):Math.round(ut/2),Pe=en,Ce=tn+Yn+qn;yt.moveTo(Pe,Ce),ei=nn.split(" ").length-1,Bi=ne===z&&!Ei?Se-Ft*2:yn,yt.lineTo(Pe+Math.round(Bi),Ce),yt.lineWidth=ut/15;const Aa=this._getLinearGradient();yt.strokeStyle=Aa||he,yt.stroke(),yt.restore()}if(un){yt.save(),yt.beginPath();const qn=v.Konva._fixTextRendering?-Math.round(ut/4):0;yt.moveTo(en,tn+Yn+qn),ei=nn.split(" ").length-1,Bi=ne===z&&!Ei?Se-Ft*2:yn,yt.lineTo(en+Math.round(Bi),tn+Yn+qn),yt.lineWidth=ut/15;const Pe=this._getLinearGradient();yt.strokeStyle=Pe||he,yt.stroke(),yt.restore()}if(zt!==nt&&(Oe!==0||ne===z)){ei=nn.split(" ").length-1;const qn=O(nn);for(let Pe=0;Pe<qn.length;Pe++){const Ce=qn[Pe];Ce===" "&&!Ei&&ne===z&&(en+=(Se-Ft*2-yn)/ei),this._partialTextX=en,this._partialTextY=tn+Yn,this._partialText=Ce,yt.fillStrokeShape(this),en+=this.measureSize(Ce).width+Oe}}else Oe!==0&&yt.setAttr("letterSpacing",`${Oe}px`),this._partialTextX=en,this._partialTextY=tn+Yn,this._partialText=nn,yt.fillStrokeShape(this);yt.restore(),Ht>1&&(tn+=_t)}}_hitFunc(yt){const Tt=this.getWidth(),Ht=this.getHeight();yt.beginPath(),yt.rect(0,0,Tt,Ht),yt.closePath(),yt.fillStrokeShape(this)}setText(yt){const Tt=u.Util._isString(yt)?yt:yt==null?"":yt+"";return this._setAttr(G,Tt),this}getWidth(){return this.attrs.width===S||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===S||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return u.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(yt){var Tt,Ht,Ft,ut,_t,jt,zt,te,ne,Se,Oe;let he=at(),xn=this.fontSize(),De;he.save(),he.font=this._getContextFont(),De=he.measureText(yt),he.restore();const un=xn/100;return{actualBoundingBoxAscent:(Tt=De.actualBoundingBoxAscent)!==null&&Tt!==void 0?Tt:71.58203125*un,actualBoundingBoxDescent:(Ht=De.actualBoundingBoxDescent)!==null&&Ht!==void 0?Ht:0,actualBoundingBoxLeft:(Ft=De.actualBoundingBoxLeft)!==null&&Ft!==void 0?Ft:-7.421875*un,actualBoundingBoxRight:(ut=De.actualBoundingBoxRight)!==null&&ut!==void 0?ut:75.732421875*un,alphabeticBaseline:(_t=De.alphabeticBaseline)!==null&&_t!==void 0?_t:0,emHeightAscent:(jt=De.emHeightAscent)!==null&&jt!==void 0?jt:100*un,emHeightDescent:(zt=De.emHeightDescent)!==null&&zt!==void 0?zt:-20*un,fontBoundingBoxAscent:(te=De.fontBoundingBoxAscent)!==null&&te!==void 0?te:91*un,fontBoundingBoxDescent:(ne=De.fontBoundingBoxDescent)!==null&&ne!==void 0?ne:21*un,hangingBaseline:(Se=De.hangingBaseline)!==null&&Se!==void 0?Se:72.80000305175781*un,ideographicBaseline:(Oe=De.ideographicBaseline)!==null&&Oe!==void 0?Oe:-21*un,width:De.width,height:xn}}_getContextFont(){return this.fontStyle()+$+this.fontVariant()+$+(this.fontSize()+V)+j(this.fontFamily())}_addTextLine(yt){this.align()===z&&(yt=yt.trim());const Ht=this._getTextWidth(yt);return this.textArr.push({text:yt,width:Ht,lastInParagraph:!1})}_getTextWidth(yt){const Tt=this.letterSpacing(),Ht=yt.length;return at().measureText(yt).width+Tt*Ht}_setTextData(){let yt=this.text().split(`
`),Tt=+this.fontSize(),Ht=0,Ft=this.lineHeight()*Tt,ut=this.attrs.width,_t=this.attrs.height,jt=ut!==S&&ut!==void 0,zt=_t!==S&&_t!==void 0,te=this.padding(),ne=ut-te*2,Se=_t-te*2,Oe=0,he=this.wrap(),xn=he!==it,De=he!==I&&xn,un=this.ellipsis();this.textArr=[],at().font=this._getContextFont();const Ke=un?this._getTextWidth(dt):0;for(let tn=0,wi=yt.length;tn<wi;++tn){let en=yt[tn],Yn=this._getTextWidth(en);if(jt&&Yn>ne)for(;en.length>0;){let cn=0,nn=O(en).length,yn="",Ei=0;for(;cn<nn;){const ei=cn+nn>>>1,Bi=O(en),zi=Bi.slice(0,ei+1).join(""),ni=this._getTextWidth(zi)+Ke;ni<=ne?(cn=ei+1,yn=zi,Ei=ni):nn=ei}if(yn){if(De){const zi=O(en),ni=O(yn),qn=zi[ni.length],Pe=qn===$||qn===P;let Ce;if(Pe&&Ei<=ne)Ce=ni.length;else{const Aa=ni.lastIndexOf($),pa=ni.lastIndexOf(P);Ce=Math.max(Aa,pa)+1}Ce>0&&(cn=Ce,yn=zi.slice(0,cn).join(""),Ei=this._getTextWidth(yn))}if(yn=yn.trimRight(),this._addTextLine(yn),Ht=Math.max(Ht,Ei),Oe+=Ft,this._shouldHandleEllipsis(Oe)){this._tryToAddEllipsisToLastLine();break}if(en=O(en).slice(cn).join("").trimLeft(),en.length>0&&(Yn=this._getTextWidth(en),Yn<=ne)){this._addTextLine(en),Oe+=Ft,Ht=Math.max(Ht,Yn);break}}else break}else this._addTextLine(en),Oe+=Ft,Ht=Math.max(Ht,Yn),this._shouldHandleEllipsis(Oe)&&tn<wi-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),zt&&Oe+Ft>Se)break}this.textHeight=Tt,this.textWidth=Ht}_shouldHandleEllipsis(yt){const Tt=+this.fontSize(),Ht=this.lineHeight()*Tt,Ft=this.attrs.height,ut=Ft!==S&&Ft!==void 0,_t=this.padding(),jt=Ft-_t*2;return!(this.wrap()!==it)||ut&&yt+Ht>jt}_tryToAddEllipsisToLastLine(){const yt=this.attrs.width,Tt=yt!==S&&yt!==void 0,Ht=this.padding(),Ft=yt-Ht*2,ut=this.ellipsis(),_t=this.textArr[this.textArr.length-1];!_t||!ut||(Tt&&(this._getTextWidth(_t.text+dt)<Ft||(_t.text=_t.text.slice(0,_t.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(_t.text+dt))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const yt=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,Tt=this.hasShadow();return yt&&Tt?!0:super._useBufferCanvas()}}return Ic.Text=ht,ht.prototype._fillFunc=mt,ht.prototype._strokeFunc=wt,ht.prototype.className=U,ht.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,b._registerNode)(ht),a.Factory.overWriteSetter(ht,"width",(0,x.getNumberOrAutoValidator)()),a.Factory.overWriteSetter(ht,"height",(0,x.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(ht,"direction",N),a.Factory.addGetterSetter(ht,"fontFamily","Arial"),a.Factory.addGetterSetter(ht,"fontSize",12,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(ht,"fontStyle",H),a.Factory.addGetterSetter(ht,"fontVariant",H),a.Factory.addGetterSetter(ht,"padding",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(ht,"align",D),a.Factory.addGetterSetter(ht,"verticalAlign",J),a.Factory.addGetterSetter(ht,"lineHeight",1,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(ht,"wrap",k),a.Factory.addGetterSetter(ht,"ellipsis",!1,(0,x.getBooleanValidator)()),a.Factory.addGetterSetter(ht,"letterSpacing",0,(0,x.getNumberValidator)()),a.Factory.addGetterSetter(ht,"text","",(0,x.getStringValidator)()),a.Factory.addGetterSetter(ht,"textDecoration",""),Ic}var gh={},Dm;function Iy(){if(Dm)return gh;Dm=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.TextPath=void 0;const u=Ci(),a=Qe(),g=da(),v=jp(),x=G2(),b=$e(),O=Fe(),S="",w="normal";function N(X){X.fillText(this.partialText,0,0)}function z(X){X.strokeText(this.partialText,0,0)}let F=class extends g.Shape{constructor(P){super(P),this.dummyCanvas=u.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return v.Path.getPathLength(this.dataArray)}_getPointAtLength(P){if(!this.attrs.data)return null;const D=this.pathLength;return P-1>D?null:v.Path.getPointAtLengthOfDataArray(P,this.dataArray)}_readDataAttribute(){this.dataArray=v.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(P){P.setAttr("font",this._getContextFont()),P.setAttr("textBaseline",this.textBaseline()),P.setAttr("textAlign","left"),P.save();const D=this.textDecoration(),G=this.fill(),U=this.fontSize(),J=this.glyphInfo;D==="underline"&&P.beginPath();for(let E=0;E<J.length;E++){P.save();const T=J[E].p0;P.translate(T.x,T.y),P.rotate(J[E].rotation),this.partialText=J[E].text,P.fillStrokeShape(this),D==="underline"&&(E===0&&P.moveTo(0,U/2+1),P.lineTo(U,U/2+1)),P.restore()}D==="underline"&&(P.strokeStyle=G,P.lineWidth=U/20,P.stroke()),P.restore()}_hitFunc(P){P.beginPath();const D=this.glyphInfo;if(D.length>=1){const G=D[0].p0;P.moveTo(G.x,G.y)}for(let G=0;G<D.length;G++){const U=D[G].p1;P.lineTo(U.x,U.y)}P.setAttr("lineWidth",this.fontSize()),P.setAttr("strokeStyle",this.colorKey),P.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return u.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(P){return x.Text.prototype.setText.call(this,P)}_getContextFont(){return x.Text.prototype._getContextFont.call(this)}_getTextSize(P){const G=this.dummyCanvas.getContext("2d");G.save(),G.font=this._getContextFont();const U=G.measureText(P);return G.restore(),{width:U.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:P,height:D}=this._getTextSize(this.attrs.text);if(this.textWidth=P,this.textHeight=D,this.glyphInfo=[],!this.attrs.data)return null;const G=this.letterSpacing(),U=this.align(),J=this.kerningFunc(),E=Math.max(this.textWidth+((this.attrs.text||"").length-1)*G,0);let T=0;U==="center"&&(T=Math.max(0,this.pathLength/2-E/2)),U==="right"&&(T=Math.max(0,this.pathLength-E));const H=(0,x.stringToArray)(this.text());let V=T;for(let $=0;$<H.length;$++){const ft=this._getPointAtLength(V);if(!ft)return;let nt=this._getTextSize(H[$]).width+G;if(H[$]===" "&&U==="justify"){const Z=this.text().split(" ").length-1;nt+=(this.pathLength-E)/Z}const k=this._getPointAtLength(V+nt);if(!k)return;const I=v.Path.getLineLength(ft.x,ft.y,k.x,k.y);let it=0;if(J)try{it=J(H[$-1],H[$])*this.fontSize()}catch{it=0}ft.x+=it,k.x+=it,this.textWidth+=it;const dt=v.Path.getPointOnLine(it+I/2,ft.x,ft.y,k.x,k.y),M=Math.atan2(k.y-ft.y,k.x-ft.x);this.glyphInfo.push({transposeX:dt.x,transposeY:dt.y,text:H[$],rotation:M,p0:ft,p1:k}),V+=nt}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const P=[];this.glyphInfo.forEach(function(V){P.push(V.p0.x),P.push(V.p0.y),P.push(V.p1.x),P.push(V.p1.y)});let D=P[0]||0,G=P[0]||0,U=P[1]||0,J=P[1]||0,E,T;for(let V=0;V<P.length/2;V++)E=P[V*2],T=P[V*2+1],D=Math.min(D,E),G=Math.max(G,E),U=Math.min(U,T),J=Math.max(J,T);const H=this.fontSize();return{x:D-H/2,y:U-H/2,width:G-D+H,height:J-U+H}}destroy(){return u.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return gh.TextPath=F,F.prototype._fillFunc=N,F.prototype._strokeFunc=z,F.prototype._fillFuncHit=N,F.prototype._strokeFuncHit=z,F.prototype.className="TextPath",F.prototype._attrsAffectingSize=["text","fontSize","data"],(0,O._registerNode)(F),a.Factory.addGetterSetter(F,"data"),a.Factory.addGetterSetter(F,"fontFamily","Arial"),a.Factory.addGetterSetter(F,"fontSize",12,(0,b.getNumberValidator)()),a.Factory.addGetterSetter(F,"fontStyle",w),a.Factory.addGetterSetter(F,"align","left"),a.Factory.addGetterSetter(F,"letterSpacing",0,(0,b.getNumberValidator)()),a.Factory.addGetterSetter(F,"textBaseline","middle"),a.Factory.addGetterSetter(F,"fontVariant",w),a.Factory.addGetterSetter(F,"text",S),a.Factory.addGetterSetter(F,"textDecoration",""),a.Factory.addGetterSetter(F,"kerningFunc",void 0),gh}var yh={},Pm;function ky(){if(Pm)return yh;Pm=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Transformer=void 0;const u=Ci(),a=Qe(),g=Ri(),v=da(),x=U2(),b=Xp(),O=Fe(),S=$e(),w=Fe(),N="tr-konva",z=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(nt=>nt+`.${N}`).join(" "),F="nodesRect",X=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],P={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},D="ontouchstart"in O.Konva._global;function G(nt,k,I){if(nt==="rotater")return I;k+=u.Util.degToRad(P[nt]||0);const it=(u.Util.radToDeg(k)%360+360)%360;return u.Util._inRange(it,315+22.5,360)||u.Util._inRange(it,0,22.5)?"ns-resize":u.Util._inRange(it,45-22.5,45+22.5)?"nesw-resize":u.Util._inRange(it,90-22.5,90+22.5)?"ew-resize":u.Util._inRange(it,135-22.5,135+22.5)?"nwse-resize":u.Util._inRange(it,180-22.5,180+22.5)?"ns-resize":u.Util._inRange(it,225-22.5,225+22.5)?"nesw-resize":u.Util._inRange(it,270-22.5,270+22.5)?"ew-resize":u.Util._inRange(it,315-22.5,315+22.5)?"nwse-resize":(u.Util.error("Transformer has unknown angle for cursor detection: "+it),"pointer")}const U=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function J(nt){return{x:nt.x+nt.width/2*Math.cos(nt.rotation)+nt.height/2*Math.sin(-nt.rotation),y:nt.y+nt.height/2*Math.cos(nt.rotation)+nt.width/2*Math.sin(nt.rotation)}}function E(nt,k,I){const it=I.x+(nt.x-I.x)*Math.cos(k)-(nt.y-I.y)*Math.sin(k),dt=I.y+(nt.x-I.x)*Math.sin(k)+(nt.y-I.y)*Math.cos(k);return{...nt,rotation:nt.rotation+k,x:it,y:dt}}function T(nt,k){const I=J(nt);return E(nt,k,I)}function H(nt,k,I){let it=k;for(let dt=0;dt<nt.length;dt++){const M=O.Konva.getAngle(nt[dt]),Z=Math.abs(M-k)%(Math.PI*2);Math.min(Z,Math.PI*2-Z)<I&&(it=M)}return it}let V=0,$=class extends b.Group{constructor(k){super(k),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(z,this.update),this.getNode()&&this.update()}attachTo(k){return this.setNode(k),this}setNode(k){return u.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([k])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return N+this._id}setNodes(k=[]){this._nodes&&this._nodes.length&&this.detach();const I=k.filter(dt=>dt.isAncestorOf(this)?(u.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=k=I,k.length===1&&this.useSingleNodeRotation()?this.rotation(k[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(dt=>{const M=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},Z=dt._attrsAffectingSize.map(j=>j+"Change."+this._getEventNamespace()).join(" ");dt.on(Z,M),dt.on(X.map(j=>j+`.${this._getEventNamespace()}`).join(" "),M),dt.on(`absoluteTransformChange.${this._getEventNamespace()}`,M),this._proxyDrag(dt)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(k){let I;k.on(`dragstart.${this._getEventNamespace()}`,it=>{I=k.getAbsolutePosition(),!this.isDragging()&&k!==this.findOne(".back")&&this.startDrag(it,!1)}),k.on(`dragmove.${this._getEventNamespace()}`,it=>{if(!I)return;const dt=k.getAbsolutePosition(),M=dt.x-I.x,Z=dt.y-I.y;this.nodes().forEach(j=>{if(j===k||j.isDragging())return;const W=j.getAbsolutePosition();j.setAbsolutePosition({x:W.x+M,y:W.y+Z}),j.startDrag(it)}),I=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(k=>{k.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(F),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(F,this.__getNodeRect)}__getNodeShape(k,I=this.rotation(),it){const dt=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),M=k.getAbsoluteScale(it),Z=k.getAbsolutePosition(it),j=dt.x*M.x-k.offsetX()*M.x,W=dt.y*M.y-k.offsetY()*M.y,at=(O.Konva.getAngle(k.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),mt={x:Z.x+j*Math.cos(at)+W*Math.sin(-at),y:Z.y+W*Math.cos(at)+j*Math.sin(at),width:dt.width*M.x,height:dt.height*M.y,rotation:at};return E(mt,-O.Konva.getAngle(I),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const I=[];this.nodes().map(at=>{const mt=at.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),wt=[{x:mt.x,y:mt.y},{x:mt.x+mt.width,y:mt.y},{x:mt.x+mt.width,y:mt.y+mt.height},{x:mt.x,y:mt.y+mt.height}],K=at.getAbsoluteTransform();wt.forEach(function(ht){const Nt=K.point(ht);I.push(Nt)})});const it=new u.Transform;it.rotate(-O.Konva.getAngle(this.rotation()));let dt=1/0,M=1/0,Z=-1/0,j=-1/0;I.forEach(function(at){const mt=it.point(at);dt===void 0&&(dt=Z=mt.x,M=j=mt.y),dt=Math.min(dt,mt.x),M=Math.min(M,mt.y),Z=Math.max(Z,mt.x),j=Math.max(j,mt.y)}),it.invert();const W=it.point({x:dt,y:M});return{x:W.x,y:W.y,width:Z-dt,height:j-M,rotation:O.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),U.forEach(k=>{this._createAnchor(k)}),this._createAnchor("rotater")}_createAnchor(k){const I=new x.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:k+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:D?10:"auto"}),it=this;I.on("mousedown touchstart",function(dt){it._handleMouseDown(dt)}),I.on("dragstart",dt=>{I.stopDrag(),dt.cancelBubble=!0}),I.on("dragend",dt=>{dt.cancelBubble=!0}),I.on("mouseenter",()=>{const dt=O.Konva.getAngle(this.rotation()),M=this.rotateAnchorCursor(),Z=G(k,dt,M);I.getStage().content&&(I.getStage().content.style.cursor=Z),this._cursorChange=!0}),I.on("mouseout",()=>{I.getStage().content&&(I.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(I)}_createBack(){const k=new v.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(I,it){const dt=it.getParent(),M=dt.padding();I.beginPath(),I.rect(-M,-M,it.width()+M*2,it.height()+M*2),I.moveTo(it.width()/2,-M),dt.rotateEnabled()&&dt.rotateLineVisible()&&I.lineTo(it.width()/2,-dt.rotateAnchorOffset()*u.Util._sign(it.height())-M),I.fillStrokeShape(it)},hitFunc:(I,it)=>{if(!this.shouldOverdrawWholeArea())return;const dt=this.padding();I.beginPath(),I.rect(-dt,-dt,it.width()+dt*2,it.height()+dt*2),I.fillStrokeShape(it)}});this.add(k),this._proxyDrag(k),k.on("dragstart",I=>{I.cancelBubble=!0}),k.on("dragmove",I=>{I.cancelBubble=!0}),k.on("dragend",I=>{I.cancelBubble=!0}),this.on("dragmove",I=>{this.update()})}_handleMouseDown(k){if(this._transforming)return;this._movingAnchorName=k.target.name().split(" ")[0];const I=this._getNodeRect(),it=I.width,dt=I.height,M=Math.sqrt(Math.pow(it,2)+Math.pow(dt,2));this.sin=Math.abs(dt/M),this.cos=Math.abs(it/M),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const Z=k.target.getAbsolutePosition(),j=k.target.getStage().getPointerPosition();this._anchorDragOffset={x:j.x-Z.x,y:j.y-Z.y},V++,this._fire("transformstart",{evt:k.evt,target:this.getNode()}),this._nodes.forEach(W=>{W._fire("transformstart",{evt:k.evt,target:W})})}_handleMouseMove(k){let I,it,dt;const M=this.findOne("."+this._movingAnchorName),Z=M.getStage();Z.setPointersPositions(k);const j=Z.getPointerPosition();let W={x:j.x-this._anchorDragOffset.x,y:j.y-this._anchorDragOffset.y};const at=M.getAbsolutePosition();this.anchorDragBoundFunc()&&(W=this.anchorDragBoundFunc()(at,W,k)),M.setAbsolutePosition(W);const mt=M.getAbsolutePosition();if(at.x===mt.x&&at.y===mt.y)return;if(this._movingAnchorName==="rotater"){const jt=this._getNodeRect();I=M.x()-jt.width/2,it=-M.y()+jt.height/2;let zt=Math.atan2(-it,I)+Math.PI/2;jt.height<0&&(zt-=Math.PI);const ne=O.Konva.getAngle(this.rotation())+zt,Se=O.Konva.getAngle(this.rotationSnapTolerance()),he=H(this.rotationSnaps(),ne,Se)-jt.rotation,xn=T(jt,he);this._fitNodesInto(xn,k);return}const wt=this.shiftBehavior();let K;wt==="inverted"?K=this.keepRatio()&&!k.shiftKey:wt==="none"?K=this.keepRatio():K=this.keepRatio()||k.shiftKey;var Ht=this.centeredScaling()||k.altKey;if(this._movingAnchorName==="top-left"){if(K){var ht=Ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};dt=Math.sqrt(Math.pow(ht.x-M.x(),2)+Math.pow(ht.y-M.y(),2));var Nt=this.findOne(".top-left").x()>ht.x?-1:1,yt=this.findOne(".top-left").y()>ht.y?-1:1;I=dt*this.cos*Nt,it=dt*this.sin*yt,this.findOne(".top-left").x(ht.x-I),this.findOne(".top-left").y(ht.y-it)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(M.y());else if(this._movingAnchorName==="top-right"){if(K){var ht=Ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};dt=Math.sqrt(Math.pow(M.x()-ht.x,2)+Math.pow(ht.y-M.y(),2));var Nt=this.findOne(".top-right").x()<ht.x?-1:1,yt=this.findOne(".top-right").y()>ht.y?-1:1;I=dt*this.cos*Nt,it=dt*this.sin*yt,this.findOne(".top-right").x(ht.x+I),this.findOne(".top-right").y(ht.y-it)}var Tt=M.position();this.findOne(".top-left").y(Tt.y),this.findOne(".bottom-right").x(Tt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(M.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(M.x());else if(this._movingAnchorName==="bottom-left"){if(K){var ht=Ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};dt=Math.sqrt(Math.pow(ht.x-M.x(),2)+Math.pow(M.y()-ht.y,2));var Nt=ht.x<M.x()?-1:1,yt=M.y()<ht.y?-1:1;I=dt*this.cos*Nt,it=dt*this.sin*yt,M.x(ht.x-I),M.y(ht.y+it)}Tt=M.position(),this.findOne(".top-left").x(Tt.x),this.findOne(".bottom-right").y(Tt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(M.y());else if(this._movingAnchorName==="bottom-right"){if(K){var ht=Ht?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};dt=Math.sqrt(Math.pow(M.x()-ht.x,2)+Math.pow(M.y()-ht.y,2));var Nt=this.findOne(".bottom-right").x()<ht.x?-1:1,yt=this.findOne(".bottom-right").y()<ht.y?-1:1;I=dt*this.cos*Nt,it=dt*this.sin*yt,this.findOne(".bottom-right").x(ht.x+I),this.findOne(".bottom-right").y(ht.y+it)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Ht=this.centeredScaling()||k.altKey;if(Ht){const jt=this.findOne(".top-left"),zt=this.findOne(".bottom-right"),te=jt.x(),ne=jt.y(),Se=this.getWidth()-zt.x(),Oe=this.getHeight()-zt.y();zt.move({x:-te,y:-ne}),jt.move({x:Se,y:Oe})}const Ft=this.findOne(".top-left").getAbsolutePosition();I=Ft.x,it=Ft.y;const ut=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_t=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:I,y:it,width:ut,height:_t,rotation:O.Konva.getAngle(this.rotation())},k)}_handleMouseUp(k){this._removeEvents(k)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(k){var I;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const it=this.getNode();V--,this._fire("transformend",{evt:k,target:it}),(I=this.getLayer())===null||I===void 0||I.batchDraw(),it&&this._nodes.forEach(dt=>{var M;dt._fire("transformend",{evt:k,target:dt}),(M=dt.getLayer())===null||M===void 0||M.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(k,I){const it=this._getNodeRect(),dt=1;if(u.Util._inRange(k.width,-this.padding()*2-dt,dt)){this.update();return}if(u.Util._inRange(k.height,-this.padding()*2-dt,dt)){this.update();return}const M=new u.Transform;if(M.rotate(O.Konva.getAngle(this.rotation())),this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("left")>=0){const K=M.point({x:-this.padding()*2,y:0});k.x+=K.x,k.y+=K.y,k.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y}else if(this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("right")>=0){const K=M.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,k.width+=this.padding()*2}if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("top")>=0){const K=M.point({x:0,y:-this.padding()*2});k.x+=K.x,k.y+=K.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,k.height+=this.padding()*2}else if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const K=M.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,k.height+=this.padding()*2}if(this.boundBoxFunc()){const K=this.boundBoxFunc()(it,k);K?k=K:u.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const Z=1e7,j=new u.Transform;j.translate(it.x,it.y),j.rotate(it.rotation),j.scale(it.width/Z,it.height/Z);const W=new u.Transform,at=k.width/Z,mt=k.height/Z;this.flipEnabled()===!1?(W.translate(k.x,k.y),W.rotate(k.rotation),W.translate(k.width<0?k.width:0,k.height<0?k.height:0),W.scale(Math.abs(at),Math.abs(mt))):(W.translate(k.x,k.y),W.rotate(k.rotation),W.scale(at,mt));const wt=W.multiply(j.invert());this._nodes.forEach(K=>{var ht;const Nt=K.getParent().getAbsoluteTransform(),yt=K.getTransform().copy();yt.translate(K.offsetX(),K.offsetY());const Tt=new u.Transform;Tt.multiply(Nt.copy().invert()).multiply(wt).multiply(Nt).multiply(yt);const Ht=Tt.decompose();K.setAttrs(Ht),(ht=K.getLayer())===null||ht===void 0||ht.batchDraw()}),this.rotation(u.Util._getRotation(k.rotation)),this._nodes.forEach(K=>{this._fire("transform",{evt:I,target:K}),K._fire("transform",{evt:I,target:K})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(k,I){this.findOne(k).setAttrs(I)}update(){var k;const I=this._getNodeRect();this.rotation(u.Util._getRotation(I.rotation));const it=I.width,dt=I.height,M=this.enabledAnchors(),Z=this.resizeEnabled(),j=this.padding(),W=this.anchorSize(),at=this.find("._anchor");at.forEach(wt=>{wt.setAttrs({width:W,height:W,offsetX:W/2,offsetY:W/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:W/2+j,offsetY:W/2+j,visible:Z&&M.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:it/2,y:0,offsetY:W/2+j,visible:Z&&M.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:it,y:0,offsetX:W/2-j,offsetY:W/2+j,visible:Z&&M.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:dt/2,offsetX:W/2+j,visible:Z&&M.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:it,y:dt/2,offsetX:W/2-j,visible:Z&&M.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:dt,offsetX:W/2+j,offsetY:W/2-j,visible:Z&&M.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:it/2,y:dt,offsetY:W/2-j,visible:Z&&M.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:it,y:dt,offsetX:W/2-j,offsetY:W/2-j,visible:Z&&M.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:it/2,y:-this.rotateAnchorOffset()*u.Util._sign(dt)-j,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:it,height:dt,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const mt=this.anchorStyleFunc();mt&&at.forEach(wt=>{mt(wt)}),(k=this.getLayer())===null||k===void 0||k.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const k=this.findOne("."+this._movingAnchorName);k&&k.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),b.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return g.Node.prototype.toObject.call(this)}clone(k){return g.Node.prototype.clone.call(this,k)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};yh.Transformer=$,$.isTransforming=()=>V>0;function ft(nt){return nt instanceof Array||u.Util.warn("enabledAnchors value should be an array"),nt instanceof Array&&nt.forEach(function(k){U.indexOf(k)===-1&&u.Util.warn("Unknown anchor name: "+k+". Available names are: "+U.join(", "))}),nt||[]}return $.prototype.className="Transformer",(0,w._registerNode)($),a.Factory.addGetterSetter($,"enabledAnchors",U,ft),a.Factory.addGetterSetter($,"flipEnabled",!0,(0,S.getBooleanValidator)()),a.Factory.addGetterSetter($,"resizeEnabled",!0),a.Factory.addGetterSetter($,"anchorSize",10,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"rotateEnabled",!0),a.Factory.addGetterSetter($,"rotateLineVisible",!0),a.Factory.addGetterSetter($,"rotationSnaps",[]),a.Factory.addGetterSetter($,"rotateAnchorOffset",50,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"rotateAnchorCursor","crosshair"),a.Factory.addGetterSetter($,"rotationSnapTolerance",5,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"borderEnabled",!0),a.Factory.addGetterSetter($,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter($,"anchorStrokeWidth",1,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"anchorFill","white"),a.Factory.addGetterSetter($,"anchorCornerRadius",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter($,"borderStrokeWidth",1,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"borderDash"),a.Factory.addGetterSetter($,"keepRatio",!0),a.Factory.addGetterSetter($,"shiftBehavior","default"),a.Factory.addGetterSetter($,"centeredScaling",!1),a.Factory.addGetterSetter($,"ignoreStroke",!1),a.Factory.addGetterSetter($,"padding",0,(0,S.getNumberValidator)()),a.Factory.addGetterSetter($,"nodes"),a.Factory.addGetterSetter($,"node"),a.Factory.addGetterSetter($,"boundBoxFunc"),a.Factory.addGetterSetter($,"anchorDragBoundFunc"),a.Factory.addGetterSetter($,"anchorStyleFunc"),a.Factory.addGetterSetter($,"shouldOverdrawWholeArea",!1),a.Factory.addGetterSetter($,"useSingleNodeRotation",!0),a.Factory.backCompat($,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),yh}var vh={},Rm;function Zy(){if(Rm)return vh;Rm=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.Wedge=void 0;const u=Qe(),a=da(),g=Fe(),v=$e(),x=Fe();let b=class extends a.Shape{_sceneFunc(S){S.beginPath(),S.arc(0,0,this.radius(),0,g.Konva.getAngle(this.angle()),this.clockwise()),S.lineTo(0,0),S.closePath(),S.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(S){this.radius(S/2)}setHeight(S){this.radius(S/2)}};return vh.Wedge=b,b.prototype.className="Wedge",b.prototype._centroid=!0,b.prototype._attrsAffectingSize=["radius"],(0,x._registerNode)(b),u.Factory.addGetterSetter(b,"radius",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"angle",0,(0,v.getNumberValidator)()),u.Factory.addGetterSetter(b,"clockwise",!1),u.Factory.backCompat(b,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),vh}var bh={},Lm;function Qy(){if(Lm)return bh;Lm=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.Blur=void 0;const u=Qe(),a=Ri(),g=$e();function v(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const x=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],b=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function O(w,N){const z=w.data,F=w.width,X=w.height;let P,D,G,U,J,E,T,H,V,$,ft,nt,k,I,it,dt,M,Z,j,W,at,mt,wt,K;const ht=N+N+1,Nt=F-1,yt=X-1,Tt=N+1,Ht=Tt*(Tt+1)/2,Ft=new v,ut=x[N],_t=b[N];let jt=null,zt=Ft,te=null,ne=null;for(G=1;G<ht;G++)zt=zt.next=new v,G===Tt&&(jt=zt);for(zt.next=Ft,T=E=0,D=0;D<X;D++){for(dt=M=Z=j=H=V=$=ft=0,nt=Tt*(W=z[E]),k=Tt*(at=z[E+1]),I=Tt*(mt=z[E+2]),it=Tt*(wt=z[E+3]),H+=Ht*W,V+=Ht*at,$+=Ht*mt,ft+=Ht*wt,zt=Ft,G=0;G<Tt;G++)zt.r=W,zt.g=at,zt.b=mt,zt.a=wt,zt=zt.next;for(G=1;G<Tt;G++)U=E+((Nt<G?Nt:G)<<2),H+=(zt.r=W=z[U])*(K=Tt-G),V+=(zt.g=at=z[U+1])*K,$+=(zt.b=mt=z[U+2])*K,ft+=(zt.a=wt=z[U+3])*K,dt+=W,M+=at,Z+=mt,j+=wt,zt=zt.next;for(te=Ft,ne=jt,P=0;P<F;P++)z[E+3]=wt=ft*ut>>_t,wt!==0?(wt=255/wt,z[E]=(H*ut>>_t)*wt,z[E+1]=(V*ut>>_t)*wt,z[E+2]=($*ut>>_t)*wt):z[E]=z[E+1]=z[E+2]=0,H-=nt,V-=k,$-=I,ft-=it,nt-=te.r,k-=te.g,I-=te.b,it-=te.a,U=T+((U=P+N+1)<Nt?U:Nt)<<2,dt+=te.r=z[U],M+=te.g=z[U+1],Z+=te.b=z[U+2],j+=te.a=z[U+3],H+=dt,V+=M,$+=Z,ft+=j,te=te.next,nt+=W=ne.r,k+=at=ne.g,I+=mt=ne.b,it+=wt=ne.a,dt-=W,M-=at,Z-=mt,j-=wt,ne=ne.next,E+=4;T+=F}for(P=0;P<F;P++){for(M=Z=j=dt=V=$=ft=H=0,E=P<<2,nt=Tt*(W=z[E]),k=Tt*(at=z[E+1]),I=Tt*(mt=z[E+2]),it=Tt*(wt=z[E+3]),H+=Ht*W,V+=Ht*at,$+=Ht*mt,ft+=Ht*wt,zt=Ft,G=0;G<Tt;G++)zt.r=W,zt.g=at,zt.b=mt,zt.a=wt,zt=zt.next;for(J=F,G=1;G<=N;G++)E=J+P<<2,H+=(zt.r=W=z[E])*(K=Tt-G),V+=(zt.g=at=z[E+1])*K,$+=(zt.b=mt=z[E+2])*K,ft+=(zt.a=wt=z[E+3])*K,dt+=W,M+=at,Z+=mt,j+=wt,zt=zt.next,G<yt&&(J+=F);for(E=P,te=Ft,ne=jt,D=0;D<X;D++)U=E<<2,z[U+3]=wt=ft*ut>>_t,wt>0?(wt=255/wt,z[U]=(H*ut>>_t)*wt,z[U+1]=(V*ut>>_t)*wt,z[U+2]=($*ut>>_t)*wt):z[U]=z[U+1]=z[U+2]=0,H-=nt,V-=k,$-=I,ft-=it,nt-=te.r,k-=te.g,I-=te.b,it-=te.a,U=P+((U=D+Tt)<yt?U:yt)*F<<2,H+=dt+=te.r=z[U],V+=M+=te.g=z[U+1],$+=Z+=te.b=z[U+2],ft+=j+=te.a=z[U+3],te=te.next,nt+=W=ne.r,k+=at=ne.g,I+=mt=ne.b,it+=wt=ne.a,dt-=W,M-=at,Z-=mt,j-=wt,ne=ne.next,E+=F}}const S=function(N){const z=Math.round(this.blurRadius());z>0&&O(N,z)};return bh.Blur=S,u.Factory.addGetterSetter(a.Node,"blurRadius",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),bh}var Sh={},Bm;function Ky(){if(Bm)return Sh;Bm=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.Brighten=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=this.brightness()*255,O=x.data,S=O.length;for(let w=0;w<S;w+=4)O[w]+=b,O[w+1]+=b,O[w+2]+=b};return Sh.Brighten=v,u.Factory.addGetterSetter(a.Node,"brightness",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Sh}var _h={},zm;function Jy(){if(zm)return _h;zm=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.Contrast=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=Math.pow((this.contrast()+100)/100,2),O=x.data,S=O.length;let w=150,N=150,z=150;for(let F=0;F<S;F+=4)w=O[F],N=O[F+1],z=O[F+2],w/=255,w-=.5,w*=b,w+=.5,w*=255,N/=255,N-=.5,N*=b,N+=.5,N*=255,z/=255,z-=.5,z*=b,z+=.5,z*=255,w=w<0?0:w>255?255:w,N=N<0?0:N>255?255:N,z=z<0?0:z>255?255:z,O[F]=w,O[F+1]=N,O[F+2]=z};return _h.Contrast=v,u.Factory.addGetterSetter(a.Node,"contrast",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),_h}var xh={},Ym;function Wy(){if(Ym)return xh;Ym=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.Emboss=void 0;const u=Qe(),a=Ri(),g=Ci(),v=$e(),x=function(b){const O=this.embossStrength()*10,S=this.embossWhiteLevel()*255,w=this.embossDirection(),N=this.embossBlend(),z=b.data,F=b.width,X=b.height,P=F*4;let D=0,G=0,U=X;switch(w){case"top-left":D=-1,G=-1;break;case"top":D=-1,G=0;break;case"top-right":D=-1,G=1;break;case"right":D=0,G=1;break;case"bottom-right":D=1,G=1;break;case"bottom":D=1,G=0;break;case"bottom-left":D=1,G=-1;break;case"left":D=0,G=-1;break;default:g.Util.error("Unknown emboss direction: "+w)}do{const J=(U-1)*P;let E=D;U+E<1&&(E=0),U+E>X&&(E=0);const T=(U-1+E)*F*4;let H=F;do{const V=J+(H-1)*4;let $=G;H+$<1&&($=0),H+$>F&&($=0);const ft=T+(H-1+$)*4,nt=z[V]-z[ft],k=z[V+1]-z[ft+1],I=z[V+2]-z[ft+2];let it=nt;const dt=it>0?it:-it,M=k>0?k:-k,Z=I>0?I:-I;if(M>dt&&(it=k),Z>dt&&(it=I),it*=O,N){const j=z[V]+it,W=z[V+1]+it,at=z[V+2]+it;z[V]=j>255?255:j<0?0:j,z[V+1]=W>255?255:W<0?0:W,z[V+2]=at>255?255:at<0?0:at}else{let j=S-it;j<0?j=0:j>255&&(j=255),z[V]=z[V+1]=z[V+2]=j}}while(--H)}while(--U)};return xh.Emboss=x,u.Factory.addGetterSetter(a.Node,"embossStrength",.5,(0,v.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"embossWhiteLevel",.5,(0,v.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"embossDirection","top-left",void 0,u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"embossBlend",!1,void 0,u.Factory.afterSetFilter),xh}var Ch={},Um;function $y(){if(Um)return Ch;Um=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.Enhance=void 0;const u=Qe(),a=Ri(),g=$e();function v(b,O,S,w,N){const z=S-O,F=N-w;if(z===0)return w+F/2;if(F===0)return w;let X=(b-O)/z;return X=F*X+w,X}const x=function(b){const O=b.data,S=O.length;let w=O[0],N=w,z,F=O[1],X=F,P,D=O[2],G=D,U;const J=this.enhance();if(J===0)return;for(let it=0;it<S;it+=4)z=O[it+0],z<w?w=z:z>N&&(N=z),P=O[it+1],P<F?F=P:P>X&&(X=P),U=O[it+2],U<D?D=U:U>G&&(G=U);N===w&&(N=255,w=0),X===F&&(X=255,F=0),G===D&&(G=255,D=0);let E,T,H,V,$,ft,nt,k,I;J>0?(T=N+J*(255-N),H=w-J*(w-0),$=X+J*(255-X),ft=F-J*(F-0),k=G+J*(255-G),I=D-J*(D-0)):(E=(N+w)*.5,T=N+J*(N-E),H=w+J*(w-E),V=(X+F)*.5,$=X+J*(X-V),ft=F+J*(F-V),nt=(G+D)*.5,k=G+J*(G-nt),I=D+J*(D-nt));for(let it=0;it<S;it+=4)O[it+0]=v(O[it+0],w,N,H,T),O[it+1]=v(O[it+1],F,X,ft,$),O[it+2]=v(O[it+2],D,G,I,k)};return Ch.Enhance=x,u.Factory.addGetterSetter(a.Node,"enhance",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Ch}var wh={},Gm;function tv(){if(Gm)return wh;Gm=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.Grayscale=void 0;const u=function(a){const g=a.data,v=g.length;for(let x=0;x<v;x+=4){const b=.34*g[x]+.5*g[x+1]+.16*g[x+2];g[x]=b,g[x+1]=b,g[x+2]=b}};return wh.Grayscale=u,wh}var Eh={},Xm;function ev(){if(Xm)return Eh;Xm=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.HSL=void 0;const u=Qe(),a=Ri(),g=$e();u.Factory.addGetterSetter(a.Node,"hue",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"saturation",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"luminance",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter);const v=function(x){const b=x.data,O=b.length,S=1,w=Math.pow(2,this.saturation()),N=Math.abs(this.hue()+360)%360,z=this.luminance()*127,F=S*w*Math.cos(N*Math.PI/180),X=S*w*Math.sin(N*Math.PI/180),P=.299*S+.701*F+.167*X,D=.587*S-.587*F+.33*X,G=.114*S-.114*F-.497*X,U=.299*S-.299*F-.328*X,J=.587*S+.413*F+.035*X,E=.114*S-.114*F+.293*X,T=.299*S-.3*F+1.25*X,H=.587*S-.586*F-1.05*X,V=.114*S+.886*F-.2*X;let $,ft,nt,k;for(let I=0;I<O;I+=4)$=b[I+0],ft=b[I+1],nt=b[I+2],k=b[I+3],b[I+0]=P*$+D*ft+G*nt+z,b[I+1]=U*$+J*ft+E*nt+z,b[I+2]=T*$+H*ft+V*nt+z,b[I+3]=k};return Eh.HSL=v,Eh}var Th={},Hm;function nv(){if(Hm)return Th;Hm=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.HSV=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=x.data,O=b.length,S=Math.pow(2,this.value()),w=Math.pow(2,this.saturation()),N=Math.abs(this.hue()+360)%360,z=S*w*Math.cos(N*Math.PI/180),F=S*w*Math.sin(N*Math.PI/180),X=.299*S+.701*z+.167*F,P=.587*S-.587*z+.33*F,D=.114*S-.114*z-.497*F,G=.299*S-.299*z-.328*F,U=.587*S+.413*z+.035*F,J=.114*S-.114*z+.293*F,E=.299*S-.3*z+1.25*F,T=.587*S-.586*z-1.05*F,H=.114*S+.886*z-.2*F;let V,$,ft,nt;for(let k=0;k<O;k+=4)V=b[k+0],$=b[k+1],ft=b[k+2],nt=b[k+3],b[k+0]=X*V+P*$+D*ft,b[k+1]=G*V+U*$+J*ft,b[k+2]=E*V+T*$+H*ft,b[k+3]=nt};return Th.HSV=v,u.Factory.addGetterSetter(a.Node,"hue",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"saturation",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"value",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Th}var Ah={},jm;function iv(){if(jm)return Ah;jm=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.Invert=void 0;const u=function(a){const g=a.data,v=g.length;for(let x=0;x<v;x+=4)g[x]=255-g[x],g[x+1]=255-g[x+1],g[x+2]=255-g[x+2]};return Ah.Invert=u,Ah}var Nh={},qm;function av(){if(qm)return Nh;qm=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.Kaleidoscope=void 0;const u=Qe(),a=Ri(),g=Ci(),v=$e(),x=function(S,w,N){const z=S.data,F=w.data,X=S.width,P=S.height,D=N.polarCenterX||X/2,G=N.polarCenterY||P/2;let U=Math.sqrt(D*D+G*G),J=X-D,E=P-G;const T=Math.sqrt(J*J+E*E);U=T>U?T:U;const H=P,V=X,$=360/V*Math.PI/180;for(let ft=0;ft<V;ft+=1){const nt=Math.sin(ft*$),k=Math.cos(ft*$);for(let I=0;I<H;I+=1){J=Math.floor(D+U*I/H*k),E=Math.floor(G+U*I/H*nt);let it=(E*X+J)*4;const dt=z[it+0],M=z[it+1],Z=z[it+2],j=z[it+3];it=(ft+I*X)*4,F[it+0]=dt,F[it+1]=M,F[it+2]=Z,F[it+3]=j}}},b=function(S,w,N){const z=S.data,F=w.data,X=S.width,P=S.height,D=N.polarCenterX||X/2,G=N.polarCenterY||P/2;let U=Math.sqrt(D*D+G*G),J=X-D,E=P-G;const T=Math.sqrt(J*J+E*E);U=T>U?T:U;const H=P,V=X,$=0;let ft,nt;for(J=0;J<X;J+=1)for(E=0;E<P;E+=1){const k=J-D,I=E-G,it=Math.sqrt(k*k+I*I)*H/U;let dt=(Math.atan2(I,k)*180/Math.PI+360+$)%360;dt=dt*V/360,ft=Math.floor(dt),nt=Math.floor(it);let M=(nt*X+ft)*4;const Z=z[M+0],j=z[M+1],W=z[M+2],at=z[M+3];M=(E*X+J)*4,F[M+0]=Z,F[M+1]=j,F[M+2]=W,F[M+3]=at}},O=function(S){const w=S.width,N=S.height;let z,F,X,P,D,G,U,J,E,T,H=Math.round(this.kaleidoscopePower());const V=Math.round(this.kaleidoscopeAngle()),$=Math.floor(w*(V%360)/360);if(H<1)return;const ft=g.Util.createCanvasElement();ft.width=w,ft.height=N;const nt=ft.getContext("2d").getImageData(0,0,w,N);g.Util.releaseCanvas(ft),x(S,nt,{polarCenterX:w/2,polarCenterY:N/2});let k=w/Math.pow(2,H);for(;k<=8;)k=k*2,H-=1;k=Math.ceil(k);let I=k,it=0,dt=I,M=1;for($+k>w&&(it=I,dt=0,M=-1),F=0;F<N;F+=1)for(z=it;z!==dt;z+=M)X=Math.round(z+$)%w,E=(w*F+X)*4,D=nt.data[E+0],G=nt.data[E+1],U=nt.data[E+2],J=nt.data[E+3],T=(w*F+z)*4,nt.data[T+0]=D,nt.data[T+1]=G,nt.data[T+2]=U,nt.data[T+3]=J;for(F=0;F<N;F+=1)for(I=Math.floor(k),P=0;P<H;P+=1){for(z=0;z<I+1;z+=1)E=(w*F+z)*4,D=nt.data[E+0],G=nt.data[E+1],U=nt.data[E+2],J=nt.data[E+3],T=(w*F+I*2-z-1)*4,nt.data[T+0]=D,nt.data[T+1]=G,nt.data[T+2]=U,nt.data[T+3]=J;I*=2}b(nt,S,{})};return Nh.Kaleidoscope=O,u.Factory.addGetterSetter(a.Node,"kaleidoscopePower",2,(0,v.getNumberValidator)(),u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"kaleidoscopeAngle",0,(0,v.getNumberValidator)(),u.Factory.afterSetFilter),Nh}var Oh={},Fm;function lv(){if(Fm)return Oh;Fm=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.Mask=void 0;const u=Qe(),a=Ri(),g=$e();function v(X,P,D){let G=(D*X.width+P)*4;const U=[];return U.push(X.data[G++],X.data[G++],X.data[G++],X.data[G++]),U}function x(X,P){return Math.sqrt(Math.pow(X[0]-P[0],2)+Math.pow(X[1]-P[1],2)+Math.pow(X[2]-P[2],2))}function b(X){const P=[0,0,0];for(let D=0;D<X.length;D++)P[0]+=X[D][0],P[1]+=X[D][1],P[2]+=X[D][2];return P[0]/=X.length,P[1]/=X.length,P[2]/=X.length,P}function O(X,P){const D=v(X,0,0),G=v(X,X.width-1,0),U=v(X,0,X.height-1),J=v(X,X.width-1,X.height-1),E=P||10;if(x(D,G)<E&&x(G,J)<E&&x(J,U)<E&&x(U,D)<E){const T=b([G,D,J,U]),H=[];for(let V=0;V<X.width*X.height;V++){const $=x(T,[X.data[V*4],X.data[V*4+1],X.data[V*4+2]]);H[V]=$<E?0:255}return H}}function S(X,P){for(let D=0;D<X.width*X.height;D++)X.data[4*D+3]=P[D]}function w(X,P,D){const G=[1,1,1,1,0,1,1,1,1],U=Math.round(Math.sqrt(G.length)),J=Math.floor(U/2),E=[];for(let T=0;T<D;T++)for(let H=0;H<P;H++){const V=T*P+H;let $=0;for(let ft=0;ft<U;ft++)for(let nt=0;nt<U;nt++){const k=T+ft-J,I=H+nt-J;if(k>=0&&k<D&&I>=0&&I<P){const it=k*P+I,dt=G[ft*U+nt];$+=X[it]*dt}}E[V]=$===2040?255:0}return E}function N(X,P,D){const G=[1,1,1,1,1,1,1,1,1],U=Math.round(Math.sqrt(G.length)),J=Math.floor(U/2),E=[];for(let T=0;T<D;T++)for(let H=0;H<P;H++){const V=T*P+H;let $=0;for(let ft=0;ft<U;ft++)for(let nt=0;nt<U;nt++){const k=T+ft-J,I=H+nt-J;if(k>=0&&k<D&&I>=0&&I<P){const it=k*P+I,dt=G[ft*U+nt];$+=X[it]*dt}}E[V]=$>=1020?255:0}return E}function z(X,P,D){const G=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],U=Math.round(Math.sqrt(G.length)),J=Math.floor(U/2),E=[];for(let T=0;T<D;T++)for(let H=0;H<P;H++){const V=T*P+H;let $=0;for(let ft=0;ft<U;ft++)for(let nt=0;nt<U;nt++){const k=T+ft-J,I=H+nt-J;if(k>=0&&k<D&&I>=0&&I<P){const it=k*P+I,dt=G[ft*U+nt];$+=X[it]*dt}}E[V]=$}return E}const F=function(X){const P=this.threshold();let D=O(X,P);return D&&(D=w(D,X.width,X.height),D=N(D,X.width,X.height),D=z(D,X.width,X.height),S(X,D)),X};return Oh.Mask=F,u.Factory.addGetterSetter(a.Node,"threshold",0,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Oh}var Mh={},Vm;function sv(){if(Vm)return Mh;Vm=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.Noise=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=this.noise()*255,O=x.data,S=O.length,w=b/2;for(let N=0;N<S;N+=4)O[N+0]+=w-2*w*Math.random(),O[N+1]+=w-2*w*Math.random(),O[N+2]+=w-2*w*Math.random()};return Mh.Noise=v,u.Factory.addGetterSetter(a.Node,"noise",.2,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Mh}var Dh={},Im;function rv(){if(Im)return Dh;Im=1,Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.Pixelate=void 0;const u=Qe(),a=Ci(),g=Ri(),v=$e(),x=function(b){let O=Math.ceil(this.pixelSize()),S=b.width,w=b.height,N,z,F,X,P,D,G,U=Math.ceil(S/O),J=Math.ceil(w/O),E,T,H,V,$,ft,nt,k=b.data;if(O<=0){a.Util.error("pixelSize value can not be <= 0");return}for($=0;$<U;$+=1)for(ft=0;ft<J;ft+=1){for(X=0,P=0,D=0,G=0,E=$*O,T=E+O,H=ft*O,V=H+O,nt=0,N=E;N<T;N+=1)if(!(N>=S))for(z=H;z<V;z+=1)z>=w||(F=(S*z+N)*4,X+=k[F+0],P+=k[F+1],D+=k[F+2],G+=k[F+3],nt+=1);for(X=X/nt,P=P/nt,D=D/nt,G=G/nt,N=E;N<T;N+=1)if(!(N>=S))for(z=H;z<V;z+=1)z>=w||(F=(S*z+N)*4,k[F+0]=X,k[F+1]=P,k[F+2]=D,k[F+3]=G)}};return Dh.Pixelate=x,u.Factory.addGetterSetter(g.Node,"pixelSize",8,(0,v.getNumberValidator)(),u.Factory.afterSetFilter),Dh}var Ph={},km;function ov(){if(km)return Ph;km=1,Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.Posterize=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=Math.round(this.levels()*254)+1,O=x.data,S=O.length,w=255/b;for(let N=0;N<S;N+=1)O[N]=Math.floor(O[N]/w)*w};return Ph.Posterize=v,u.Factory.addGetterSetter(a.Node,"levels",.5,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Ph}var Rh={},Zm;function uv(){if(Zm)return Rh;Zm=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.RGB=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=x.data,O=b.length,S=this.red(),w=this.green(),N=this.blue();for(let z=0;z<O;z+=4){const F=(.34*b[z]+.5*b[z+1]+.16*b[z+2])/255;b[z]=F*S,b[z+1]=F*w,b[z+2]=F*N,b[z+3]=b[z+3]}};return Rh.RGB=v,u.Factory.addGetterSetter(a.Node,"red",0,function(x){return this._filterUpToDate=!1,x>255?255:x<0?0:Math.round(x)}),u.Factory.addGetterSetter(a.Node,"green",0,function(x){return this._filterUpToDate=!1,x>255?255:x<0?0:Math.round(x)}),u.Factory.addGetterSetter(a.Node,"blue",0,g.RGBComponent,u.Factory.afterSetFilter),Rh}var Lh={},Qm;function cv(){if(Qm)return Lh;Qm=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.RGBA=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=x.data,O=b.length,S=this.red(),w=this.green(),N=this.blue(),z=this.alpha();for(let F=0;F<O;F+=4){const X=1-z;b[F]=S*z+b[F]*X,b[F+1]=w*z+b[F+1]*X,b[F+2]=N*z+b[F+2]*X}};return Lh.RGBA=v,u.Factory.addGetterSetter(a.Node,"red",0,function(x){return this._filterUpToDate=!1,x>255?255:x<0?0:Math.round(x)}),u.Factory.addGetterSetter(a.Node,"green",0,function(x){return this._filterUpToDate=!1,x>255?255:x<0?0:Math.round(x)}),u.Factory.addGetterSetter(a.Node,"blue",0,g.RGBComponent,u.Factory.afterSetFilter),u.Factory.addGetterSetter(a.Node,"alpha",1,function(x){return this._filterUpToDate=!1,x>1?1:x<0?0:x}),Lh}var Bh={},Km;function fv(){if(Km)return Bh;Km=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.Sepia=void 0;const u=function(a){const g=a.data,v=g.length;for(let x=0;x<v;x+=4){const b=g[x+0],O=g[x+1],S=g[x+2];g[x+0]=Math.min(255,b*.393+O*.769+S*.189),g[x+1]=Math.min(255,b*.349+O*.686+S*.168),g[x+2]=Math.min(255,b*.272+O*.534+S*.131)}};return Bh.Sepia=u,Bh}var zh={},Jm;function hv(){if(Jm)return zh;Jm=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.Solarize=void 0;const u=function(a){const g=a.data,v=a.width,x=a.height,b=v*4;let O=x;do{const S=(O-1)*b;let w=v;do{const N=S+(w-1)*4;let z=g[N],F=g[N+1],X=g[N+2];z>127&&(z=255-z),F>127&&(F=255-F),X>127&&(X=255-X),g[N]=z,g[N+1]=F,g[N+2]=X}while(--w)}while(--O)};return zh.Solarize=u,zh}var Yh={},Wm;function dv(){if(Wm)return Yh;Wm=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.Threshold=void 0;const u=Qe(),a=Ri(),g=$e(),v=function(x){const b=this.threshold()*255,O=x.data,S=O.length;for(let w=0;w<S;w+=1)O[w]=O[w]<b?0:255};return Yh.Threshold=v,u.Factory.addGetterSetter(a.Node,"threshold",.5,(0,g.getNumberValidator)(),u.Factory.afterSetFilter),Yh}var $m;function pv(){if($m)return Jf;$m=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.Konva=void 0;const u=Lp(),a=By(),g=Yy(),v=Uy(),x=Gy(),b=Xy(),O=Hy(),S=Y2(),w=jp(),N=U2(),z=jy(),F=qy(),X=Fy(),P=Vy(),D=G2(),G=Iy(),U=ky(),J=Zy(),E=Qy(),T=Ky(),H=Jy(),V=Wy(),$=$y(),ft=tv(),nt=ev(),k=nv(),I=iv(),it=av(),dt=lv(),M=sv(),Z=rv(),j=ov(),W=uv(),at=cv(),mt=fv(),wt=hv(),K=dv();return Jf.Konva=u.Konva.Util._assign(u.Konva,{Arc:a.Arc,Arrow:g.Arrow,Circle:v.Circle,Ellipse:x.Ellipse,Image:b.Image,Label:O.Label,Tag:O.Tag,Line:S.Line,Path:w.Path,Rect:N.Rect,RegularPolygon:z.RegularPolygon,Ring:F.Ring,Sprite:X.Sprite,Star:P.Star,Text:D.Text,TextPath:G.TextPath,Transformer:U.Transformer,Wedge:J.Wedge,Filters:{Blur:E.Blur,Brighten:T.Brighten,Contrast:H.Contrast,Emboss:V.Emboss,Enhance:$.Enhance,Grayscale:ft.Grayscale,HSL:nt.HSL,HSV:k.HSV,Invert:I.Invert,Kaleidoscope:it.Kaleidoscope,Mask:dt.Mask,Noise:M.Noise,Pixelate:Z.Pixelate,Posterize:j.Posterize,RGB:W.RGB,RGBA:at.RGBA,Sepia:mt.Sepia,Solarize:wt.Solarize,Threshold:K.Threshold}}),Jf}var mv=l0.exports,t2;function gv(){if(t2)return l0.exports;t2=1,Object.defineProperty(mv,"__esModule",{value:!0});const u=pv();return l0.exports=u.Konva,l0.exports}gv();var n0={exports:{}},e2;function yv(){return e2||(e2=1,(function(u,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;var g=Lp();Object.defineProperty(a,"Konva",{enumerable:!0,get:function(){return g.Konva}});const v=Lp();u.exports=v.Konva})(n0,n0.exports)),n0.exports}var vv=yv();const s0=g0(vv);var Sp={exports:{}},_p={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function bv(){return n2||(n2=1,(function(u){u.exports=function(a){function g(n,i,c,d){return new Kh(n,i,c,d)}function v(){}function x(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(n){return n===null||typeof n!="object"?null:(n=bn&&n[bn]||n["@@iterator"],typeof n=="function"?n:null)}function O(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yi?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case br:return"Fragment";case os:return"Portal";case Sr:return"Profiler";case fo:return"StrictMode";case zs:return"Suspense";case Hu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _r:return(n.displayName||"Context")+".Provider";case uf:return(n._context.displayName||"Context")+".Consumer";case bc:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Zo:return i=n.displayName||null,i!==null?i:O(n.type)||"Memo";case Ys:i=n._payload,n=n._init;try{return O(n(i))}catch{}}return null}function S(n){if(xr===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);xr=i&&i[1]||"",Cr=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+n+Cr}function w(n,i){if(!n||Qo)return"";Qo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Ne){var Jt=Ne}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Ne){Jt=Ne}n.call(ie.prototype)}}else{try{throw Error()}catch(Ne){Jt=Ne}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Ne){if(Ne&&Jt&&typeof Ne.stack=="string")return[Ne.stack,Jt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=d.DetermineComponentFrameRoot(),et=C[0],ct=C[1];if(et&&ct){var Ct=et.split(`
`),Yt=ct.split(`
`);for(y=d=0;d<Ct.length&&!Ct[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Yt.length&&!Yt[y].includes("DetermineComponentFrameRoot");)y++;if(d===Ct.length||y===Yt.length)for(d=Ct.length-1,y=Yt.length-1;1<=d&&0<=y&&Ct[d]!==Yt[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Ct[d]!==Yt[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Ct[d]!==Yt[y]){var Wt=`
`+Ct[d].replace(" at new "," at ");return n.displayName&&Wt.includes("<anonymous>")&&(Wt=Wt.replace("<anonymous>",n.displayName)),Wt}while(1<=d&&0<=y);break}}}finally{Qo=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?S(c):""}function N(n){switch(n.tag){case 26:case 27:case 5:return S(n.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 15:return n=w(n.type,!1),n;case 11:return n=w(n.type.render,!1),n;case 1:return n=w(n.type,!0),n;default:return""}}function z(n){try{var i="";do i+=N(n),n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function F(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function X(n){if(F(n)!==n)throw Error(x(188))}function P(n){var i=n.alternate;if(!i){if(i=F(n),i===null)throw Error(x(188));return i!==n?null:n}for(var c=n,d=i;;){var y=c.return;if(y===null)break;var C=y.alternate;if(C===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===C.child){for(C=y.child;C;){if(C===c)return X(y),n;if(C===d)return X(y),i;C=C.sibling}throw Error(x(188))}if(c.return!==d.return)c=y,d=C;else{for(var et=!1,ct=y.child;ct;){if(ct===c){et=!0,c=y,d=C;break}if(ct===d){et=!0,d=y,c=C;break}ct=ct.sibling}if(!et){for(ct=C.child;ct;){if(ct===c){et=!0,c=C,d=y;break}if(ct===d){et=!0,d=C,c=y;break}ct=ct.sibling}if(!et)throw Error(x(189))}}if(c.alternate!==d)throw Error(x(190))}if(c.tag!==3)throw Error(x(188));return c.stateNode.current===c?n:i}function D(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=D(n),i!==null)return i;n=n.sibling}return null}function G(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(n.tag!==4&&(i=G(n),i!==null))return i;n=n.sibling}return null}function U(n){return{current:n}}function J(n){0>Ar||(n.current=Pc[Ar],Pc[Ar]=null,Ar--)}function E(n,i){Ar++,Pc[Ar]=n.current,n.current=i}function T(n){return n>>>=0,n===0?32:31-(Rf(n)/B0|0)|0}function H(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function V(n,i){var c=n.pendingLanes;if(c===0)return 0;var d=0,y=n.suspendedLanes,C=n.pingedLanes,et=n.warmLanes;n=n.finishedLanes!==0;var ct=c&134217727;return ct!==0?(c=ct&~y,c!==0?d=H(c):(C&=ct,C!==0?d=H(C):n||(et=ct&~et,et!==0&&(d=H(et))))):(ct=c&~y,ct!==0?d=H(ct):C!==0?d=H(C):n||(et=c&~et,et!==0&&(d=H(et)))),d===0?0:i!==0&&i!==d&&(i&y)===0&&(y=d&-d,et=i&-i,y>=et||y===32&&(et&4194176)!==0)?i:d}function $(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ft(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var n=Vu;return Vu<<=1,(Vu&4194176)===0&&(Vu=128),n}function k(){var n=tu;return tu<<=1,(tu&62914560)===0&&(tu=4194304),n}function I(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function it(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function dt(n,i,c,d,y,C){var et=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var ct=n.entanglements,Ct=n.expirationTimes,Yt=n.hiddenUpdates;for(c=et&~c;0<c;){var Wt=31-ri(c),ie=1<<Wt;ct[Wt]=0,Ct[Wt]=-1;var Jt=Yt[Wt];if(Jt!==null)for(Yt[Wt]=null,Wt=0;Wt<Jt.length;Wt++){var Ne=Jt[Wt];Ne!==null&&(Ne.lane&=-536870913)}c&=~ie}d!==0&&M(n,d,0),C!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=C&~(et&~i))}function M(n,i,c){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-ri(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|c&4194218}function Z(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var d=31-ri(c),y=1<<d;y&i|n[d]&i&&(n[d]|=i),c&=~y}}function j(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function W(n){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(nu,n,void 0,(n.current.flags&128)===128)}catch{}}function at(n){if(typeof la=="function"&&Lc(n),vi&&typeof vi.setStrictMode=="function")try{vi.setStrictMode(nu,n)}catch{}}function mt(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}function wt(n,i){if(typeof n=="object"&&n!==null){var c=Bc.get(n);return c!==void 0?c:(i={value:n,source:i,stack:z(i)},Bc.set(n,i),i)}return{value:n,source:i,stack:z(i)}}function K(n,i){Ka[Ja++]=iu,Ka[Ja++]=Or,Or=n,iu=i}function ht(n,i,c){Ra[sa++]=hs,Ra[sa++]=ds,Ra[sa++]=zl,zl=n;var d=hs;n=ds;var y=32-ri(d)-1;d&=~(1<<y),c+=1;var C=32-ri(i)+y;if(30<C){var et=y-y%5;C=(d&(1<<et)-1).toString(32),d>>=et,y-=et,hs=1<<32-ri(i)+y|c<<y|d,ds=C+n}else hs=1<<C|c<<y|d,ds=n}function Nt(n){n.return!==null&&(K(n,1),ht(n,1,0))}function yt(n){for(;n===Or;)Or=Ka[--Ja],Ka[Ja]=null,iu=Ka[--Ja],Ka[Ja]=null;for(;n===zl;)zl=Ra[--sa],Ra[sa]=null,ds=Ra[--sa],Ra[sa]=null,hs=Ra[--sa],Ra[sa]=null}function Tt(n,i){E(js,i),E(ul,n),E(oi,null),n=cf(i),J(oi),E(oi,n)}function Ht(){J(oi),J(ul),J(js)}function Ft(n){n.memoizedState!==null&&E(ku,n);var i=oi.current,c=Jh(i,n.type);i!==c&&(E(ul,n),E(oi,c))}function ut(n){ul.current===n&&(J(oi),J(ul)),ku.current===n&&(J(ku),Rl?Gs._currentValue=po:Gs._currentValue2=po)}function _t(n){var i=Error(x(418,""));throw Se(wt(i,n)),Zu}function jt(n,i){if(!Pa)throw Error(x(175));yo(n.stateNode,n.type,n.memoizedProps,i,n)||_t(n)}function zt(n){for(ui=n.return;ui;)switch(ui.tag){case 3:case 27:Yl=!0;return;case 5:case 13:Yl=!1;return;default:ui=ui.return}}function te(n){if(!Pa||n!==ui)return!1;if(!ln)return zt(n),ln=!0,!1;var i=!1;if(Gi?n.tag!==3&&n.tag!==27&&(n.tag!==5||Cf(n.type)&&!Zi(n.type,n.memoizedProps))&&(i=!0):n.tag!==3&&(n.tag!==5||Cf(n.type)&&!Zi(n.type,n.memoizedProps))&&(i=!0),i&&wn&&_t(n),zt(n),n.tag===13){if(!Pa)throw Error(x(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(x(317));wn=Od(n)}else wn=ui?Tr(n.stateNode):null;return!0}function ne(){Pa&&(wn=ui=null,ln=!1)}function Se(n){cl===null?cl=[n]:cl.push(n)}function Oe(){for(var n=qs,i=Ul=qs=0;i<n;){var c=La[i];La[i++]=null;var d=La[i];La[i++]=null;var y=La[i];La[i++]=null;var C=La[i];if(La[i++]=null,d!==null&&y!==null){var et=d.pending;et===null?y.next=y:(y.next=et.next,et.next=y),d.pending=y}C!==0&&un(c,y,C)}}function he(n,i,c,d){La[qs++]=n,La[qs++]=i,La[qs++]=c,La[qs++]=d,Ul|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function xn(n,i,c,d){return he(n,i,c,d),Ke(n)}function De(n,i){return he(n,null,null,i),Ke(n)}function un(n,i,c){n.lanes|=c;var d=n.alternate;d!==null&&(d.lanes|=c);for(var y=!1,C=n.return;C!==null;)C.childLanes|=c,d=C.alternate,d!==null&&(d.childLanes|=c),C.tag===22&&(n=C.stateNode,n===null||n._visibility&1||(y=!0)),n=C,C=C.return;y&&i!==null&&n.tag===3&&(C=n.stateNode,y=31-ri(c),C=C.hiddenUpdates,n=C[y],n===null?C[y]=[i]:n.push(i),i.lane=c|536870912)}function Ke(n){if(50<Eo)throw Eo=0,Uf=null,Error(x(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}function tn(n){n!==Mr&&n.next===null&&(Mr===null?Xn=Mr=n:Mr=Mr.next=n),ci=!0,zc||(zc=!0,yn(en))}function wi(n,i){if(!Yc&&ci){Yc=!0;do for(var c=!1,d=Xn;d!==null;){if(n!==0){var y=d.pendingLanes;if(y===0)var C=0;else{var et=d.suspendedLanes,ct=d.pingedLanes;C=(1<<31-ri(42|n)+1)-1,C&=y&~(et&~ct),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(c=!0,nn(d,C))}else C=qe,C=V(d,d===Tn?C:0),(C&3)===0||$(d,C)||(c=!0,nn(d,C));d=d.next}while(c);Yc=!1}}function en(){ci=zc=!1;var n=0;au!==0&&(ed()&&(n=au),au=0);for(var i=Qa(),c=null,d=Xn;d!==null;){var y=d.next,C=Yn(d,i);C===0?(d.next=null,c===null?Xn=y:c.next=y,y===null&&(Mr=c)):(c=d,(n!==0||(C&3)!==0)&&(ci=!0)),d=y}wi(n)}function Yn(n,i){for(var c=n.suspendedLanes,d=n.pingedLanes,y=n.expirationTimes,C=n.pendingLanes&-62914561;0<C;){var et=31-ri(C),ct=1<<et,Ct=y[et];Ct===-1?((ct&c)===0||(ct&d)!==0)&&(y[et]=ft(ct,i)):Ct<=i&&(n.expiredLanes|=ct),C&=~ct}if(i=Tn,c=qe,c=V(n,n===i?c:0),d=n.callbackNode,c===0||n===i&&Sn===2||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Bl(d),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||$(n,c)){if(i=c&-c,i===n.callbackPriority)return i;switch(d!==null&&Bl(d),j(c)){case 2:case 8:c=Iu;break;case 32:c=eu;break;case 268435456:c=bo;break;default:c=eu}return d=cn.bind(null,n),c=fs(c,d),n.callbackPriority=i,n.callbackNode=c,i}return d!==null&&d!==null&&Bl(d),n.callbackPriority=2,n.callbackNode=null,2}function cn(n,i){var c=n.callbackNode;if(mr()&&n.callbackNode!==c)return null;var d=qe;return d=V(n,n===Tn?d:0),d===0?null:(Ia(n,d,i),Yn(n,Qa()),n.callbackNode!=null&&n.callbackNode===c?cn.bind(null,n):null)}function nn(n,i){if(mr())return null;Ia(n,i,!0)}function yn(n){ld?sd(function(){(je&6)!==0?fs(Rc,n):n()}):fs(Rc,n)}function Ei(){return au===0&&(au=nt()),au}function ei(n,i){if(lu===null){var c=lu=[];Uc=0,Hn=Ei(),Xi={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Uc++,i.then(Bi,Bi),i}function Bi(){if(--Uc===0&&lu!==null){Xi!==null&&(Xi.status="fulfilled");var n=lu;lu=null,Hn=0,Xi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function zi(n,i){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var y=0;y<c.length;y++)(0,c[y])(i)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}function ni(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qn(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pe(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ce(n,i,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(je&2)!==0){var y=d.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),d.pending=i,i=Ke(n),un(n,null,c),i}return he(n,d,i,c),Ke(n)}function Aa(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194176)!==0)){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,Z(n,c)}}function pa(n,i){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,C=null;if(c=c.firstBaseUpdate,c!==null){do{var et={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};C===null?y=C=et:C=C.next=et,c=c.next}while(c!==null);C===null?y=C=i:C=C.next=i}else y=C=i;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:d.shared,callbacks:d.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Qn(){if(Gc){var n=Xi;if(n!==null)throw n}}function Cl(n,i,c,d){Gc=!1;var y=n.updateQueue;ra=!1;var C=y.firstBaseUpdate,et=y.lastBaseUpdate,ct=y.shared.pending;if(ct!==null){y.shared.pending=null;var Ct=ct,Yt=Ct.next;Ct.next=null,et===null?C=Yt:et.next=Yt,et=Ct;var Wt=n.alternate;Wt!==null&&(Wt=Wt.updateQueue,ct=Wt.lastBaseUpdate,ct!==et&&(ct===null?Wt.firstBaseUpdate=Yt:ct.next=Yt,Wt.lastBaseUpdate=Ct))}if(C!==null){var ie=y.baseState;et=0,Wt=Yt=Ct=null,ct=C;do{var Jt=ct.lane&-536870913,Ne=Jt!==ct.lane;if(Ne?(qe&Jt)===Jt:(d&Jt)===Jt){Jt!==0&&Jt===Hn&&(Gc=!0),Wt!==null&&(Wt=Wt.next={lane:0,tag:ct.tag,payload:ct.payload,callback:null,next:null});t:{var vl=n,fu=ct;Jt=i;var To=c;switch(fu.tag){case 1:if(vl=fu.payload,typeof vl=="function"){ie=vl.call(To,ie,Jt);break t}ie=vl;break t;case 3:vl.flags=vl.flags&-65537|128;case 0:if(vl=fu.payload,Jt=typeof vl=="function"?vl.call(To,ie,Jt):vl,Jt==null)break t;ie=li({},ie,Jt);break t;case 2:ra=!0}}Jt=ct.callback,Jt!==null&&(n.flags|=64,Ne&&(n.flags|=8192),Ne=y.callbacks,Ne===null?y.callbacks=[Jt]:Ne.push(Jt))}else Ne={lane:Jt,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},Wt===null?(Yt=Wt=Ne,Ct=ie):Wt=Wt.next=Ne,et|=Jt;if(ct=ct.next,ct===null){if(ct=y.shared.pending,ct===null)break;Ne=ct,ct=Ne.next,Ne.next=null,y.lastBaseUpdate=Ne,y.shared.pending=null}}while(!0);Wt===null&&(Ct=ie),y.baseState=Ct,y.firstBaseUpdate=Yt,y.lastBaseUpdate=Wt,C===null&&(y.shared.lanes=0),gl|=et,n.lanes=et,n.memoizedState=ie}}function $s(n,i){if(typeof n!="function")throw Error(x(191,n));n.call(i)}function jr(n,i){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)$s(c[n],i)}function Ua(n,i){if(_a(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!Yd.call(i,y)||!_a(n[y],i[y]))return!1}return!0}function nl(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pi(){}function ma(n,i,c){switch(c=n[c],c===void 0?n.push(i):c!==i&&(i.then(pi,pi),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Qu?Error(x(483)):n;default:if(typeof i.status=="string")i.then(pi,pi);else{if(n=Tn,n!==null&&100<n.shellSuspendCounter)throw Error(x(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=d}},function(d){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Qu?Error(x(483)):n}throw oa=i,Qu}}function wl(){if(oa===null)throw Error(x(459));var n=oa;return oa=null,n}function Ga(n){var i=ua;return ua+=1,So===null&&(So=[]),ma(So,n,i)}function El(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Un(n,i){throw i.$$typeof===of?Error(x(525)):(n=Object.prototype.toString.call(i),Error(x(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Tl(n){var i=n._init;return i(n._payload)}function il(n){function i(Mt,St){if(n){var Pt=Mt.deletions;Pt===null?(Mt.deletions=[St],Mt.flags|=16):Pt.push(St)}}function c(Mt,St){if(!n)return null;for(;St!==null;)i(Mt,St),St=St.sibling;return null}function d(Mt){for(var St=new Map;Mt!==null;)Mt.key!==null?St.set(Mt.key,Mt):St.set(Mt.index,Mt),Mt=Mt.sibling;return St}function y(Mt,St){return Mt=Rs(Mt,St),Mt.index=0,Mt.sibling=null,Mt}function C(Mt,St,Pt){return Mt.index=Pt,n?(Pt=Mt.alternate,Pt!==null?(Pt=Pt.index,Pt<St?(Mt.flags|=33554434,St):Pt):(Mt.flags|=33554434,St)):(Mt.flags|=1048576,St)}function et(Mt){return n&&Mt.alternate===null&&(Mt.flags|=33554434),Mt}function ct(Mt,St,Pt,Kt){return St===null||St.tag!==6?(St=Xu(Pt,Mt.mode,Kt),St.return=Mt,St):(St=y(St,Pt),St.return=Mt,St)}function Ct(Mt,St,Pt,Kt){var se=Pt.type;return se===br?Wt(Mt,St,Pt.props.children,Kt,Pt.key):St!==null&&(St.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ys&&Tl(se)===St.type)?(St=y(St,Pt.props),El(St,Pt),St.return=Mt,St):(St=co(Pt.type,Pt.key,Pt.props,null,Mt.mode,Kt),El(St,Pt),St.return=Mt,St)}function Yt(Mt,St,Pt,Kt){return St===null||St.tag!==4||St.stateNode.containerInfo!==Pt.containerInfo||St.stateNode.implementation!==Pt.implementation?(St=Da(Pt,Mt.mode,Kt),St.return=Mt,St):(St=y(St,Pt.children||[]),St.return=Mt,St)}function Wt(Mt,St,Pt,Kt,se){return St===null||St.tag!==7?(St=yr(Pt,Mt.mode,Kt,se),St.return=Mt,St):(St=y(St,Pt),St.return=Mt,St)}function ie(Mt,St,Pt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return St=Xu(""+St,Mt.mode,Pt),St.return=Mt,St;if(typeof St=="object"&&St!==null){switch(St.$$typeof){case vr:return Pt=co(St.type,St.key,St.props,null,Mt.mode,Pt),El(Pt,St),Pt.return=Mt,Pt;case os:return St=Da(St,Mt.mode,Pt),St.return=Mt,St;case Ys:var Kt=St._init;return St=Kt(St._payload),ie(Mt,St,Pt)}if(wr(St)||b(St))return St=yr(St,Mt.mode,Pt,null),St.return=Mt,St;if(typeof St.then=="function")return ie(Mt,Ga(St),Pt);if(St.$$typeof===_r)return ie(Mt,no(Mt,St),Pt);Un(Mt,St)}return null}function Jt(Mt,St,Pt,Kt){var se=St!==null?St.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return se!==null?null:ct(Mt,St,""+Pt,Kt);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case vr:return Pt.key===se?Ct(Mt,St,Pt,Kt):null;case os:return Pt.key===se?Yt(Mt,St,Pt,Kt):null;case Ys:return se=Pt._init,Pt=se(Pt._payload),Jt(Mt,St,Pt,Kt)}if(wr(Pt)||b(Pt))return se!==null?null:Wt(Mt,St,Pt,Kt,null);if(typeof Pt.then=="function")return Jt(Mt,St,Ga(Pt),Kt);if(Pt.$$typeof===_r)return Jt(Mt,St,no(Mt,Pt),Kt);Un(Mt,Pt)}return null}function Ne(Mt,St,Pt,Kt,se){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return Mt=Mt.get(Pt)||null,ct(St,Mt,""+Kt,se);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case vr:return Mt=Mt.get(Kt.key===null?Pt:Kt.key)||null,Ct(St,Mt,Kt,se);case os:return Mt=Mt.get(Kt.key===null?Pt:Kt.key)||null,Yt(St,Mt,Kt,se);case Ys:var An=Kt._init;return Kt=An(Kt._payload),Ne(Mt,St,Pt,Kt,se)}if(wr(Kt)||b(Kt))return Mt=Mt.get(Pt)||null,Wt(St,Mt,Kt,se,null);if(typeof Kt.then=="function")return Ne(Mt,St,Pt,Ga(Kt),se);if(Kt.$$typeof===_r)return Ne(Mt,St,Pt,no(St,Kt),se);Un(St,Kt)}return null}function vl(Mt,St,Pt,Kt){for(var se=null,An=null,ge=St,Ge=St=0,Dn=null;ge!==null&&Ge<Pt.length;Ge++){ge.index>Ge?(Dn=ge,ge=null):Dn=ge.sibling;var ke=Jt(Mt,ge,Pt[Ge],Kt);if(ke===null){ge===null&&(ge=Dn);break}n&&ge&&ke.alternate===null&&i(Mt,ge),St=C(ke,St,Ge),An===null?se=ke:An.sibling=ke,An=ke,ge=Dn}if(Ge===Pt.length)return c(Mt,ge),ln&&K(Mt,Ge),se;if(ge===null){for(;Ge<Pt.length;Ge++)ge=ie(Mt,Pt[Ge],Kt),ge!==null&&(St=C(ge,St,Ge),An===null?se=ge:An.sibling=ge,An=ge);return ln&&K(Mt,Ge),se}for(ge=d(ge);Ge<Pt.length;Ge++)Dn=Ne(ge,Mt,Ge,Pt[Ge],Kt),Dn!==null&&(n&&Dn.alternate!==null&&ge.delete(Dn.key===null?Ge:Dn.key),St=C(Dn,St,Ge),An===null?se=Dn:An.sibling=Dn,An=Dn);return n&&ge.forEach(function(Gr){return i(Mt,Gr)}),ln&&K(Mt,Ge),se}function fu(Mt,St,Pt,Kt){if(Pt==null)throw Error(x(151));for(var se=null,An=null,ge=St,Ge=St=0,Dn=null,ke=Pt.next();ge!==null&&!ke.done;Ge++,ke=Pt.next()){ge.index>Ge?(Dn=ge,ge=null):Dn=ge.sibling;var Gr=Jt(Mt,ge,ke.value,Kt);if(Gr===null){ge===null&&(ge=Dn);break}n&&ge&&Gr.alternate===null&&i(Mt,ge),St=C(Gr,St,Ge),An===null?se=Gr:An.sibling=Gr,An=Gr,ge=Dn}if(ke.done)return c(Mt,ge),ln&&K(Mt,Ge),se;if(ge===null){for(;!ke.done;Ge++,ke=Pt.next())ke=ie(Mt,ke.value,Kt),ke!==null&&(St=C(ke,St,Ge),An===null?se=ke:An.sibling=ke,An=ke);return ln&&K(Mt,Ge),se}for(ge=d(ge);!ke.done;Ge++,ke=Pt.next())ke=Ne(ge,Mt,Ge,ke.value,Kt),ke!==null&&(n&&ke.alternate!==null&&ge.delete(ke.key===null?Ge:ke.key),St=C(ke,St,Ge),An===null?se=ke:An.sibling=ke,An=ke);return n&&ge.forEach(function(Gd){return i(Mt,Gd)}),ln&&K(Mt,Ge),se}function To(Mt,St,Pt,Kt){if(typeof Pt=="object"&&Pt!==null&&Pt.type===br&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case vr:t:{for(var se=Pt.key;St!==null;){if(St.key===se){if(se=Pt.type,se===br){if(St.tag===7){c(Mt,St.sibling),Kt=y(St,Pt.props.children),Kt.return=Mt,Mt=Kt;break t}}else if(St.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ys&&Tl(se)===St.type){c(Mt,St.sibling),Kt=y(St,Pt.props),El(Kt,Pt),Kt.return=Mt,Mt=Kt;break t}c(Mt,St);break}else i(Mt,St);St=St.sibling}Pt.type===br?(Kt=yr(Pt.props.children,Mt.mode,Kt,Pt.key),Kt.return=Mt,Mt=Kt):(Kt=co(Pt.type,Pt.key,Pt.props,null,Mt.mode,Kt),El(Kt,Pt),Kt.return=Mt,Mt=Kt)}return et(Mt);case os:t:{for(se=Pt.key;St!==null;){if(St.key===se)if(St.tag===4&&St.stateNode.containerInfo===Pt.containerInfo&&St.stateNode.implementation===Pt.implementation){c(Mt,St.sibling),Kt=y(St,Pt.children||[]),Kt.return=Mt,Mt=Kt;break t}else{c(Mt,St);break}else i(Mt,St);St=St.sibling}Kt=Da(Pt,Mt.mode,Kt),Kt.return=Mt,Mt=Kt}return et(Mt);case Ys:return se=Pt._init,Pt=se(Pt._payload),To(Mt,St,Pt,Kt)}if(wr(Pt))return vl(Mt,St,Pt,Kt);if(b(Pt)){if(se=b(Pt),typeof se!="function")throw Error(x(150));return Pt=se.call(Pt),fu(Mt,St,Pt,Kt)}if(typeof Pt.then=="function")return To(Mt,St,Ga(Pt),Kt);if(Pt.$$typeof===_r)return To(Mt,St,no(Mt,Pt),Kt);Un(Mt,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint"?(Pt=""+Pt,St!==null&&St.tag===6?(c(Mt,St.sibling),Kt=y(St,Pt),Kt.return=Mt,Mt=Kt):(c(Mt,St),Kt=Xu(Pt,Mt.mode,Kt),Kt.return=Mt,Mt=Kt),et(Mt)):c(Mt,St)}return function(Mt,St,Pt,Kt){try{ua=0;var se=To(Mt,St,Pt,Kt);return So=null,se}catch(ge){if(ge===Qu)throw ge;var An=g(29,ge,null,Mt.mode);return An.lanes=Kt,An.return=Mt,An}finally{}}}function qr(n,i){n=jl,E(Xl,n),E(Gl,i),jl=n|i.baseLanes}function tr(){E(Xl,jl),E(Gl,Gl.current)}function xs(){jl=Xl.current,J(Gl),J(Xl)}function Xa(n){var i=n.alternate;E(Bn,Bn.current&1),E(Ba,n),fl===null&&(i===null||Gl.current!==null||i.memoizedState!==null)&&(fl=n)}function Fr(n){if(n.tag===22){if(E(Bn,Bn.current),E(Ba,n),fl===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(fl=n)}}else Ha()}function Ha(){E(Bn,Bn.current),E(Ba,Ba.current)}function ii(n){J(Ba),fl===n&&(fl=null),J(Bn)}function Nn(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mo(c)||Fu(c)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function we(){throw Error(x(321))}function Qi(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!_a(n[c],i[c]))return!1;return!0}function Ki(n,i,c,d,y,C){return Fs=C,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ve.H=n===null||n.memoizedState===null?ks:Ca,Pr=!1,C=c(d,y),Pr=!1,_o&&(C=Hi(i,c,d,y)),Il(n),C}function Il(n){ve.H=fi;var i=rn!==null&&rn.next!==null;if(Fs=0,In=rn=Te=null,Vs=!1,su=0,Is=null,i)throw Error(x(300));n===null||bi||(n=n.dependencies,n!==null&&eo(n)&&(bi=!0))}function Hi(n,i,c,d){Te=n;var y=0;do{if(_o&&(Is=null),su=0,_o=!1,25<=y)throw Error(x(301));if(y+=1,In=rn=null,n.updateQueue!=null){var C=n.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ve.H=Lr,C=i(c,d)}while(_o);return C}function ja(){var n=ve.H,i=n.useState()[0];return i=typeof i.then=="function"?On(i):i,n=n.useState()[0],(rn!==null?rn.memoizedState:null)!==n&&(Te.flags|=1024),i}function Na(){var n=Rr!==0;return Rr=0,n}function ji(n,i,c){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c}function Oa(n){if(Vs){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vs=!1}Fs=0,In=rn=Te=null,_o=!1,su=Rr=0,Is=null}function Ve(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Te.memoizedState=In=n:In=In.next=n,In}function vn(){if(rn===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=rn.next;var i=In===null?Te.memoizedState:In.next;if(i!==null)In=i,rn=n;else{if(n===null)throw Te.alternate===null?Error(x(467)):Error(x(310));rn=n,n={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},In===null?Te.memoizedState=In=n:In=In.next=n}return In}function On(n){var i=su;return su+=1,Is===null&&(Is=[]),n=ma(Is,n,i),i=Te,(In===null?i.memoizedState:In.next)===null&&(i=i.alternate,ve.H=i===null||i.memoizedState===null?ks:Ca),n}function Pn(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return On(n);if(n.$$typeof===_r)return Oi(n)}throw Error(x(438,String(n)))}function Ti(n){var i=null,c=Te.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var d=Te.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Lf(),Te.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(n),d=0;d<n;d++)c[d]=Be;return i.index++,c}function mi(n,i){return typeof i=="function"?i(n):i}function ga(n){var i=vn();return Ai(i,rn,n)}function Ai(n,i,c){var d=n.queue;if(d===null)throw Error(x(311));d.lastRenderedReducer=c;var y=n.baseQueue,C=d.pending;if(C!==null){if(y!==null){var et=y.next;y.next=C.next,C.next=et}i.baseQueue=y=C,d.pending=null}if(C=n.baseState,y===null)n.memoizedState=C;else{i=y.next;var ct=et=null,Ct=null,Yt=i,Wt=!1;do{var ie=Yt.lane&-536870913;if(ie!==Yt.lane?(qe&ie)===ie:(Fs&ie)===ie){var Jt=Yt.revertLane;if(Jt===0)Ct!==null&&(Ct=Ct.next={lane:0,revertLane:0,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null}),ie===Hn&&(Wt=!0);else if((Fs&Jt)===Jt){Yt=Yt.next,Jt===Hn&&(Wt=!0);continue}else ie={lane:0,revertLane:Yt.revertLane,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null},Ct===null?(ct=Ct=ie,et=C):Ct=Ct.next=ie,Te.lanes|=Jt,gl|=Jt;ie=Yt.action,Pr&&c(C,ie),C=Yt.hasEagerState?Yt.eagerState:c(C,ie)}else Jt={lane:ie,revertLane:Yt.revertLane,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null},Ct===null?(ct=Ct=Jt,et=C):Ct=Ct.next=Jt,Te.lanes|=ie,gl|=ie;Yt=Yt.next}while(Yt!==null&&Yt!==i);if(Ct===null?et=C:Ct.next=ct,!_a(C,n.memoizedState)&&(bi=!0,Wt&&(c=Xi,c!==null)))throw c;n.memoizedState=C,n.baseState=et,n.baseQueue=Ct,d.lastRenderedState=C}return y===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Ji(n){var i=vn(),c=i.queue;if(c===null)throw Error(x(311));c.lastRenderedReducer=n;var d=c.dispatch,y=c.pending,C=i.memoizedState;if(y!==null){c.pending=null;var et=y=y.next;do C=n(C,et.action),et=et.next;while(et!==y);_a(C,i.memoizedState)||(bi=!0),i.memoizedState=C,i.baseQueue===null&&(i.baseState=C),c.lastRenderedState=C}return[C,d]}function Vr(n,i,c){var d=Te,y=vn(),C=ln;if(C){if(c===void 0)throw Error(x(407));c=c()}else c=i();var et=!_a((rn||y).memoizedState,c);if(et&&(y.memoizedState=c,bi=!0),y=y.queue,$t(ai.bind(null,d,y,n),[n]),y.getSnapshot!==i||et||In!==null&&In.memoizedState.tag&1){if(d.flags|=2048,st(9,nr.bind(null,d,y,c,i),{destroy:void 0},null),Tn===null)throw Error(x(349));C||(Fs&60)!==0||er(d,i,c)}return c}function er(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=Te.updateQueue,i===null?(i=Lf(),Te.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function nr(n,i,c,d){i.value=c,i.getSnapshot=d,Cs(i)&&kl(n)}function ai(n,i,c){return c(function(){Cs(i)&&kl(n)})}function Cs(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!_a(n,c)}catch{return!0}}function kl(n){var i=De(n,2);i!==null&&Ln(i,n,2)}function ya(n){var i=Ve();if(typeof n=="function"){var c=n;if(n=c(),Pr){at(!0);try{c()}finally{at(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:n},i}function oe(n,i,c,d){return n.baseState=c,Ai(n,rn,typeof d=="function"?d:mi)}function Po(n,i,c,d,y){if(lr(n))throw Error(x(485));if(n=i.action,n!==null){var C={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(et){C.listeners.push(et)}};ve.T!==null?c(!0):C.isTransition=!1,d(C),c=i.pending,c===null?(C.next=i.pending=C,Ir(i,C)):(C.next=c.next,i.pending=c.next=C)}}function Ir(n,i){var c=i.action,d=i.payload,y=n.state;if(i.isTransition){var C=ve.T,et={};ve.T=et;try{var ct=c(y,d),Ct=ve.S;Ct!==null&&Ct(et,ct),ws(n,i,ct)}catch(Yt){qa(n,i,Yt)}finally{ve.T=C}}else try{C=c(y,d),ws(n,i,C)}catch(Yt){qa(n,i,Yt)}}function ws(n,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){kr(n,i,d)},function(d){return qa(n,i,d)}):kr(n,i,c)}function kr(n,i,c){i.status="fulfilled",i.value=c,s(i),n.state=c,i=n.pending,i!==null&&(c=i.next,c===i?n.pending=null:(c=c.next,i.next=c,Ir(n,c)))}function qa(n,i,c){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=c,s(i),i=i.next;while(i!==d)}n.action=null}function s(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function o(n,i){return i}function f(n,i){if(ln){var c=Tn.formState;if(c!==null){t:{var d=Te;if(ln){if(wn){var y=Ed(wn,Yl);if(y){wn=Tr(y),d=cs(y);break t}}_t(d)}d=!1}d&&(i=c[0])}}c=Ve(),c.memoizedState=c.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},c.queue=d,c=$i.bind(null,Te,d),d.dispatch=c,d=ya(!1);var C=va.bind(null,Te,!1,d.queue);return d=Ve(),y={state:i,dispatch:null,action:n,pending:null},d.queue=y,c=Po.bind(null,Te,y,C,c),y.dispatch=c,d.memoizedState=n,[i,c,!1]}function p(n){var i=vn();return _(i,rn,n)}function _(n,i,c){i=Ai(n,i,o)[0],n=ga(mi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?On(i):i;var d=vn(),y=d.queue,C=y.dispatch;return c!==d.memoizedState&&(Te.flags|=2048,st(9,Y.bind(null,y,c),{destroy:void 0},null)),[i,C,n]}function Y(n,i){n.action=i}function Q(n){var i=vn(),c=rn;if(c!==null)return _(i,c,n);vn(),i=i.memoizedState,c=vn();var d=c.queue.dispatch;return c.memoizedState=n,[i,d,!1]}function st(n,i,c,d){return n={tag:n,create:i,inst:c,deps:d,next:null},i=Te.updateQueue,i===null&&(i=Lf(),Te.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,i.lastEffect=n),n}function ot(){return vn().memoizedState}function bt(n,i,c,d){var y=Ve();Te.flags|=n,y.memoizedState=st(1|i,c,{destroy:void 0},d===void 0?null:d)}function qt(n,i,c,d){var y=vn();d=d===void 0?null:d;var C=y.memoizedState.inst;rn!==null&&d!==null&&Qi(d,rn.memoizedState.deps)?y.memoizedState=st(i,c,C,d):(Te.flags|=n,y.memoizedState=st(1|i,c,C,d))}function Ot(n,i){bt(8390656,8,n,i)}function $t(n,i){qt(2048,8,n,i)}function ce(n,i){return qt(4,2,n,i)}function _e(n,i){return qt(4,4,n,i)}function de(n,i){if(typeof i=="function"){n=n();var c=i(n);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Je(n,i,c){c=c!=null?c.concat([n]):null,qt(4,4,de.bind(null,i,n),c)}function Gn(){}function Kn(n,i){var c=vn();i=i===void 0?null:i;var d=c.memoizedState;return i!==null&&Qi(i,d[1])?d[0]:(c.memoizedState=[n,i],n)}function Wi(n,i){var c=vn();i=i===void 0?null:i;var d=c.memoizedState;if(i!==null&&Qi(i,d[1]))return d[0];if(d=n(),Pr){at(!0);try{n()}finally{at(!1)}}return c.memoizedState=[d,i],d}function Zr(n,i,c){return c===void 0||(Fs&1073741824)!==0?n.memoizedState=i:(n.memoizedState=c,n=Ru(),Te.lanes|=n,gl|=n,c)}function Qr(n,i,c,d){return _a(c,i)?c:Gl.current!==null?(n=Zr(n,c,d),_a(n,i)||(bi=!0),n):(Fs&42)===0?(bi=!0,n.memoizedState=c):(n=Ru(),Te.lanes|=n,gl|=n,i)}function Al(n,i,c,d,y){var C=Er();Sa(C!==0&&8>C?C:8);var et=ve.T,ct={};ve.T=ct,va(n,!1,i,c);try{var Ct=y(),Yt=ve.S;if(Yt!==null&&Yt(ct,Ct),Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Wt=zi(Ct,d);Ts(n,i,Wt,ia(n))}else Ts(n,i,d,ia(n))}catch(ie){Ts(n,i,{then:function(){},status:"rejected",reason:ie},ia())}finally{Sa(C),ve.T=et}}function ir(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:po,baseState:po,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:po},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:c},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Kr(){return Oi(Gs)}function Es(){return vn().memoizedState}function Fa(){return vn().memoizedState}function _u(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var c=ia();n=Pe(c);var d=Ce(i,n,c);d!==null&&(Ln(d,i,c),Aa(d,i,c)),i={cache:ts()},n.payload=i;return}i=i.return}}function ar(n,i,c){var d=ia();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},lr(n)?Yi(i,c):(c=xn(n,i,c,d),c!==null&&(Ln(c,n,d),Zl(c,i,d)))}function $i(n,i,c){var d=ia();Ts(n,i,c,d)}function Ts(n,i,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(lr(n))Yi(i,y);else{var C=n.alternate;if(n.lanes===0&&(C===null||C.lanes===0)&&(C=i.lastRenderedReducer,C!==null))try{var et=i.lastRenderedState,ct=C(et,c);if(y.hasEagerState=!0,y.eagerState=ct,_a(ct,et))return he(n,i,y,0),Tn===null&&Oe(),!1}catch{}finally{}if(c=xn(n,i,y,d),c!==null)return Ln(c,n,d),Zl(c,i,d),!0}return!1}function va(n,i,c,d){if(d={lane:2,revertLane:Ei(),action:d,hasEagerState:!1,eagerState:null,next:null},lr(n)){if(i)throw Error(x(479))}else i=xn(n,c,d,2),i!==null&&Ln(i,n,2)}function lr(n){var i=n.alternate;return n===Te||i!==null&&i===Te}function Yi(n,i){_o=Vs=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Zl(n,i,c){if((c&4194176)!==0){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,Z(n,c)}}function Nl(n,i,c,d){i=n.memoizedState,c=c(d,i),c=c==null?i:li({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}function Ql(n,i,c,d,y,C,et){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,C,et):i.prototype&&i.prototype.isPureReactComponent?!Ua(c,d)||!Ua(y,C):!0}function oc(n,i,c,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==n&&ru.enqueueReplaceState(i,i.state,null)}function Ol(n,i){var c=i;if("ref"in i){c={};for(var d in i)d!=="ref"&&(c[d]=i[d])}if(n=n.defaultProps){c===i&&(c=li({},c));for(var y in n)c[y]===void 0&&(c[y]=n[y])}return c}function sr(n,i){try{var c=n.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Kl(n,i,c){try{var d=n.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Jl(n,i,c){return c=Pe(c),c.tag=3,c.payload={element:null},c.callback=function(){sr(n,i)},c}function Jr(n){return n=Pe(n),n.tag=3,n}function Ro(n,i,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var C=d.value;n.payload=function(){return y(C)},n.callback=function(){Kl(i,c,d)}}var et=c.stateNode;et!==null&&typeof et.componentDidCatch=="function"&&(n.callback=function(){Kl(i,c,d),typeof y!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var ct=d.stack;this.componentDidCatch(d.value,{componentStack:ct!==null?ct:""})})}function Cn(n,i,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=c.alternate,i!==null&&to(i,c,y,!0),c=Ba.current,c!==null){switch(c.tag){case 13:return fl===null?ol():c.alternate===null&&kn===0&&(kn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===xa?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([d]):i.add(d),gr(n,d,y)),!1;case 22:return c.flags|=65536,d===xa?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([d]):c.add(d)),gr(n,d,y)),!1}throw Error(x(435,c.tag))}return gr(n,d,y),ol(),!1}if(ln)return i=Ba.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,d!==Zu&&(n=Error(x(422),{cause:d}),Se(wt(n,c)))):(d!==Zu&&(i=Error(x(423),{cause:d}),Se(wt(i,c))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,d=wt(d,c),y=Jl(n.stateNode,d,y),pa(n,y),kn!==4&&(kn=2)),!1;var C=Error(x(520),{cause:d});if(C=wt(C,c),uu===null?uu=[C]:uu.push(C),kn!==4&&(kn=2),i===null)return!0;d=wt(d,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,n=y&-y,c.lanes|=n,n=Jl(c.stateNode,d,n),pa(c,n),!1;case 1:if(i=c.type,C=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ys===null||!ys.has(C))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Jr(y),Ro(y,n,c,d),pa(c,y),!1}c=c.return}while(c!==null);return!1}function Ni(n,i,c,d){i.child=n===null?ps(i,null,c,d):Dr(i,n.child,c,d)}function Lo(n,i,c,d,y){c=c.render;var C=i.ref;if("ref"in d){var et={};for(var ct in d)ct!=="ref"&&(et[ct]=d[ct])}else et=d;return $l(i),d=Ki(n,i,c,et,C,y),ct=Na(),n!==null&&!bi?(ji(n,i,y),Ml(n,i,y)):(ln&&ct&&Nt(i),i.flags|=1,Ni(n,i,d,y),i.child)}function uc(n,i,c,d,y){if(n===null){var C=c.type;return typeof C=="function"&&!Ps(C)&&C.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=C,cc(n,i,C,d,y)):(n=co(c.type,null,d,i,i.mode,y),n.ref=i.ref,n.return=i,i.child=n)}if(C=n.child,!Eu(n,y)){var et=C.memoizedProps;if(c=c.compare,c=c!==null?c:Ua,c(et,d)&&n.ref===i.ref)return Ml(n,i,y)}return i.flags|=1,n=Rs(C,d),n.ref=i.ref,n.return=i,i.child=n}function cc(n,i,c,d,y){if(n!==null){var C=n.memoizedProps;if(Ua(C,d)&&n.ref===i.ref)if(bi=!1,i.pendingProps=d=C,Eu(n,y))(n.flags&131072)!==0&&(bi=!0);else return i.lanes=n.lanes,Ml(n,i,y)}return Bo(n,i,c,d,y)}function fc(n,i,c){var d=i.pendingProps,y=d.children,C=(i.stateNode._pendingVisibility&2)!==0,et=n!==null?n.memoizedState:null;if(Wr(n,i),d.mode==="hidden"||C){if((i.flags&128)!==0){if(d=et!==null?et.baseLanes|c:c,n!==null){for(y=i.child=n.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;i.childLanes=C&~d}else i.childLanes=0,i.child=null;return hc(n,i,d,c)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uo(i,et!==null?et.cachePool:null),et!==null?qr(i,et):tr(),Fr(i);else return i.lanes=i.childLanes=536870912,hc(n,i,et!==null?et.baseLanes|c:c,c)}else et!==null?(Uo(i,et.cachePool),qr(i,et),Ha(),i.memoizedState=null):(n!==null&&Uo(i,null),tr(),Ha());return Ni(n,i,y,c),i.child}function hc(n,i,c,d){var y=Nu();return y=y===null?null:{parent:Rl?ti._currentValue:ti._currentValue2,pool:y},i.memoizedState={baseLanes:c,cachePool:y},n!==null&&Uo(i,null),tr(),Fr(i),n!==null&&to(n,i,d,!0),null}function Wr(n,i){var c=i.ref;if(c===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(x(284));(n===null||n.ref!==c)&&(i.flags|=2097664)}}function Bo(n,i,c,d,y){return $l(i),c=Ki(n,i,c,d,void 0,y),d=Na(),n!==null&&!bi?(ji(n,i,y),Ml(n,i,y)):(ln&&d&&Nt(i),i.flags|=1,Ni(n,i,c,y),i.child)}function zo(n,i,c,d,y,C){return $l(i),i.updateQueue=null,c=Hi(i,d,c,y),Il(n),d=Na(),n!==null&&!bi?(ji(n,i,C),Ml(n,i,C)):(ln&&d&&Nt(i),i.flags|=1,Ni(n,i,c,C),i.child)}function rr(n,i,c,d,y){if($l(i),i.stateNode===null){var C=vo,et=c.contextType;typeof et=="object"&&et!==null&&(C=Oi(et)),C=new c(d,C),i.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ru,i.stateNode=C,C._reactInternals=i,C=i.stateNode,C.props=d,C.state=i.memoizedState,C.refs={},ni(i),et=c.contextType,C.context=typeof et=="object"&&et!==null?Oi(et):vo,C.state=i.memoizedState,et=c.getDerivedStateFromProps,typeof et=="function"&&(Nl(i,c,et,d),C.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(et=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),et!==C.state&&ru.enqueueReplaceState(C,C.state,null),Cl(i,d,C,y),Qn(),C.state=i.memoizedState),typeof C.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){C=i.stateNode;var ct=i.memoizedProps,Ct=Ol(c,ct);C.props=Ct;var Yt=C.context,Wt=c.contextType;et=vo,typeof Wt=="object"&&Wt!==null&&(et=Oi(Wt));var ie=c.getDerivedStateFromProps;Wt=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function",ct=i.pendingProps!==ct,Wt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ct||Yt!==et)&&oc(i,C,d,et),ra=!1;var Jt=i.memoizedState;C.state=Jt,Cl(i,d,C,y),Qn(),Yt=i.memoizedState,ct||Jt!==Yt||ra?(typeof ie=="function"&&(Nl(i,c,ie,d),Yt=i.memoizedState),(Ct=ra||Ql(i,c,Ct,d,Jt,Yt,et))?(Wt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Yt),C.props=d,C.state=Yt,C.context=et,d=Ct):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{C=i.stateNode,qn(n,i),et=i.memoizedProps,Wt=Ol(c,et),C.props=Wt,ie=i.pendingProps,Jt=C.context,Yt=c.contextType,Ct=vo,typeof Yt=="object"&&Yt!==null&&(Ct=Oi(Yt)),ct=c.getDerivedStateFromProps,(Yt=typeof ct=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(et!==ie||Jt!==Ct)&&oc(i,C,d,Ct),ra=!1,Jt=i.memoizedState,C.state=Jt,Cl(i,d,C,y),Qn();var Ne=i.memoizedState;et!==ie||Jt!==Ne||ra||n!==null&&n.dependencies!==null&&eo(n.dependencies)?(typeof ct=="function"&&(Nl(i,c,ct,d),Ne=i.memoizedState),(Wt=ra||Ql(i,c,Wt,d,Jt,Ne,Ct)||n!==null&&n.dependencies!==null&&eo(n.dependencies))?(Yt||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,Ne,Ct),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,Ne,Ct)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||et===n.memoizedProps&&Jt===n.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||et===n.memoizedProps&&Jt===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ne),C.props=d,C.state=Ne,C.context=Ct,d=Wt):(typeof C.componentDidUpdate!="function"||et===n.memoizedProps&&Jt===n.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||et===n.memoizedProps&&Jt===n.memoizedState||(i.flags|=1024),d=!1)}return C=d,Wr(n,i),d=(i.flags&128)!==0,C||d?(C=i.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:C.render(),i.flags|=1,n!==null&&d?(i.child=Dr(i,n.child,null,y),i.child=Dr(i,null,c,y)):Ni(n,i,c,y),i.memoizedState=C.state,n=i.child):n=Ml(n,i,y),n}function dc(n,i,c,d){return ne(),i.flags|=256,Ni(n,i,c,d),i.child}function xu(n){return{baseLanes:n,cachePool:ao()}}function or(n,i,c){return n=n!==null?n.childLanes&~c:0,i&&(n|=Wa),n}function pc(n,i,c){var d=i.pendingProps,y=!1,C=(i.flags&128)!==0,et;if((et=C)||(et=n!==null&&n.memoizedState===null?!1:(Bn.current&2)!==0),et&&(y=!0,i.flags&=-129),et=(i.flags&32)!==0,i.flags&=-33,n===null){if(ln){if(y?Xa(i):Ha(),ln){var ct=wn,Ct;(Ct=ct)&&(ct=Ad(ct,Yl),ct!==null?(i.memoizedState={dehydrated:ct,treeContext:zl!==null?{id:hs,overflow:ds}:null,retryLane:536870912},Ct=g(18,null,null,0),Ct.stateNode=ct,Ct.return=i,i.child=Ct,ui=i,wn=null,Ct=!0):Ct=!1),Ct||_t(i)}if(ct=i.memoizedState,ct!==null&&(ct=ct.dehydrated,ct!==null))return Fu(ct)?i.lanes=16:i.lanes=536870912,null;ii(i)}return ct=d.children,d=d.fallback,y?(Ha(),y=i.mode,ct=wu({mode:"hidden",children:ct},y),d=yr(d,y,c,null),ct.return=i,d.return=i,ct.sibling=d,i.child=ct,y=i.child,y.memoizedState=xu(c),y.childLanes=or(n,et,c),i.memoizedState=Ju,d):(Xa(i),Cu(i,ct))}if(Ct=n.memoizedState,Ct!==null&&(ct=Ct.dehydrated,ct!==null)){if(C)i.flags&256?(Xa(i),i.flags&=-257,i=Wl(n,i,c)):i.memoizedState!==null?(Ha(),i.child=n.child,i.flags|=128,i=null):(Ha(),y=d.fallback,ct=i.mode,d=wu({mode:"visible",children:d.children},ct),y=yr(y,ct,c,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,Dr(i,n.child,null,c),d=i.child,d.memoizedState=xu(c),d.childLanes=or(n,et,c),i.memoizedState=Ju,i=y);else if(Xa(i),Fu(ct))et=Ac(ct).digest,d=Error(x(419)),d.stack="",d.digest=et,Se({value:d,source:null,stack:null}),i=Wl(n,i,c);else if(bi||to(n,i,c,!1),et=(c&n.childLanes)!==0,bi||et){if(et=Tn,et!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(et.suspendedLanes|c))!==0?0:d,d!==0&&d!==Ct.retryLane)throw Ct.retryLane=d,De(n,d),Ln(et,n,d),Bf}mo(ct)||ol(),i=Wl(n,i,c)}else mo(ct)?(i.flags|=128,i.child=n.child,i=Gu.bind(null,n),wd(ct,i),i=null):(n=Ct.treeContext,Pa&&(wn=Sf(ct),ui=i,ln=!0,cl=null,Yl=!1,n!==null&&(Ra[sa++]=hs,Ra[sa++]=ds,Ra[sa++]=zl,hs=n.id,ds=n.overflow,zl=i)),i=Cu(i,d.children),i.flags|=4096);return i}return y?(Ha(),y=d.fallback,ct=i.mode,Ct=n.child,C=Ct.sibling,d=Rs(Ct,{mode:"hidden",children:d.children}),d.subtreeFlags=Ct.subtreeFlags&31457280,C!==null?y=Rs(C,y):(y=yr(y,ct,c,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,ct=n.child.memoizedState,ct===null?ct=xu(c):(Ct=ct.cachePool,Ct!==null?(C=Rl?ti._currentValue:ti._currentValue2,Ct=Ct.parent!==C?{parent:C,pool:C}:Ct):Ct=ao(),ct={baseLanes:ct.baseLanes|c,cachePool:Ct}),y.memoizedState=ct,y.childLanes=or(n,et,c),i.memoizedState=Ju,d):(Xa(i),c=n.child,n=c.sibling,c=Rs(c,{mode:"visible",children:d.children}),c.return=i,c.sibling=null,n!==null&&(et=i.deletions,et===null?(i.deletions=[n],i.flags|=16):et.push(n)),i.child=c,i.memoizedState=null,c)}function Cu(n,i){return i=wu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function wu(n,i){return vc(n,i,0,null)}function Wl(n,i,c){return Dr(i,n.child,null,c),n=Cu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function mc(n,i,c){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),$r(n.return,i,c)}function Yo(n,i,c,d,y){var C=n.memoizedState;C===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=c,C.tailMode=y)}function Le(n,i,c){var d=i.pendingProps,y=d.revealOrder,C=d.tail;if(Ni(n,i,d.children,c),d=Bn.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mc(n,c,i);else if(n.tag===19)mc(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(E(Bn,d),y){case"forwards":for(c=i.child,y=null;c!==null;)n=c.alternate,n!==null&&Nn(n)===null&&(y=c),c=c.sibling;c=y,c===null?(y=i.child,i.child=null):(y=c.sibling,c.sibling=null),Yo(i,!1,y,c,C);break;case"backwards":for(c=null,y=i.child,i.child=null;y!==null;){if(n=y.alternate,n!==null&&Nn(n)===null){i.child=y;break}n=y.sibling,y.sibling=c,c=y,y=n}Yo(i,!0,c,null,C);break;case"together":Yo(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ml(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),gl|=i.lanes,(c&i.childLanes)===0)if(n!==null){if(to(n,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(x(153));if(i.child!==null){for(n=i.child,c=Rs(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Rs(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function Eu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&eo(n)))}function ur(n,i,c){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),Dl(i,ti,n.memoizedState.cache),ne();break;case 27:case 5:Ft(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:Dl(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Xa(i),i.flags|=128,null):(c&i.child.childLanes)!==0?pc(n,i,c):(Xa(i),n=Ml(n,i,c),n!==null?n.sibling:null);Xa(i);break;case 19:var y=(n.flags&128)!==0;if(d=(c&i.childLanes)!==0,d||(to(n,i,c,!1),d=(c&i.childLanes)!==0),y){if(d)return Le(n,i,c);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),E(Bn,Bn.current),d)break;return null;case 22:case 23:return i.lanes=0,fc(n,i,c);case 24:Dl(i,ti,n.memoizedState.cache)}return Ml(n,i,c)}function Tu(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps)bi=!0;else{if(!Eu(n,c)&&(i.flags&128)===0)return bi=!1,ur(n,i,c);bi=(n.flags&131072)!==0}else bi=!1,ln&&(i.flags&1048576)!==0&&ht(i,iu,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var d=i.elementType,y=d._init;if(d=y(d._payload),i.type=d,typeof d=="function")Ps(d)?(n=Ol(d,n),i.tag=1,i=rr(null,i,d,n,c)):(i.tag=0,i=Bo(null,i,d,n,c));else{if(d!=null){if(y=d.$$typeof,y===bc){i.tag=11,i=Lo(null,i,d,n,c);break t}else if(y===Zo){i.tag=14,i=uc(null,i,d,n,c);break t}}throw i=O(d)||d,Error(x(306,i,""))}}return i;case 0:return Bo(n,i,i.type,i.pendingProps,c);case 1:return d=i.type,y=Ol(d,i.pendingProps),rr(n,i,d,y,c);case 3:t:{if(Tt(i,i.stateNode.containerInfo),n===null)throw Error(x(387));var C=i.pendingProps;y=i.memoizedState,d=y.element,qn(n,i),Cl(i,C,null,c);var et=i.memoizedState;if(C=et.cache,Dl(i,ti,C),C!==y.cache&&As(i,[ti],c,!0),Qn(),C=et.element,Pa&&y.isDehydrated)if(y={element:C,isDehydrated:!1,cache:et.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=dc(n,i,C,c);break t}else if(C!==d){d=wt(Error(x(424)),i),Se(d),i=dc(n,i,C,c);break t}else for(Pa&&(wn=go(i.stateNode.containerInfo),ui=i,ln=!0,cl=null,Yl=!0),c=ps(i,null,C,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ne(),C===d){i=Ml(n,i,c);break t}Ni(n,i,C,c)}i=i.child}return i;case 26:if(Za)return Wr(n,i),n===null?(c=wf(i.type,null,i.pendingProps,null))?i.memoizedState=c:ln||(i.stateNode=Nf(i.type,i.pendingProps,js.current,i)):i.memoizedState=wf(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:if(Gi)return Ft(i),n===null&&Gi&&ln&&(d=i.stateNode=Mc(i.type,i.pendingProps,js.current,oi.current,!1),ui=i,Yl=!0,wn=Xs(d)),d=i.pendingProps.children,n!==null||ln?Ni(n,i,d,c):i.child=Dr(i,null,d,c),Wr(n,i),i.child;case 5:return n===null&&ln&&(Pd(i.type,i.pendingProps,oi.current),(y=d=wn)&&(d=_f(d,i.type,i.pendingProps,Yl),d!==null?(i.stateNode=d,ui=i,wn=Xs(d),Yl=!1,y=!0):y=!1),y||_t(i)),Ft(i),y=i.type,C=i.pendingProps,et=n!==null?n.memoizedProps:null,d=C.children,Zi(y,C)?d=null:et!==null&&Zi(y,et)&&(i.flags|=32),i.memoizedState!==null&&(y=Ki(n,i,ja,null,null,c),Rl?Gs._currentValue=y:Gs._currentValue2=y),Wr(n,i),Ni(n,i,d,c),i.child;case 6:return n===null&&ln&&(L0(i.pendingProps,oi.current),(n=c=wn)&&(c=Td(c,i.pendingProps,Yl),c!==null?(i.stateNode=c,ui=i,wn=null,n=!0):n=!1),n||_t(i)),null;case 13:return pc(n,i,c);case 4:return Tt(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=Dr(i,null,d,c):Ni(n,i,d,c),i.child;case 11:return Lo(n,i,i.type,i.pendingProps,c);case 7:return Ni(n,i,i.pendingProps,c),i.child;case 8:return Ni(n,i,i.pendingProps.children,c),i.child;case 12:return Ni(n,i,i.pendingProps.children,c),i.child;case 10:return d=i.pendingProps,Dl(i,i.type,d.value),Ni(n,i,d.children,c),i.child;case 9:return y=i.type._context,d=i.pendingProps.children,$l(i),y=Oi(y),d=d(y),i.flags|=1,Ni(n,i,d,c),i.child;case 14:return uc(n,i,i.type,i.pendingProps,c);case 15:return cc(n,i,i.type,i.pendingProps,c);case 19:return Le(n,i,c);case 22:return fc(n,i,c);case 24:return $l(i),d=Oi(ti),n===null?(y=Nu(),y===null&&(y=Tn,C=ts(),y.pooledCache=C,C.refCount++,C!==null&&(y.pooledCacheLanes|=c),y=C),i.memoizedState={parent:d,cache:y},ni(i),Dl(i,ti,y)):((n.lanes&c)!==0&&(qn(n,i),Cl(i,null,null,c),Qn()),y=n.memoizedState,C=i.memoizedState,y.parent!==d?(y={parent:d,cache:d},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),Dl(i,ti,d)):(d=C.cache,Dl(i,ti,d),d!==y.cache&&As(i,[ti],c,!0))),Ni(n,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(x(156,i.tag))}function Dl(n,i,c){Rl?(E(hl,i._currentValue),i._currentValue=c):(E(hl,i._currentValue2),i._currentValue2=c)}function al(n){var i=hl.current;Rl?n._currentValue=i:n._currentValue2=i,J(hl)}function $r(n,i,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===c)break;n=n.return}}function As(n,i,c,d){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var C=y.dependencies;if(C!==null){var et=y.child;C=C.firstContext;t:for(;C!==null;){var ct=C;C=y;for(var Ct=0;Ct<i.length;Ct++)if(ct.context===i[Ct]){C.lanes|=c,ct=C.alternate,ct!==null&&(ct.lanes|=c),$r(C.return,c,n),d||(et=null);break t}C=ct.next}}else if(y.tag===18){if(et=y.return,et===null)throw Error(x(341));et.lanes|=c,C=et.alternate,C!==null&&(C.lanes|=c),$r(et,c,n),et=null}else et=y.child;if(et!==null)et.return=y;else for(et=y;et!==null;){if(et===n){et=null;break}if(y=et.sibling,y!==null){y.return=et.return,et=y;break}et=et.return}y=et}}function to(n,i,c,d){n=null;for(var y=i,C=!1;y!==null;){if(!C){if((y.flags&524288)!==0)C=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var et=y.alternate;if(et===null)throw Error(x(387));if(et=et.memoizedProps,et!==null){var ct=y.type;_a(y.pendingProps.value,et.value)||(n!==null?n.push(ct):n=[ct])}}else if(y===ku.current){if(et=y.alternate,et===null)throw Error(x(387));et.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(Gs):n=[Gs])}y=y.return}n!==null&&As(i,n,c,d),i.flags|=262144}function eo(n){for(n=n.firstContext;n!==null;){var i=n.context;if(!_a(Rl?i._currentValue:i._currentValue2,n.memoizedValue))return!0;n=n.next}return!1}function $l(n){zr=n,dl=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Oi(n){return Au(zr,n)}function no(n,i){return zr===null&&$l(n),Au(n,i)}function Au(n,i){var c=Rl?i._currentValue:i._currentValue2;if(i={context:i,memoizedValue:c,next:null},dl===null){if(n===null)throw Error(x(308));dl=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else dl=dl.next=i;return c}function ts(){return{controller:new Wu,data:new Map,refCount:0}}function io(n){n.refCount--,n.refCount===0&&Jn(z0,function(){n.controller.abort()})}function Nu(){var n=xo.current;return n!==null?n:Tn.pooledCache}function Uo(n,i){i===null?E(xo,xo.current):E(xo,i.pool)}function ao(){var n=Nu();return n===null?null:{parent:Rl?ti._currentValue:ti._currentValue2,pool:n}}function qi(n){n.flags|=4}function Ns(n,i){if(n!==null&&n.child===i.child)return!1;if((i.flags&16)!==0)return!0;for(n=i.child;n!==null;){if((n.flags&13878)!==0||(n.subtreeFlags&13878)!==0)return!0;n=n.sibling}return!1}function ll(n,i,c,d){if(Vn)for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)ju(n,c.stateNode);else if(!(c.tag===4||Gi&&c.tag===27)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else if(Ll)for(var y=i.child;y!==null;){if(y.tag===5){var C=y.stateNode;c&&d&&(C=Cd(C,y.type,y.memoizedProps)),ju(n,C)}else if(y.tag===6)C=y.stateNode,c&&d&&(C=bf(C,y.memoizedProps)),ju(n,C);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)C=y.child,C!==null&&(C.return=y),ll(n,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===i)break;for(;y.sibling===null;){if(y.return===null||y.return===i)return;y=y.return}y.sibling.return=y.return,y=y.sibling}}function Go(n,i,c,d){if(Ll)for(var y=i.child;y!==null;){if(y.tag===5){var C=y.stateNode;c&&d&&(C=Cd(C,y.type,y.memoizedProps)),vf(n,C)}else if(y.tag===6)C=y.stateNode,c&&d&&(C=bf(C,y.memoizedProps)),vf(n,C);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)C=y.child,C!==null&&(C.return=y),Go(n,y,!(y.memoizedProps!==null&&y.memoizedProps.mode==="manual"),!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===i)break;for(;y.sibling===null;){if(y.return===null||y.return===i)return;y=y.return}y.sibling.return=y.return,y=y.sibling}}function lo(n,i){if(Ll&&Ns(n,i)){n=i.stateNode;var c=n.containerInfo,d=Tc();Go(d,i,!1,!1),n.pendingChildren=d,qi(i),_d(c,d)}}function Xo(n,i,c,d){if(Vn)n.memoizedProps!==d&&qi(i);else if(Ll){var y=n.stateNode,C=n.memoizedProps;if((n=Ns(n,i))||C!==d){var et=oi.current;C=Sd(y,c,C,d,!n,null),C===y?i.stateNode=y:(Sc(C,c,d,et)&&qi(i),i.stateNode=C,n?ll(C,i,!1,!1):qi(i))}else i.stateNode=y}}function Ho(n,i,c){if(hf(i,c)){if(n.flags|=16777216,!df(i,c))if(Ui())n.flags|=8192;else throw oa=xa,Ku}else n.flags&=-16777217}function jo(n,i){if(Bd(i)){if(n.flags|=16777216,!Of(i))if(Ui())n.flags|=8192;else throw oa=xa,Ku}else n.flags&=-16777217}function Os(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?k():536870912,n.lanes|=i,_i|=i)}function cr(n,i){if(!ln)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Rn(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(i)for(var y=n.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&31457280,d|=y.flags&31457280,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=d,n.childLanes=c,i}function Ou(n,i,c){var d=i.pendingProps;switch(yt(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(i),null;case 1:return Rn(i),null;case 3:return c=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),al(ti),Ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(te(i)?qi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cl!==null&&(Ms(cl),cl=null))),lo(n,i),Rn(i),null;case 26:if(Za){c=i.type;var y=i.memoizedState;return n===null?(qi(i),y!==null?(Rn(i),jo(i,y)):(Rn(i),Ho(i,c,d))):y?y!==n.memoizedState?(qi(i),Rn(i),jo(i,y)):(Rn(i),i.flags&=-16777217):(Vn?n.memoizedProps!==d&&qi(i):Xo(n,i,c,d),Rn(i),Ho(i,c,d)),null}case 27:if(Gi){if(ut(i),c=js.current,y=i.type,n!==null&&i.stateNode!=null)Vn?n.memoizedProps!==d&&qi(i):Xo(n,i,y,d);else{if(!d){if(i.stateNode===null)throw Error(x(166));return Rn(i),null}n=oi.current,te(i)?jt(i,n):(n=Mc(y,d,c,n,!0),i.stateNode=n,qi(i))}return Rn(i),null}case 5:if(ut(i),c=i.type,n!==null&&i.stateNode!=null)Xo(n,i,c,d);else{if(!d){if(i.stateNode===null)throw Error(x(166));return Rn(i),null}n=oi.current,te(i)?jt(i,n):(y=ff(c,d,js.current,n,i),ll(y,i,!1,!1),i.stateNode=y,Sc(y,c,d,n)&&qi(i))}return Rn(i),Ho(i,i.type,i.pendingProps),null;case 6:if(n&&i.stateNode!=null)c=n.memoizedProps,Vn?c!==d&&qi(i):Ll&&(c!==d?(i.stateNode=si(d,js.current,oi.current,i),qi(i)):i.stateNode=n.stateNode);else{if(typeof d!="string"&&i.stateNode===null)throw Error(x(166));if(n=js.current,c=oi.current,te(i)){if(!Pa)throw Error(x(176));if(n=i.stateNode,c=i.memoizedProps,d=null,y=ui,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}Nc(n,c,i,d)||_t(i)}else i.stateNode=si(d,n,c,i)}return Rn(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=te(i),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(x(318));if(!Pa)throw Error(x(344));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(x(317));Nd(y,i)}else ne(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rn(i),y=!1}else cl!==null&&(Ms(cl),cl=null),y=!0;if(!y)return i.flags&256?(ii(i),i):(ii(i),null)}if(ii(i),(i.flags&128)!==0)return i.lanes=c,i;if(c=d!==null,n=n!==null&&n.memoizedState!==null,c){d=i.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var C=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==y&&(d.flags|=2048)}return c!==n&&c&&(i.child.flags|=8192),Os(i,i.updateQueue),Rn(i),null;case 4:return Ht(),lo(n,i),n===null&&$h(i.stateNode.containerInfo),Rn(i),null;case 10:return al(i.type),Rn(i),null;case 19:if(J(Bn),y=i.memoizedState,y===null)return Rn(i),null;if(d=(i.flags&128)!==0,C=y.rendering,C===null)if(d)cr(y,!1);else{if(kn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(C=Nn(n),C!==null){for(i.flags|=128,cr(y,!1),n=C.updateQueue,i.updateQueue=n,Os(i,n),i.subtreeFlags=0,n=c,c=i.child;c!==null;)uo(c,n),c=c.sibling;return E(Bn,Bn.current&1|2),i.child}n=n.sibling}y.tail!==null&&Qa()>$a&&(i.flags|=128,d=!0,cr(y,!1),i.lanes=4194304)}else{if(!d)if(n=Nn(C),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,Os(i,n),cr(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!ln)return Rn(i),null}else 2*Qa()-y.renderingStartTime>$a&&c!==536870912&&(i.flags|=128,d=!0,cr(y,!1),i.lanes=4194304);y.isBackwards?(C.sibling=i.child,i.child=C):(n=y.last,n!==null?n.sibling=C:i.child=C,y.last=C)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Qa(),i.sibling=null,n=Bn.current,E(Bn,d?n&1|2:n&1),i):(Rn(i),null);case 22:case 23:return ii(i),xs(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(c&536870912)!==0&&(i.flags&128)===0&&(Rn(i),i.subtreeFlags&6&&(i.flags|=8192)):Rn(i),c=i.updateQueue,c!==null&&Os(i,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048),n!==null&&J(xo),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),al(ti),Rn(i),null;case 25:return null}throw Error(x(156,i.tag))}function af(n,i){switch(yt(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return al(ti),Ht(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ut(i),null;case 13:if(ii(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(x(340));ne()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return J(Bn),null;case 4:return Ht(),null;case 10:return al(i.type),null;case 22:case 23:return ii(i),xs(),n!==null&&J(xo),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return al(ti),null;case 25:return null;default:return null}}function fr(n,i){switch(yt(i),i.tag){case 3:al(ti),Ht();break;case 26:case 27:case 5:ut(i);break;case 4:Ht();break;case 13:ii(i);break;case 19:J(Bn);break;case 10:al(i.type);break;case 22:case 23:ii(i),xs(),n!==null&&J(xo);break;case 24:al(ti)}}function so(n,i){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&n)===n){d=void 0;var C=c.create,et=c.inst;d=C(),et.destroy=d}c=c.next}while(c!==y)}}catch(ct){pn(i,i.return,ct)}}function es(n,i,c){try{var d=i.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var C=y.next;d=C;do{if((d.tag&n)===n){var et=d.inst,ct=et.destroy;if(ct!==void 0){et.destroy=void 0,y=i;var Ct=c;try{ct()}catch(Yt){pn(y,Ct,Yt)}}}d=d.next}while(d!==C)}}catch(Yt){pn(i,i.return,Yt)}}function Wn(n){var i=n.updateQueue;if(i!==null){var c=n.stateNode;try{jr(i,c)}catch(d){pn(n,n.return,d)}}}function Fi(n,i,c){c.props=Ol(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(d){pn(n,i,d)}}function Va(n,i){try{var c=n.ref;if(c!==null){var d=n.stateNode;switch(n.tag){case 26:case 27:case 5:var y=ho(d);break;default:y=d}typeof c=="function"?n.refCleanup=c(y):c.current=y}}catch(C){pn(n,i,C)}}function Vi(n,i){var c=n.ref,d=n.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){pn(n,i,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){pn(n,i,y)}else c.current=null}function Mu(n){var i=n.type,c=n.memoizedProps,d=n.stateNode;try{hd(d,i,c,n)}catch(y){pn(n,n.return,y)}}function Du(n,i,c){try{dd(n.stateNode,n.type,c,i,n)}catch(d){pn(n,n.return,d)}}function ns(n){return n.tag===5||n.tag===3||(Za?n.tag===26:!1)||(Gi?n.tag===27:!1)||n.tag===4}function ro(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ns(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&(!Gi||n.tag!==27)&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pu(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?gf(c,n,i):mf(c,n);else if(!(d===4||Gi&&d===27)&&(n=n.child,n!==null))for(Pu(n,i,c),n=n.sibling;n!==null;)Pu(n,i,c),n=n.sibling}function qo(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?pd(c,n,i):cd(c,n);else if(!(d===4||Gi&&d===27)&&(n=n.child,n!==null))for(qo(n,i,c),n=n.sibling;n!==null;)qo(n,i,c),n=n.sibling}function is(n,i,c){n=n.containerInfo;try{xd(n,c)}catch(d){pn(i,i.return,d)}}function A(n,i){for(Wh(n.containerInfo),pe=i;pe!==null;)if(n=pe,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,pe=i;else for(;pe!==null;){n=pe;var c=n.alternate;switch(i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&c!==null){i=void 0;var d=n,y=c.memoizedProps;c=c.memoizedState;var C=d.stateNode;try{var et=Ol(d.type,y,d.elementType===d.type);i=C.getSnapshotBeforeUpdate(et,c),C.__reactInternalSnapshotBeforeUpdate=i}catch(ct){pn(d,d.return,ct)}}break;case 3:(i&1024)!==0&&Vn&&bd(n.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(x(163))}if(i=n.sibling,i!==null){i.return=n.return,pe=i;break}pe=n.return}return et=Mn,Mn=!1,et}function L(n,i,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:xe(n,c),d&4&&so(5,c);break;case 1:if(xe(n,c),d&4)if(n=c.stateNode,i===null)try{n.componentDidMount()}catch(ct){pn(c,c.return,ct)}else{var y=Ol(c.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(y,i,n.__reactInternalSnapshotBeforeUpdate)}catch(ct){pn(c,c.return,ct)}}d&64&&Wn(c),d&512&&Va(c,c.return);break;case 3:if(xe(n,c),d&64&&(d=c.updateQueue,d!==null)){if(n=null,c.child!==null)switch(c.child.tag){case 27:case 5:n=ho(c.child.stateNode);break;case 1:n=c.child.stateNode}try{jr(d,n)}catch(ct){pn(c,c.return,ct)}}break;case 26:if(Za){xe(n,c),d&512&&Va(c,c.return);break}case 27:case 5:xe(n,c),i===null&&d&4&&Mu(c),d&512&&Va(c,c.return);break;case 12:xe(n,c);break;case 13:xe(n,c),d&4&&Rt(n,c);break;case 22:if(y=c.memoizedState!==null||Zs,!y){i=i!==null&&i.memoizedState!==null||Ae;var C=Zs,et=Ae;Zs=y,(Ae=i)&&!et?ye(n,c,(c.subtreeFlags&8772)!==0):xe(n,c),Zs=C,Ae=et}d&512&&(c.memoizedProps.mode==="manual"?Va(c,c.return):Vi(c,c.return));break;default:xe(n,c)}}function q(n){var i=n.alternate;i!==null&&(n.alternate=null,q(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&nd(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function lt(n,i,c){for(c=c.child;c!==null;)pt(n,i,c),c=c.sibling}function pt(n,i,c){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(nu,c)}catch{}switch(c.tag){case 26:if(Za){Ae||Vi(c,i),lt(n,i,c),c.memoizedState?Tf(c.memoizedState):c.stateNode&&$o(c.stateNode);break}case 27:if(Gi){Ae||Vi(c,i);var d=on,y=hi;on=c.stateNode,lt(n,i,c),Pf(c.stateNode),on=d,hi=y;break}case 5:Ae||Vi(c,i);case 6:if(Vn){if(d=on,y=hi,on=null,lt(n,i,c),on=d,hi=y,on!==null)if(hi)try{gd(on,c.stateNode)}catch(C){pn(c,i,C)}else try{md(on,c.stateNode)}catch(C){pn(c,i,C)}}else lt(n,i,c);break;case 18:Vn&&on!==null&&(hi?xf(on,c.stateNode):Dd(on,c.stateNode));break;case 4:Vn?(d=on,y=hi,on=c.stateNode.containerInfo,hi=!0,lt(n,i,c),on=d,hi=y):(Ll&&is(c.stateNode,c,Tc()),lt(n,i,c));break;case 0:case 11:case 14:case 15:Ae||es(2,c,i),Ae||es(4,c,i),lt(n,i,c);break;case 1:Ae||(Vi(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Fi(c,i,d)),lt(n,i,c);break;case 21:lt(n,i,c);break;case 22:Ae||Vi(c,i),Ae=(d=Ae)||c.memoizedState!==null,lt(n,i,c),Ae=d;break;default:lt(n,i,c)}}function Rt(n,i){if(Pa&&i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Oc(n)}catch(c){pn(i,i.return,c)}}function Et(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Ue),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Ue),i;default:throw Error(x(435,n.tag))}}function Xt(n,i){var c=Et(n);i.forEach(function(d){var y=yc.bind(null,n,d);c.has(d)||(c.add(d),d.then(y,y))})}function It(n,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],C=n,et=i;if(Vn){var ct=et;t:for(;ct!==null;){switch(ct.tag){case 27:case 5:on=ct.stateNode,hi=!1;break t;case 3:on=ct.stateNode.containerInfo,hi=!0;break t;case 4:on=ct.stateNode.containerInfo,hi=!0;break t}ct=ct.return}if(on===null)throw Error(x(160));pt(C,et,y),on=null,hi=!1}else pt(C,et,y);C=y.alternate,C!==null&&(C.return=null),y.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Qt(i,n),i=i.sibling}function Qt(n,i){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:It(i,n),Zt(n),d&4&&(es(3,n,n.return),so(3,n),es(5,n,n.return));break;case 1:It(i,n),Zt(n),d&512&&(Ae||c===null||Vi(c,c.return)),d&64&&Zs&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:if(Za){var y=ca;It(i,n),Zt(n),d&512&&(Ae||c===null||Vi(c,c.return)),d&4&&(d=c!==null?c.memoizedState:null,i=n.memoizedState,c===null?i===null?n.stateNode===null?n.stateNode=Rd(y,n.type,n.memoizedProps,n):Af(y,n.type,n.stateNode):n.stateNode=Ef(y,i,n.memoizedProps):d!==i?(d===null?c.stateNode!==null&&$o(c.stateNode):Tf(d),i===null?Af(y,n.type,n.stateNode):Ef(y,i,n.memoizedProps)):i===null&&n.stateNode!==null&&Du(n,n.memoizedProps,c.memoizedProps));break}case 27:if(Gi&&d&4&&n.alternate===null){y=n.stateNode;var C=n.memoizedProps;try{zd(y),Df(n.type,C,y,n)}catch(Wt){pn(n,n.return,Wt)}}case 5:if(It(i,n),Zt(n),d&512&&(Ae||c===null||Vi(c,c.return)),Vn){if(n.flags&32){i=n.stateNode;try{Ec(i)}catch(Wt){pn(n,n.return,Wt)}}d&4&&n.stateNode!=null&&(i=n.memoizedProps,Du(n,i,c!==null?c.memoizedProps:i)),d&1024&&(En=!0)}break;case 6:if(It(i,n),Zt(n),d&4&&Vn){if(n.stateNode===null)throw Error(x(162));d=n.memoizedProps,c=c!==null?c.memoizedProps:d,i=n.stateNode;try{fd(i,c,d)}catch(Wt){pn(n,n.return,Wt)}}break;case 3:if(Za?(Ld(),y=ca,ca=Di(i.containerInfo),It(i,n),ca=y):It(i,n),Zt(n),d&4){if(Vn&&Pa&&c!==null&&c.memoizedState.isDehydrated)try{Md(i.containerInfo)}catch(Wt){pn(n,n.return,Wt)}if(Ll){d=i.containerInfo,c=i.pendingChildren;try{xd(d,c)}catch(Wt){pn(n,n.return,Wt)}}}En&&(En=!1,ee(n));break;case 4:Za?(c=ca,ca=Di(n.stateNode.containerInfo),It(i,n),Zt(n),ca=c):(It(i,n),Zt(n)),d&4&&Ll&&is(n.stateNode,n,n.stateNode.pendingChildren);break;case 12:It(i,n),Zt(n);break;case 13:It(i,n),Zt(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Yf=Qa()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Xt(n,d)));break;case 22:d&512&&(Ae||c===null||Vi(c,c.return)),y=n.memoizedState!==null;var et=c!==null&&c.memoizedState!==null,ct=Zs,Ct=Ae;if(Zs=ct||y,Ae=Ct||et,It(i,n),Ae=Ct,Zs=ct,Zt(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,d&8192&&(i._visibility=y?i._visibility&-2:i._visibility|1,y&&(i=Zs||Ae,c===null||et||i||Ee(n)),Vn&&(n.memoizedProps===null||n.memoizedProps.mode!=="manual"))){t:if(c=null,Vn)for(i=n;;){if(i.tag===5||Za&&i.tag===26||Gi&&i.tag===27){if(c===null){et=c=i;try{C=et.stateNode,y?yd(C):R0(et.stateNode,et.memoizedProps)}catch(Wt){pn(et,et.return,Wt)}}}else if(i.tag===6){if(c===null){et=i;try{var Yt=et.stateNode;y?vd(Yt):yf(Yt,et.memoizedProps)}catch(Wt){pn(et,et.return,Wt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}}d&4&&(d=n.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Xt(n,c))));break;case 19:It(i,n),Zt(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Xt(n,d)));break;case 21:break;default:It(i,n),Zt(n)}}function Zt(n){var i=n.flags;if(i&2){try{if(Vn&&(!Gi||n.tag!==27)){t:{for(var c=n.return;c!==null;){if(ns(c)){var d=c;break t}c=c.return}throw Error(x(160))}switch(d.tag){case 27:if(Gi){var y=d.stateNode,C=ro(n);qo(n,C,y);break}case 5:var et=d.stateNode;d.flags&32&&(Ec(et),d.flags&=-33);var ct=ro(n);qo(n,ct,et);break;case 3:case 4:var Ct=d.stateNode.containerInfo,Yt=ro(n);Pu(n,Yt,Ct);break;default:throw Error(x(161))}}}catch(Wt){pn(n,n.return,Wt)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ee(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;ee(i),i.tag===5&&i.flags&1024&&ad(i.stateNode),n=n.sibling}}function xe(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)L(n,i.alternate,i),i=i.sibling}function Ee(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:es(4,i,i.return),Ee(i);break;case 1:Vi(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Fi(i,i.return,c),Ee(i);break;case 26:case 27:case 5:Vi(i,i.return),Ee(i);break;case 22:Vi(i,i.return),i.memoizedState===null&&Ee(i);break;default:Ee(i)}n=n.sibling}}function ye(n,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,y=n,C=i,et=C.flags;switch(C.tag){case 0:case 11:case 15:ye(y,C,c),so(4,C);break;case 1:if(ye(y,C,c),d=C,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Yt){pn(d,d.return,Yt)}if(d=C,y=d.updateQueue,y!==null){var ct=d.stateNode;try{var Ct=y.shared.hiddenCallbacks;if(Ct!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Ct.length;y++)$s(Ct[y],ct)}catch(Yt){pn(d,d.return,Yt)}}c&&et&64&&Wn(C),Va(C,C.return);break;case 26:case 27:case 5:ye(y,C,c),c&&d===null&&et&4&&Mu(C),Va(C,C.return);break;case 12:ye(y,C,c);break;case 13:ye(y,C,c),c&&et&4&&Rt(y,C);break;case 22:C.memoizedState===null&&ye(y,C,c),Va(C,C.return);break;default:ye(y,C,c)}i=i.sibling}}function hn(n,i){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&io(c))}function fn(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&io(n))}function Re(n,i,c,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ue(n,i,c,d),i=i.sibling}function ue(n,i,c,d){var y=i.flags;switch(i.tag){case 0:case 11:case 15:Re(n,i,c,d),y&2048&&so(9,i);break;case 3:Re(n,i,c,d),y&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&io(n)));break;case 12:if(y&2048){Re(n,i,c,d),n=i.stateNode;try{var C=i.memoizedProps,et=C.id,ct=C.onPostCommit;typeof ct=="function"&&ct(et,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Ct){pn(i,i.return,Ct)}}else Re(n,i,c,d);break;case 23:break;case 22:C=i.stateNode,i.memoizedState!==null?C._visibility&4?Re(n,i,c,d):Ii(n,i):C._visibility&4?Re(n,i,c,d):(C._visibility|=4,Ie(n,i,c,d,(i.subtreeFlags&10256)!==0)),y&2048&&hn(i.alternate,i);break;case 24:Re(n,i,c,d),y&2048&&fn(i.alternate,i);break;default:Re(n,i,c,d)}}function Ie(n,i,c,d,y){for(y=y&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var C=n,et=i,ct=c,Ct=d,Yt=et.flags;switch(et.tag){case 0:case 11:case 15:Ie(C,et,ct,Ct,y),so(8,et);break;case 23:break;case 22:var Wt=et.stateNode;et.memoizedState!==null?Wt._visibility&4?Ie(C,et,ct,Ct,y):Ii(C,et):(Wt._visibility|=4,Ie(C,et,ct,Ct,y)),y&&Yt&2048&&hn(et.alternate,et);break;case 24:Ie(C,et,ct,Ct,y),y&&Yt&2048&&fn(et.alternate,et);break;default:Ie(C,et,ct,Ct,y)}i=i.sibling}}function Ii(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=n,d=i,y=d.flags;switch(d.tag){case 22:Ii(c,d),y&2048&&hn(d.alternate,d);break;case 24:Ii(c,d),y&2048&&fn(d.alternate,d);break;default:Ii(c,d)}i=i.sibling}}function ta(n){if(n.subtreeFlags&Yr)for(n=n.child;n!==null;)Fn(n),n=n.sibling}function Fn(n){switch(n.tag){case 26:ta(n),n.flags&Yr&&(n.memoizedState!==null?Mf(ca,n.memoizedState,n.memoizedProps):pf(n.type,n.memoizedProps));break;case 5:ta(n),n.flags&Yr&&pf(n.type,n.memoizedProps);break;case 3:case 4:if(Za){var i=ca;ca=Di(n.stateNode.containerInfo),ta(n),ca=i}else ta(n);break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Yr,Yr=16777216,ta(n),Yr=i):ta(n));break;default:ta(n)}}function Xe(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function We(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];pe=d,sl(d,n)}Xe(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dn(n),n=n.sibling}function dn(n){switch(n.tag){case 0:case 11:case 15:We(n),n.flags&2048&&es(9,n,n.return);break;case 3:We(n);break;case 12:We(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,ea(n)):We(n);break;default:We(n)}}function ea(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];pe=d,sl(d,n)}Xe(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:es(8,i,i.return),ea(i);break;case 22:c=i.stateNode,c._visibility&4&&(c._visibility&=-5,ea(i));break;default:ea(i)}n=n.sibling}}function sl(n,i){for(;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:es(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:io(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,pe=d;else t:for(c=n;pe!==null;){d=pe;var y=d.sibling,C=d.return;if(q(d),d===c){pe=null;break t}if(y!==null){y.return=C,pe=y;break t}pe=C}}}function ki(n){var i=xc(n);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(x(364));return i}if(n=rd(n),n===null)throw Error(x(362));return n.stateNode.current}function Ma(n,i){var c=n.tag;switch(i.$$typeof){case jn:if(n.type===i.value)return!0;break;case Hl:t:{for(i=i.value,n=[n,0],c=0;c<n.length;){var d=n[c++],y=d.tag,C=n[c++],et=i[C];if(y!==5&&y!==26&&y!==27||!us(d)){for(;et!=null&&Ma(d,et);)C++,et=i[C];if(C===i.length){i=!0;break t}else for(d=d.child;d!==null;)n.push(d,C),d=d.sibling}}i=!1}return i;case ms:if((c===5||c===26||c===27)&&ud(n.stateNode,i.value))return!0;break;case wa:if((c===5||c===6||c===26||c===27)&&(n=od(n),n!==null&&0<=n.indexOf(i.value)))return!0;break;case ou:if((c===5||c===26||c===27)&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(x(365))}return!1}function na(n){switch(n.$$typeof){case jn:return"<"+(O(n.value)||"Unknown")+">";case Hl:return":has("+(na(n)||"")+")";case ms:return'[role="'+n.value+'"]';case wa:return'"'+n.value+'"';case ou:return'[data-testname="'+n.value+'"]';default:throw Error(x(365))}}function Pl(n,i){var c=[];n=[n,0];for(var d=0;d<n.length;){var y=n[d++],C=y.tag,et=n[d++],ct=i[et];if(C!==5&&C!==26&&C!==27||!us(y)){for(;ct!=null&&Ma(y,ct);)et++,ct=i[et];if(et===i.length)c.push(y);else for(y=y.child;y!==null;)n.push(y,et),y=y.sibling}}return c}function hr(n,i){if(!Wo)throw Error(x(363));n=ki(n),n=Pl(n,i),i=[],n=Array.from(n);for(var c=0;c<n.length;){var d=n[c++],y=d.tag;if(y===5||y===26||y===27)us(d)||i.push(d.stateNode);else for(d=d.child;d!==null;)n.push(d),d=d.sibling}return i}function ia(){if((je&2)!==0&&qe!==0)return qe&-qe;if(ve.T!==null){var n=Hn;return n!==0?n:Ei()}return td()}function Ru(){Wa===0&&(Wa=(qe&536870912)===0||ln?nt():536870912);var n=Ba.current;return n!==null&&(n.flags|=32),Wa}function Ln(n,i,c){(n===Tn&&Sn===2||n.cancelPendingCommit!==null)&&(dr(n,0),ba(n,qe,Wa,!1)),it(n,c),((je&2)===0||n!==Tn)&&(n===Tn&&((je&2)===0&&(Ks|=c),kn===4&&ba(n,qe,Wa,!1)),tn(n))}function Ia(n,i,c){if((je&6)!==0)throw Error(x(327));var d=!c&&(i&60)===0&&(i&n.expiredLanes)===0||$(n,i),y=d?Ih(n,i):Bu(n,i,!0),C=d;do{if(y===0){ml&&!d&&ba(n,i,0,!1);break}else if(y===6)ba(n,i,0,!pl);else{if(c=n.current.alternate,C&&!Ds(c)){y=Bu(n,i,!1),C=!1;continue}if(y===2){if(C=i,n.errorRecoveryDisabledLanes&C)var et=0;else et=n.pendingLanes&-536870913,et=et!==0?et:et&536870912?536870912:0;if(et!==0){i=et;t:{var ct=n;y=uu;var Ct=Pa&&ct.current.memoizedState.isDehydrated;if(Ct&&(dr(ct,et).flags|=256),et=Bu(ct,et,!1),et!==2){if(Co&&!Ct){ct.errorRecoveryDisabledLanes|=C,Ks|=C,y=4;break t}C=yl,yl=y,C!==null&&Ms(C)}y=et}if(C=!1,y!==2)continue}}if(y===1){dr(n,0),ba(n,i,0,!0);break}t:{switch(d=n,y){case 0:case 1:throw Error(x(345));case 4:if((i&4194176)===i){ba(d,i,Wa,!pl);break t}break;case 2:yl=null;break;case 3:case 5:break;default:throw Error(x(329))}if(d.finishedWork=c,d.finishedLanes=i,(i&62914560)===i&&(C=Yf+300-Qa(),10<C)){if(ba(d,i,Wa,!pl),V(d,0)!==0)break t;d.timeoutHandle=_c(as.bind(null,d,c,yl,wo,Xc,i,Wa,Ks,_i,pl,2,-0,0),C);break t}as(d,c,yl,wo,Xc,i,Wa,Ks,_i,pl,0,-0,0)}}break}while(!0);tn(n)}function Ms(n){yl===null?yl=n:yl.push.apply(yl,n)}function as(n,i,c,d,y,C,et,ct,Ct,Yt,Wt,ie,Jt){var Ne=i.subtreeFlags;if((Ne&8192||(Ne&16785408)===16785408)&&(D0(),Fn(i),i=id(),i!==null)){n.cancelPendingCommit=i(gc.bind(null,n,c,d,y,et,ct,Ct,1,ie,Jt)),ba(n,C,et,!Yt);return}gc(n,c,d,y,et,ct,Ct,Wt,ie,Jt)}function Ds(n){for(var i=n;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],C=y.getSnapshot;y=y.value;try{if(!_a(C(),y))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ba(n,i,c,d){i&=~Ea,i&=~Ks,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var y=i;0<y;){var C=31-ri(y),et=1<<C;d[C]=-1,y&=~et}c!==0&&M(n,c,i)}function lf(){return(je&6)===0?(wi(0),!1):!0}function Lu(){if(ze!==null){if(Sn===0)var n=ze.return;else n=ze,dl=zr=null,Oa(n),So=null,ua=0,n=ze;for(;n!==null;)fr(n.alternate,n),n=n.return;ze=null}}function dr(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;c!==Jo&&(n.timeoutHandle=Jo,qu(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Lu(),Tn=n,ze=c=Rs(n.current,null),qe=i,Sn=0,Si=null,pl=!1,ml=$(n,i),Co=!1,_i=Wa=Ea=Ks=gl=kn=0,yl=uu=null,Xc=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var y=31-ri(d),C=1<<y;i|=n[y],d&=~C}return jl=i,Oe(),c}function aa(n,i){Te=null,ve.H=fi,i===Qu?(i=wl(),Sn=3):i===Ku?(i=wl(),Sn=4):Sn=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Si=i,ze===null&&(kn=1,sr(n,wt(i,n.current)))}function Ui(){var n=Ba.current;return n===null?!0:(qe&4194176)===qe?fl===null:(qe&62914560)===qe||(qe&536870912)!==0?n===fl:!1}function an(){var n=ve.H;return ve.H=fi,n===null?fi:n}function rl(){var n=ve.A;return ve.A=Qs,n}function ol(){kn=4,pl||(qe&4194176)!==qe&&Ba.current!==null||(ml=!0),(gl&134217727)===0&&(Ks&134217727)===0||Tn===null||ba(Tn,qe,Wa,!1)}function Bu(n,i,c){var d=je;je|=2;var y=an(),C=rl();(Tn!==n||qe!==i)&&(wo=null,dr(n,i)),i=!1;var et=kn;t:do try{if(Sn!==0&&ze!==null){var ct=ze,Ct=Si;switch(Sn){case 8:Lu(),et=6;break t;case 3:case 2:case 6:Ba.current===null&&(i=!0);var Yt=Sn;if(Sn=0,Si=null,ls(n,ct,Ct,Yt),c&&ml){et=0;break t}break;default:Yt=Sn,Sn=0,Si=null,ls(n,ct,Ct,Yt)}}oo(),et=kn;break}catch(Wt){aa(n,Wt)}while(!0);return i&&n.shellSuspendCounter++,dl=zr=null,je=d,ve.H=y,ve.A=C,ze===null&&(Tn=null,qe=0,Oe()),et}function oo(){for(;ze!==null;)Fo(ze)}function Ih(n,i){var c=je;je|=2;var d=an(),y=rl();Tn!==n||qe!==i?(wo=null,$a=Qa()+500,dr(n,i)):ml=$(n,i);t:do try{if(Sn!==0&&ze!==null){i=ze;var C=Si;e:switch(Sn){case 1:Sn=0,Si=null,ls(n,i,C,1);break;case 2:if(nl(C)){Sn=0,Si=null,Vo(i);break}i=function(){Sn===2&&Tn===n&&(Sn=7),tn(n)},C.then(i,i);break t;case 3:Sn=7;break t;case 4:Sn=5;break t;case 7:nl(C)?(Sn=0,Si=null,Vo(i)):(Sn=0,Si=null,ls(n,i,C,7));break;case 5:var et=null;switch(ze.tag){case 26:et=ze.memoizedState;case 5:case 27:var ct=ze,Ct=ct.type,Yt=ct.pendingProps;if(et?Of(et):df(Ct,Yt)){Sn=0,Si=null;var Wt=ct.sibling;if(Wt!==null)ze=Wt;else{var ie=ct.return;ie!==null?(ze=ie,pr(ie)):ze=null}break e}}Sn=0,Si=null,ls(n,i,C,5);break;case 6:Sn=0,Si=null,ls(n,i,C,6);break;case 8:Lu(),kn=6;break t;default:throw Error(x(462))}}kh();break}catch(Jt){aa(n,Jt)}while(!0);return dl=zr=null,ve.H=d,ve.A=y,je=c,ze!==null?0:(Tn=null,qe=0,Oe(),kn)}function kh(){for(;ze!==null&&!Nr();)Fo(ze)}function Fo(n){var i=Tu(n.alternate,n,jl);n.memoizedProps=n.pendingProps,i===null?pr(n):ze=i}function Vo(n){var i=n,c=i.alternate;switch(i.tag){case 15:case 0:i=zo(c,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=zo(c,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Oa(i);default:fr(c,i),i=ze=uo(i,jl),i=Tu(c,i,jl)}n.memoizedProps=n.pendingProps,i===null?pr(n):ze=i}function ls(n,i,c,d){dl=zr=null,Oa(i),So=null,ua=0;var y=i.return;try{if(Cn(n,y,i,c,qe)){kn=1,sr(n,wt(c,n.current)),ze=null;return}}catch(C){if(y!==null)throw ze=y,C;kn=1,sr(n,wt(c,n.current)),ze=null;return}i.flags&32768?(ln||d===1?n=!0:ml||(qe&536870912)!==0?n=!1:(pl=n=!0,(d===2||d===3||d===6)&&(d=Ba.current,d!==null&&d.tag===13&&(d.flags|=16384))),sf(i,n)):pr(i)}function pr(n){var i=n;do{if((i.flags&32768)!==0){sf(i,pl);return}n=i.return;var c=Ou(i.alternate,i,jl);if(c!==null){ze=c;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=n}while(i!==null);kn===0&&(kn=5)}function sf(n,i){do{var c=af(n.alternate,n);if(c!==null){c.flags&=32767,ze=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(n=n.sibling,n!==null)){ze=n;return}ze=n=c}while(n!==null);kn=6,ze=null}function gc(n,i,c,d,y,C,et,ct,Ct,Yt){var Wt=ve.T,ie=Er();try{Sa(2),ve.T=null,Zh(n,i,c,d,ie,y,C,et,ct,Ct,Yt)}finally{ve.T=Wt,Sa(ie)}}function Zh(n,i,c,d,y,C,et,ct){do mr();while(Ur!==null);if((je&6)!==0)throw Error(x(327));var Ct=n.finishedWork;if(d=n.finishedLanes,Ct===null)return null;if(n.finishedWork=null,n.finishedLanes=0,Ct===n.current)throw Error(x(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var Yt=Ct.lanes|Ct.childLanes;if(Yt|=Ul,dt(n,d,Yt,C,et,ct),n===Tn&&(ze=Tn=null,qe=0),(Ct.subtreeFlags&10256)===0&&(Ct.flags&10256)===0||Js||(Js=!0,Hc=Yt,tc=c,Qh(eu,function(){return mr(),null})),c=(Ct.flags&15990)!==0,(Ct.subtreeFlags&15990)!==0||c?(c=ve.T,ve.T=null,C=Er(),Sa(2),et=je,je|=4,A(n,Ct),Qt(Ct,n),M0(n.containerInfo),n.current=Ct,L(n,Ct.alternate,Ct),Hs(),je=et,Sa(C),ve.T=c):n.current=Ct,Js?(Js=!1,Ur=n,cu=d):zu(n,Yt),Yt=n.pendingLanes,Yt===0&&(ys=null),W(Ct.stateNode),tn(n),i!==null)for(y=n.onRecoverableError,Ct=0;Ct<i.length;Ct++)Yt=i[Ct],y(Yt.value,{componentStack:Yt.stack});return(cu&3)!==0&&mr(),Yt=n.pendingLanes,(d&4194218)!==0&&(Yt&42)!==0?n===Uf?Eo++:(Eo=0,Uf=n):Eo=0,wi(0),null}function zu(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,io(i)))}function mr(){if(Ur!==null){var n=Ur,i=Hc;Hc=0;var c=j(cu),d=32>c?32:c;c=ve.T;var y=Er();try{if(Sa(d),ve.T=null,Ur===null)var C=!1;else{d=tc,tc=null;var et=Ur,ct=cu;if(Ur=null,cu=0,(je&6)!==0)throw Error(x(331));var Ct=je;if(je|=4,dn(et.current),ue(et,et.current,ct,d),je=Ct,wi(0,!1),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(nu,et)}catch{}C=!0}return C}finally{Sa(y),ve.T=c,zu(n,i)}}return!1}function Io(n,i,c){i=wt(c,i),i=Jl(n.stateNode,i,2),n=Ce(n,i,2),n!==null&&(it(n,2),tn(n))}function pn(n,i,c){if(n.tag===3)Io(n,n,c);else for(;i!==null;){if(i.tag===3){Io(i,n,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ys===null||!ys.has(d))){n=wt(c,n),c=Jr(2),d=Ce(i,c,2),d!==null&&(Ro(c,d,i,n),it(d,2),tn(d));break}}i=i.return}}function gr(n,i,c){var d=n.pingCache;if(d===null){d=n.pingCache=new $u;var y=new Set;d.set(i,y)}else y=d.get(i),y===void 0&&(y=new Set,d.set(i,y));y.has(c)||(Co=!0,y.add(c),n=Yu.bind(null,n,i,c),i.then(n,n))}function Yu(n,i,c){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Tn===n&&(qe&c)===c&&(kn===4||kn===3&&(qe&62914560)===qe&&300>Qa()-Yf?(je&2)===0&&dr(n,0):Ea|=c,_i===qe&&(_i=0)),tn(n)}function Uu(n,i){i===0&&(i=k()),n=De(n,i),n!==null&&(it(n,i),tn(n))}function Gu(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),Uu(n,c)}function yc(n,i){var c=0;switch(n.tag){case 13:var d=n.stateNode,y=n.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(x(314))}d!==null&&d.delete(i),Uu(n,c)}function Qh(n,i){return fs(n,i)}function Kh(n,i,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Rs(n,i){var c=n.alternate;return c===null?(c=g(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&31457280,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function uo(n,i){n.flags&=31457282;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,i=c.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function co(n,i,c,d,y,C){var et=0;if(d=n,typeof n=="function")Ps(n)&&(et=1);else if(typeof n=="string")et=Za&&Gi?Mi(n,c,oi.current)?26:Dc(n)?27:5:Za?Mi(n,c,oi.current)?26:5:Gi&&Dc(n)?27:5;else t:switch(n){case br:return yr(c.children,y,C,i);case fo:et=8,y|=24;break;case Sr:return n=g(12,c,i,y|2),n.elementType=Sr,n.lanes=C,n;case zs:return n=g(13,c,i,y),n.elementType=zs,n.lanes=C,n;case Hu:return n=g(19,c,i,y),n.elementType=Hu,n.lanes=C,n;case Us:return vc(c,y,C,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N0:case _r:et=10;break t;case uf:et=9;break t;case bc:et=11;break t;case Zo:et=14;break t;case Ys:et=16,d=null;break t}et=29,c=Error(x(130,n===null?"null":typeof n,"")),d=null}return i=g(et,c,i,y),i.elementType=n,i.type=d,i.lanes=C,i}function yr(n,i,c,d){return n=g(7,n,d,i),n.lanes=c,n}function vc(n,i,c,d){n=g(22,n,d,i),n.elementType=Us,n.lanes=c;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=y._current;if(C===null)throw Error(x(456));if((y._pendingVisibility&2)===0){var et=De(C,2);et!==null&&(y._pendingVisibility|=2,Ln(et,C,2))}},attach:function(){var C=y._current;if(C===null)throw Error(x(456));if((y._pendingVisibility&2)!==0){var et=De(C,2);et!==null&&(y._pendingVisibility&=-3,Ln(et,C,2))}}};return n.stateNode=y,n}function Xu(n,i,c){return n=g(6,n,null,i),n.lanes=c,n}function Da(n,i,c){return i=g(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ss(n,i,c,d,y,C,et,ct){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Jo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=C,this.onRecoverableError=et,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function Ls(n,i,c,d,y,C,et,ct,Ct,Yt,Wt,ie){return n=new ss(n,i,c,et,ct,Ct,Yt,ie),i=1,C===!0&&(i|=24),C=g(3,null,null,i),n.current=C,C.stateNode=n,i=ts(),i.refCount++,n.pooledCache=i,i.refCount++,C.memoizedState={element:d,isDehydrated:c,cache:i},ni(C),n}function rf(n){return n?(n=vo,n):vo}function Bs(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(x(188)):(n=Object.keys(n).join(","),Error(x(268,n)));return n=P(i),n=n!==null?D(n):null,n===null?null:ho(n.stateNode)}function rs(n,i,c,d,y,C){y=rf(y),d.context===null?d.context=y:d.pendingContext=y,d=Pe(i),d.payload={element:c},C=C===void 0?null:C,C!==null&&(d.callback=C),c=Ce(n,d,i),c!==null&&(Ln(c,n,i),Aa(c,n,i))}function gi(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function ko(n,i){gi(n,i),(n=n.alternate)&&gi(n,i)}var He={},A0=y0(),ka=Up(),li=Object.assign,of=Symbol.for("react.element"),vr=Symbol.for("react.transitional.element"),os=Symbol.for("react.portal"),br=Symbol.for("react.fragment"),fo=Symbol.for("react.strict_mode"),Sr=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),uf=Symbol.for("react.consumer"),_r=Symbol.for("react.context"),bc=Symbol.for("react.forward_ref"),zs=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),Zo=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),Us=Symbol.for("react.offscreen"),Be=Symbol.for("react.memo_cache_sentinel"),bn=Symbol.iterator,yi=Symbol.for("react.client.reference"),ve=A0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xr,Cr,Qo=!1,wr=Array.isArray,Ko=a.rendererVersion,O0=a.rendererPackageName,$n=a.extraDevToolsConfig,ho=a.getPublicInstance,cf=a.getRootHostContext,Jh=a.getChildHostContext,Wh=a.prepareForCommit,M0=a.resetAfterCommit,ff=a.createInstance,ju=a.appendInitialChild,Sc=a.finalizeInitialChildren,Zi=a.shouldSetTextContent,si=a.createTextInstance,_c=a.scheduleTimeout,qu=a.cancelTimeout,Jo=a.noTimeout,Rl=a.isPrimaryRenderer;a.warnsIfNotActing;var Vn=a.supportsMutation,Ll=a.supportsPersistence,Pa=a.supportsHydration,xc=a.getInstanceFromNode;a.beforeActiveInstanceBlur,a.afterActiveInstanceBlur;var $h=a.preparePortalMount;a.prepareScopeUpdate,a.getInstanceFromScope;var Sa=a.setCurrentUpdatePriority,Er=a.getCurrentUpdatePriority,td=a.resolveUpdatePriority;a.resolveEventType,a.resolveEventTimeStamp;var ed=a.shouldAttemptEagerTransition,nd=a.detachDeletedInstance;a.requestPostPaintCallback;var hf=a.maySuspendCommit,df=a.preloadInstance,D0=a.startSuspendingCommit,pf=a.suspendInstance,id=a.waitForCommitToBeReady,po=a.NotPendingTransition,Gs=a.HostTransitionContext,ad=a.resetFormInstance;a.bindToConsole;var ld=a.supportsMicrotasks,sd=a.scheduleMicrotask,Wo=a.supportsTestSelectors,rd=a.findFiberRoot,P0=a.getBoundingRect,od=a.getTextContent,us=a.isHiddenSubtree,ud=a.matchAccessibilityRole,Cc=a.setFocusIfFocusable,wc=a.setupIntersectionObserver,cd=a.appendChild,mf=a.appendChildToContainer,fd=a.commitTextUpdate,hd=a.commitMount,dd=a.commitUpdate,pd=a.insertBefore,gf=a.insertInContainerBefore,md=a.removeChild,gd=a.removeChildFromContainer,Ec=a.resetTextContent,yd=a.hideInstance,vd=a.hideTextInstance,R0=a.unhideInstance,yf=a.unhideTextInstance,bd=a.clearContainer,Sd=a.cloneInstance,Tc=a.createContainerChildSet,vf=a.appendChildToContainerChildSet,_d=a.finalizeContainerChildren,xd=a.replaceContainerChildren,Cd=a.cloneHiddenInstance,bf=a.cloneHiddenTextInstance,mo=a.isSuspenseInstancePending,Fu=a.isSuspenseInstanceFallback,Ac=a.getSuspenseInstanceFallbackErrorDetails,wd=a.registerSuspenseInstanceRetry,Ed=a.canHydrateFormStateMarker,cs=a.isFormStateMarkerMatching,Tr=a.getNextHydratableSibling,Xs=a.getFirstHydratableChild,go=a.getFirstHydratableChildWithinContainer,Sf=a.getFirstHydratableChildWithinSuspenseInstance,_f=a.canHydrateInstance,Td=a.canHydrateTextInstance,Ad=a.canHydrateSuspenseInstance,yo=a.hydrateInstance,Nc=a.hydrateTextInstance,Nd=a.hydrateSuspenseInstance,Od=a.getNextHydratableInstanceAfterSuspenseInstance,Md=a.commitHydratedContainer,Oc=a.commitHydratedSuspenseInstance,Dd=a.clearSuspenseBoundary,xf=a.clearSuspenseBoundaryFromContainer,Cf=a.shouldDeleteUnhydratedTailInstances;a.diffHydratedPropsForDevWarnings,a.diffHydratedTextForDevWarnings,a.describeHydratableInstanceForDevWarnings;var Pd=a.validateHydratableInstance,L0=a.validateHydratableTextInstance,Za=a.supportsResources,Mi=a.isHostHoistableType,Di=a.getHoistableRoot,wf=a.getResource,Ef=a.acquireResource,Tf=a.releaseResource,Rd=a.hydrateHoistable,Af=a.mountHoistable,$o=a.unmountHoistable,Nf=a.createHoistableInstance,Ld=a.prepareToCommitHoistables,Bd=a.mayResourceSuspendCommit,Of=a.preloadResource,Mf=a.suspendResource,Gi=a.supportsSingletons,Mc=a.resolveSingletonInstance,zd=a.clearSingleton,Df=a.acquireSingletonInstance,Pf=a.releaseSingletonInstance,Dc=a.isHostSingletonType,Pc=[],Ar=-1,vo={},ri=Math.clz32?Math.clz32:T,Rf=Math.log,B0=Math.LN2,Vu=128,tu=4194304,fs=ka.unstable_scheduleCallback,Bl=ka.unstable_cancelCallback,Nr=ka.unstable_shouldYield,Hs=ka.unstable_requestPaint,Qa=ka.unstable_now,Rc=ka.unstable_ImmediatePriority,Iu=ka.unstable_UserBlockingPriority,eu=ka.unstable_NormalPriority,bo=ka.unstable_IdlePriority,la=ka.log,Lc=ka.unstable_setDisableYieldValue,nu=null,vi=null,_a=typeof Object.is=="function"?Object.is:mt,Bc=new WeakMap,Ka=[],Ja=0,Or=null,iu=0,Ra=[],sa=0,zl=null,hs=1,ds="",oi=U(null),ul=U(null),js=U(null),ku=U(null),ui=null,wn=null,ln=!1,cl=null,Yl=!1,Zu=Error(x(519)),La=[],qs=0,Ul=0,Xn=null,Mr=null,zc=!1,ci=!1,Yc=!1,au=0,lu=null,Uc=0,Hn=0,Xi=null,ra=!1,Gc=!1,Yd=Object.prototype.hasOwnProperty,Qu=Error(x(460)),Ku=Error(x(474)),xa={then:function(){}},oa=null,So=null,ua=0,Dr=il(!0),ps=il(!1),Gl=U(null),Xl=U(0),Ba=U(null),fl=null,Bn=U(0),Fs=0,Te=null,rn=null,In=null,Vs=!1,_o=!1,Pr=!1,Rr=0,su=0,Is=null,Ud=0,Lf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},fi={readContext:Oi,use:Pn,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we};fi.useCacheRefresh=we,fi.useMemoCache=we,fi.useHostTransitionStatus=we,fi.useFormState=we,fi.useActionState=we,fi.useOptimistic=we;var ks={readContext:Oi,use:Pn,useCallback:function(n,i){return Ve().memoizedState=[n,i===void 0?null:i],n},useContext:Oi,useEffect:Ot,useImperativeHandle:function(n,i,c){c=c!=null?c.concat([n]):null,bt(4194308,4,de.bind(null,i,n),c)},useLayoutEffect:function(n,i){return bt(4194308,4,n,i)},useInsertionEffect:function(n,i){bt(4,2,n,i)},useMemo:function(n,i){var c=Ve();i=i===void 0?null:i;var d=n();if(Pr){at(!0);try{n()}finally{at(!1)}}return c.memoizedState=[d,i],d},useReducer:function(n,i,c){var d=Ve();if(c!==void 0){var y=c(i);if(Pr){at(!0);try{c(i)}finally{at(!1)}}}else y=i;return d.memoizedState=d.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},d.queue=n,n=n.dispatch=ar.bind(null,Te,n),[d.memoizedState,n]},useRef:function(n){var i=Ve();return n={current:n},i.memoizedState=n},useState:function(n){n=ya(n);var i=n.queue,c=$i.bind(null,Te,i);return i.dispatch=c,[n.memoizedState,c]},useDebugValue:Gn,useDeferredValue:function(n,i){var c=Ve();return Zr(c,n,i)},useTransition:function(){var n=ya(!1);return n=Al.bind(null,Te,n.queue,!0,!1),Ve().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,c){var d=Te,y=Ve();if(ln){if(c===void 0)throw Error(x(407));c=c()}else{if(c=i(),Tn===null)throw Error(x(349));(qe&60)!==0||er(d,i,c)}y.memoizedState=c;var C={value:c,getSnapshot:i};return y.queue=C,Ot(ai.bind(null,d,C,n),[n]),d.flags|=2048,st(9,nr.bind(null,d,C,c,i),{destroy:void 0},null),c},useId:function(){var n=Ve(),i=Tn.identifierPrefix;if(ln){var c=ds,d=hs;c=(d&~(1<<32-ri(d)-1)).toString(32)+c,i=":"+i+"R"+c,c=Rr++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Ud++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Ve().memoizedState=_u.bind(null,Te)}};ks.useMemoCache=Ti,ks.useHostTransitionStatus=Kr,ks.useFormState=f,ks.useActionState=f,ks.useOptimistic=function(n){var i=Ve();i.memoizedState=i.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=va.bind(null,Te,!0,c),c.dispatch=i,[n,i]};var Ca={readContext:Oi,use:Pn,useCallback:Kn,useContext:Oi,useEffect:$t,useImperativeHandle:Je,useInsertionEffect:ce,useLayoutEffect:_e,useMemo:Wi,useReducer:ga,useRef:ot,useState:function(){return ga(mi)},useDebugValue:Gn,useDeferredValue:function(n,i){var c=vn();return Qr(c,rn.memoizedState,n,i)},useTransition:function(){var n=ga(mi)[0],i=vn().memoizedState;return[typeof n=="boolean"?n:On(n),i]},useSyncExternalStore:Vr,useId:Es};Ca.useCacheRefresh=Fa,Ca.useMemoCache=Ti,Ca.useHostTransitionStatus=Kr,Ca.useFormState=p,Ca.useActionState=p,Ca.useOptimistic=function(n,i){var c=vn();return oe(c,rn,n,i)};var Lr={readContext:Oi,use:Pn,useCallback:Kn,useContext:Oi,useEffect:$t,useImperativeHandle:Je,useInsertionEffect:ce,useLayoutEffect:_e,useMemo:Wi,useReducer:Ji,useRef:ot,useState:function(){return Ji(mi)},useDebugValue:Gn,useDeferredValue:function(n,i){var c=vn();return rn===null?Zr(c,n,i):Qr(c,rn.memoizedState,n,i)},useTransition:function(){var n=Ji(mi)[0],i=vn().memoizedState;return[typeof n=="boolean"?n:On(n),i]},useSyncExternalStore:Vr,useId:Es};Lr.useCacheRefresh=Fa,Lr.useMemoCache=Ti,Lr.useHostTransitionStatus=Kr,Lr.useFormState=Q,Lr.useActionState=Q,Lr.useOptimistic=function(n,i){var c=vn();return rn!==null?oe(c,rn,n,i):(c.baseState=n,[n,c.queue.dispatch])};var ru={isMounted:function(n){return(n=n._reactInternals)?F(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var d=ia(),y=Pe(d);y.payload=i,c!=null&&(y.callback=c),i=Ce(n,y,d),i!==null&&(Ln(i,n,d),Aa(i,n,d))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var d=ia(),y=Pe(d);y.tag=1,y.payload=i,c!=null&&(y.callback=c),i=Ce(n,y,d),i!==null&&(Ln(i,n,d),Aa(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=ia(),d=Pe(c);d.tag=2,i!=null&&(d.callback=i),i=Ce(n,d,c),i!==null&&(Ln(i,n,c),Aa(i,n,c))}},Br=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Bf=Error(x(461)),bi=!1,Ju={dehydrated:null,treeContext:null,retryLane:0},hl=U(null),zr=null,dl=null,Wu=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(c,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(c){return c()})}},Jn=ka.unstable_scheduleCallback,z0=ka.unstable_NormalPriority,ti={$$typeof:_r,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},zf=ve.S;ve.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ei(n,i),zf!==null&&zf(n,i)};var xo=U(null),Zs=!1,Ae=!1,En=!1,Ue=typeof WeakSet=="function"?WeakSet:Set,pe=null,Mn=!1,on=null,hi=!1,ca=null,Yr=8192,Qs={getCacheForType:function(n){var i=Oi(ti),c=i.data.get(n);return c===void 0&&(c=n(),i.data.set(n,c)),c}},jn=0,Hl=1,ms=2,ou=3,wa=4;if(typeof Symbol=="function"&&Symbol.for){var gs=Symbol.for;jn=gs("selector.component"),Hl=gs("selector.has_pseudo_class"),ms=gs("selector.role"),ou=gs("selector.test_id"),wa=gs("selector.text")}var $u=typeof WeakMap=="function"?WeakMap:Map,je=0,Tn=null,ze=null,qe=0,Sn=0,Si=null,pl=!1,ml=!1,Co=!1,jl=0,kn=0,gl=0,Ks=0,Ea=0,Wa=0,_i=0,uu=null,yl=null,Xc=!1,Yf=0,$a=1/0,wo=null,ys=null,Js=!1,Ur=null,cu=0,Hc=0,tc=null,Eo=0,Uf=null;return He.attemptContinuousHydration=function(n){if(n.tag===13){var i=De(n,67108864);i!==null&&Ln(i,n,67108864),ko(n,67108864)}},He.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var i=ia(),c=De(n,i);c!==null&&Ln(c,n,i),ko(n,i)}},He.attemptSynchronousHydration=function(n){switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var i=H(n.pendingLanes);if(i!==0){for(n.pendingLanes|=2,n.entangledLanes|=2;i;){var c=1<<31-ri(i);n.entanglements[1]|=c,i&=~c}tn(n),(je&6)===0&&($a=Qa()+500,wi(0))}}break;case 13:i=De(n,2),i!==null&&Ln(i,n,2),lf(),ko(n,2)}},He.batchedUpdates=function(n,i){return n(i)},He.createComponentSelector=function(n){return{$$typeof:jn,value:n}},He.createContainer=function(n,i,c,d,y,C,et,ct,Ct,Yt){return Ls(n,i,!1,null,c,d,C,et,ct,Ct,Yt,null)},He.createHasPseudoClassSelector=function(n){return{$$typeof:Hl,value:n}},He.createHydrationContainer=function(n,i,c,d,y,C,et,ct,Ct,Yt,Wt,ie,Jt){return n=Ls(c,d,!0,n,y,C,ct,Ct,Yt,Wt,ie,Jt),n.context=rf(null),c=n.current,d=ia(),y=Pe(d),y.callback=i??null,Ce(c,y,d),n.current.lanes=d,it(n,d),tn(n),n},He.createPortal=function(n,i,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:d==null?null:""+d,children:n,containerInfo:i,implementation:c}},He.createRoleSelector=function(n){return{$$typeof:ms,value:n}},He.createTestNameSelector=function(n){return{$$typeof:ou,value:n}},He.createTextSelector=function(n){return{$$typeof:wa,value:n}},He.defaultOnCaughtError=function(n){console.error(n)},He.defaultOnRecoverableError=function(n){Br(n)},He.defaultOnUncaughtError=function(n){Br(n)},He.deferredUpdates=function(n){var i=ve.T,c=Er();try{return Sa(32),ve.T=null,n()}finally{Sa(c),ve.T=i}},He.discreteUpdates=function(n,i,c,d,y){var C=ve.T,et=Er();try{return Sa(2),ve.T=null,n(i,c,d,y)}finally{Sa(et),ve.T=C,je===0&&($a=Qa()+500)}},He.findAllNodes=hr,He.findBoundingRects=function(n,i){if(!Wo)throw Error(x(363));i=hr(n,i),n=[];for(var c=0;c<i.length;c++)n.push(P0(i[c]));for(i=n.length-1;0<i;i--){c=n[i];for(var d=c.x,y=d+c.width,C=c.y,et=C+c.height,ct=i-1;0<=ct;ct--)if(i!==ct){var Ct=n[ct],Yt=Ct.x,Wt=Yt+Ct.width,ie=Ct.y,Jt=ie+Ct.height;if(d>=Yt&&C>=ie&&y<=Wt&&et<=Jt){n.splice(i,1);break}else if(d!==Yt||c.width!==Ct.width||Jt<C||ie>et){if(!(C!==ie||c.height!==Ct.height||Wt<d||Yt>y)){Yt>d&&(Ct.width+=Yt-d,Ct.x=d),Wt<y&&(Ct.width=y-Yt),n.splice(i,1);break}}else{ie>C&&(Ct.height+=ie-C,Ct.y=C),Jt<et&&(Ct.height=et-ie),n.splice(i,1);break}}}return n},He.findHostInstance=Bs,He.findHostInstanceWithNoPortals=function(n){return n=P(n),n=n!==null?G(n):null,n===null?null:ho(n.stateNode)},He.findHostInstanceWithWarning=function(n){return Bs(n)},He.flushPassiveEffects=mr,He.flushSyncFromReconciler=function(n){var i=je;je|=1;var c=ve.T,d=Er();try{if(Sa(2),ve.T=null,n)return n()}finally{Sa(d),ve.T=c,je=i,(je&6)===0&&wi(0)}},He.flushSyncWork=lf,He.focusWithin=function(n,i){if(!Wo)throw Error(x(363));for(n=ki(n),i=Pl(n,i),i=Array.from(i),n=0;n<i.length;){var c=i[n++],d=c.tag;if(!us(c)){if((d===5||d===26||d===27)&&Cc(c.stateNode))return!0;for(c=c.child;c!==null;)i.push(c),c=c.sibling}}return!1},He.getFindAllNodesFailureDescription=function(n,i){if(!Wo)throw Error(x(363));var c=0,d=[];n=[ki(n),0];for(var y=0;y<n.length;){var C=n[y++],et=C.tag,ct=n[y++],Ct=i[ct];if((et!==5&&et!==26&&et!==27||!us(C))&&(Ma(C,Ct)&&(d.push(na(Ct)),ct++,ct>c&&(c=ct)),ct<i.length))for(C=C.child;C!==null;)n.push(C,ct),C=C.sibling}if(c<i.length){for(n=[];c<i.length;c++)n.push(na(i[c]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},He.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 27:case 5:return ho(n.child.stateNode);default:return n.child.stateNode}},He.injectIntoDevTools=function(){var n={bundleType:0,version:Ko,rendererPackageName:O0,currentDispatcherRef:ve,findFiberByHostInstance:xc,reconcilerVersion:"19.0.0"};if($n!==null&&(n.rendererConfig=$n),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)n=!0;else{try{nu=i.inject(n),vi=i}catch{}n=!!i.checkDCE}}return n},He.isAlreadyRendering=function(){return!1},He.observeVisibleRects=function(n,i,c,d){if(!Wo)throw Error(x(363));n=hr(n,i);var y=wc(n,c,d).disconnect;return{disconnect:function(){y()}}},He.shouldError=function(){return null},He.shouldSuspend=function(){return!1},He.startHostTransition=function(n,i,c,d){if(n.tag!==5)throw Error(x(476));var y=ir(n).queue;Al(n,y,i,po,c===null?v:function(){var C=ir(n).next.queue;return Ts(n,C,{},ia()),c(d)})},He.updateContainer=function(n,i,c,d){var y=i.current,C=ia();return rs(y,C,n,i,c,d),C},He.updateContainerSync=function(n,i,c,d){return i.tag===0&&mr(),rs(i.current,2,n,i,c,d),2},He},u.exports.default=u.exports,Object.defineProperty(u.exports,"__esModule",{value:!0})})(_p)),_p.exports}var i2;function Sv(){return i2||(i2=1,Sp.exports=bv()),Sp.exports}var _v=Sv();const xv=g0(_v);var xp={exports:{}},Mo={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function Cv(){return a2||(a2=1,Mo.ConcurrentRoot=1,Mo.ContinuousEventPriority=8,Mo.DefaultEventPriority=32,Mo.DiscreteEventPriority=2,Mo.IdleEventPriority=268435456,Mo.LegacyRoot=0,Mo.NoEventPriority=0),Mo}var l2;function wv(){return l2||(l2=1,xp.exports=Cv()),xp.exports}var qp=wv(),Ev=Fe();const s2={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let r2=!1,o2=!1;const Fp=".react-konva-event",Tv=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Av=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Nv={};function S0(u,a,g=Nv){if(!r2&&"zIndex"in a&&(console.warn(Av),r2=!0),!o2&&a.draggable){var v=a.x!==void 0||a.y!==void 0,x=a.onDragEnd||a.onDragMove;v&&!x&&(console.warn(Tv),o2=!0)}for(var b in g)if(!s2[b]){var O=b.slice(0,2)==="on",S=g[b]!==a[b];if(O&&S){var w=b.substr(2).toLowerCase();w.substr(0,7)==="content"&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),u.off(w,g[b])}var N=!a.hasOwnProperty(b);N&&u.setAttr(b,void 0)}var z=a._useStrictMode,F={},X=!1;const P={};for(var b in a)if(!s2[b]){var O=b.slice(0,2)==="on",D=g[b]!==a[b];if(O&&D){var w=b.substr(2).toLowerCase();w.substr(0,7)==="content"&&(w="content"+w.substr(7,1).toUpperCase()+w.substr(8)),a[b]&&(P[w]=a[b])}!O&&(a[b]!==g[b]||z&&a[b]!==u.getAttr(b))&&(X=!0,F[b]=a[b])}X&&(u.setAttrs(F),Su(u));for(var w in P)u.on(w+Fp,P[w])}function Su(u){if(!Ev.Konva.autoDrawEnabled){var a=u.getLayer()||u.getStage();a&&a.batchDraw()}}var Cp=Up();const X2={},Ov={};s0.Node.prototype._applyProps=S0;let _0=qp.DefaultEventPriority;function Mv(u,a){if(typeof a=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${a}`);return}u.add(a),Su(u)}function Dv(u,a,g){let v=s0[u];v||(console.error(`Konva has no node with the type ${u}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${u}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),v=s0.Group);const x={},b={};for(var O in a){var S=O.slice(0,2)==="on";S?b[O]=a[O]:x[O]=a[O]}const w=new v(x);return S0(w,b),w}function Pv(u,a,g){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${u}"`)}function Rv(u,a,g){return!1}function Lv(u){return u}function Bv(){return null}function zv(){return null}function Yv(u,a,g,v){return Ov}function Uv(){}function Gv(u){}function Xv(u,a){return!1}function Hv(){return X2}function jv(){return X2}const qv=setTimeout,Fv=clearTimeout,Vv=-1;function Iv(u,a){return!1}const kv=!1,Zv=!0,Qv=!0,Kv=!1,Jv=!1;function Wv(u,a){a.parent===u?a.moveToTop():u.add(a),Su(u)}function $v(u,a){a.parent===u?a.moveToTop():u.add(a),Su(u)}function H2(u,a,g){a._remove(),u.add(a),a.setZIndex(g.getZIndex()),Su(u)}function t5(u,a,g){H2(u,a,g)}function e5(u,a){a.destroy(),a.off(Fp),Su(u)}function n5(u,a){a.destroy(),a.off(Fp),Su(u)}function i5(u,a,g){console.error(`Text components are not yet supported in ReactKonva. You text is: "${g}"`)}function a5(u,a,g){}function l5(u,a,g,v){S0(u,v,g)}function s5(u){u.hide(),Su(u)}function r5(u){}function o5(u,a){(a.visible==null||a.visible)&&u.show()}function u5(u,a){}function c5(u){}function f5(){}function h5(){return _0}function d5(){}function p5(){return null}function m5(u){_0=u}function g5(){return _0}function y5(){return _0||qp.DefaultEventPriority}function v5(){return!1}function b5(){}function S5(){return!1}function _5(){return!0}function x5(){}function C5(){}function w5(){return null}const E5=null;function T5(){}const A5=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:E5,appendChild:Wv,appendChildToContainer:$v,appendInitialChild:Mv,cancelTimeout:Fv,clearContainer:c5,commitMount:a5,commitTextUpdate:i5,commitUpdate:l5,createInstance:Dv,createTextInstance:Pv,detachDeletedInstance:f5,finalizeInitialChildren:Rv,getChildHostContext:jv,getCurrentEventPriority:h5,getCurrentUpdatePriority:g5,getInstanceFromScope:p5,getPublicInstance:Lv,getRootHostContext:Hv,hideInstance:s5,hideTextInstance:r5,idlePriority:Cp.unstable_IdlePriority,insertBefore:H2,insertInContainerBefore:t5,isPrimaryRenderer:kv,maySuspendCommit:S5,noTimeout:Vv,now:Cp.unstable_now,preloadInstance:_5,prepareForCommit:Bv,preparePortalMount:zv,prepareScopeUpdate:d5,prepareUpdate:Yv,removeChild:e5,removeChildFromContainer:n5,requestPostPaintCallback:b5,resetAfterCommit:Uv,resetFormInstance:T5,resetTextContent:Gv,resolveUpdatePriority:y5,run:Cp.unstable_runWithPriority,scheduleTimeout:qv,setCurrentUpdatePriority:m5,shouldAttemptEagerTransition:v5,shouldDeprioritizeSubtree:Xv,shouldSetTextContent:Iv,startSuspendingCommit:x5,supportsHydration:Jv,supportsMutation:Qv,supportsPersistence:Kv,suspendInstance:C5,unhideInstance:o5,unhideTextInstance:u5,waitForCommitToBeReady:w5,warnsIfNotActing:Zv},Symbol.toStringTag,{value:"Module"}));var N5=Object.defineProperty,O5=Object.defineProperties,M5=Object.getOwnPropertyDescriptors,u2=Object.getOwnPropertySymbols,D5=Object.prototype.hasOwnProperty,P5=Object.prototype.propertyIsEnumerable,c2=(u,a,g)=>a in u?N5(u,a,{enumerable:!0,configurable:!0,writable:!0,value:g}):u[a]=g,f2=(u,a)=>{for(var g in a||(a={}))D5.call(a,g)&&c2(u,g,a[g]);if(u2)for(var g of u2(a))P5.call(a,g)&&c2(u,g,a[g]);return u},R5=(u,a)=>O5(u,M5(a)),h2,d2;typeof window<"u"&&((h2=window.document)!=null&&h2.createElement||((d2=window.navigator)==null?void 0:d2.product)==="ReactNative")?Gt.useLayoutEffect:Gt.useEffect;function j2(u,a,g){if(!u)return;if(g(u)===!0)return u;let v=u.child;for(;v;){const x=j2(v,a,g);if(x)return x;v=v.sibling}}function q2(u){try{return Object.defineProperties(u,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return u}}const p2=console.error;console.error=function(){const u=[...arguments].join("");if(u!=null&&u.startsWith("Warning:")&&u.includes("useContext")){console.error=p2;return}return p2.apply(this,arguments)};const Vp=q2(Gt.createContext(null));class F2 extends Gt.Component{render(){return Gt.createElement(Vp.Provider,{value:this._reactInternals},this.props.children)}}function L5(){const u=Gt.useContext(Vp);if(u===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=Gt.useId();return Gt.useMemo(()=>{for(const v of[u,u==null?void 0:u.alternate]){if(!v)continue;const x=j2(v,!1,b=>{let O=b.memoizedState;for(;O;){if(O.memoizedState===a)return!0;O=O.next}});if(x)return x}},[u,a])}function B5(){const u=L5(),[a]=Gt.useState(()=>new Map);a.clear();let g=u;for(;g;){if(g.type&&typeof g.type=="object"){const x=g.type._context===void 0&&g.type.Provider===g.type?g.type:g.type._context;x&&x!==Vp&&!a.has(x)&&a.set(x,Gt.useContext(q2(x)))}g=g.return}return a}function z5(){const u=B5();return Gt.useMemo(()=>Array.from(u.keys()).reduce((a,g)=>v=>Gt.createElement(a,null,Gt.createElement(g.Provider,R5(f2({},v),{value:u.get(g)}))),a=>Gt.createElement(F2,f2({},a))),[u])}if(di.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function Y5(u){const a=di.useRef({});return di.useLayoutEffect(()=>{a.current=u}),di.useLayoutEffect(()=>()=>{a.current={}},[]),a.current}const U5=u=>{const a=di.useRef(null),g=di.useRef(null),v=di.useRef(null),x=Y5(u),b=z5(),O=S=>{const{forwardedRef:w}=u;w&&(typeof w=="function"?w(S):w.current=S)};return di.useLayoutEffect(()=>(g.current=new s0.Stage({width:u.width,height:u.height,container:a.current}),O(g.current),v.current=Gh.createContainer(g.current,qp.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Gh.updateContainer(di.createElement(b,{},u.children),v.current,null,()=>{}),()=>{O(null),Gh.updateContainer(null,v.current,null),g.current.destroy()}),[]),di.useLayoutEffect(()=>{O(g.current),S0(g.current,u,x),Gh.updateContainer(di.createElement(b,{},u.children),v.current,null)}),di.createElement("div",{ref:a,id:u.id,accessKey:u.accessKey,className:u.className,role:u.role,style:u.style,tabIndex:u.tabIndex,title:u.title})},bs="Layer",m2="Rect",Ss="Circle",nc="Line",wp="Image",Sl="Text",g2="Shape",Gh=xv(A5);Gh.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:di.version,rendererPackageName:"react-konva"});const G5=di.forwardRef((u,a)=>di.createElement(F2,{},di.createElement(U5,{...u,forwardedRef:a}))),y2=""+new URL("pivot-B_jB5iSp.png",import.meta.url).href,v2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV4AAAFcCAYAAACA49YRAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjYuMywgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/P9b71AAAACXBIWXMAAB7CAAAewgFu0HU+AAAFVUlEQVR4nO3bsW0bQRRF0T+GAvXB0OrFtboXKWQfykaBAIciAcJ3V/Y58QQPBHGDwc7aew8AnR9HDwD43wgvQEx4AWLCCxATXoCY8ALEhBcgJrwAMeEFiAkvQEx4AWLCCxATXoCY8ALEhBcgJrwAMeEFiAkvQEx4AWLCCxATXoCY8ALEhBcgJrwAMeEFiAkvQEx4AWLCCxATXoCY8ALEhBcgJrwAMeEFiD0dPQDustbzzFxunLrO3u/FHHiE8PJdXGbm9caZl5l5C7bAQ1w1AMSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9A7OnoAX+s9Twzl6NncFr3/Dcus9ZfH8K3dZ29348eMTOz9t5Hb/i01s+ZeT16BvDPepm9344eMeOqASAnvAAx4QWICS9ATHgBYsILEBNegNiZvuP1gIKvXGbm940zv2bmGmzhezrNA4rzvFz7/EFO8XEzJ3Tfi7TrWT6Qh6+4agCICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegJjwAsSEFyAmvAAx4QWICS9ATHgBYsILEBNegNjaex+9AW5b63lmLjdOXWfv92IOPEJ4AWKuGgBiwgsQE16AmPACxIQXICa8ADHhBYgJL0BMeAFiwgsQE16AmPACxIQXICa8ADHhBYgJL0BMeAFiwgsQE16AmPACxIQXICa8ADHhBYgJL0BMeAFiwgsQE16AmPACxIQXICa8ADHhBYgJL0BMeAFiH7SJMWppo+G/AAAAAElFTkSuQmCC",b2=""+new URL("op-C5HtHhuT.png",import.meta.url).href;/*!
* sweetalert2 v11.26.2
* Released under the MIT License.
*/function V2(u,a,g){if(typeof u=="function"?u===a:u.has(a))return arguments.length<3?a:g;throw new TypeError("Private element is not present on this object")}function X5(u,a){if(a.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S2(u,a){return u.get(V2(u,a))}function H5(u,a,g){X5(u,a),a.set(u,g)}function j5(u,a,g){return u.set(V2(u,a),g),g}const q5=100,me={},F5=()=>{me.previousActiveElement instanceof HTMLElement?(me.previousActiveElement.focus(),me.previousActiveElement=null):document.body&&document.body.focus()},V5=u=>new Promise(a=>{if(!u)return a();const g=window.scrollX,v=window.scrollY;me.restoreFocusTimeout=setTimeout(()=>{F5(),a()},q5),window.scrollTo(g,v)}),I2="swal2-",I5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Lt=I5.reduce((u,a)=>(u[a]=I2+a,u),{}),k5=["success","warning","info","question","error"],r0=k5.reduce((u,a)=>(u[a]=I2+a,u),{}),k2="SweetAlert2:",Ip=u=>u.charAt(0).toUpperCase()+u.slice(1),tl=u=>{console.warn(`${k2} ${typeof u=="object"?u.join(" "):u}`)},sc=u=>{console.error(`${k2} ${u}`)},_2=[],Z5=u=>{_2.includes(u)||(_2.push(u),tl(u))},Z2=(u,a=null)=>{Z5(`"${u}" is deprecated and will be removed in the next major release.${a?` Use "${a}" instead.`:""}`)},x0=u=>typeof u=="function"?u():u,kp=u=>u&&typeof u.toPromise=="function",Xh=u=>kp(u)?u.toPromise():Promise.resolve(u),Zp=u=>u&&Promise.resolve(u)===u,el=()=>document.body.querySelector(`.${Lt.container}`),Hh=u=>{const a=el();return a?a.querySelector(u):null},Fl=u=>Hh(`.${u}`),gn=()=>Fl(Lt.popup),$c=()=>Fl(Lt.icon),Q5=()=>Fl(Lt["icon-content"]),Q2=()=>Fl(Lt.title),Qp=()=>Fl(Lt["html-container"]),K2=()=>Fl(Lt.image),Kp=()=>Fl(Lt["progress-steps"]),C0=()=>Fl(Lt["validation-message"]),Hr=()=>Hh(`.${Lt.actions} .${Lt.confirm}`),tf=()=>Hh(`.${Lt.actions} .${Lt.cancel}`),rc=()=>Hh(`.${Lt.actions} .${Lt.deny}`),K5=()=>Fl(Lt["input-label"]),ef=()=>Hh(`.${Lt.loader}`),jh=()=>Fl(Lt.actions),J2=()=>Fl(Lt.footer),w0=()=>Fl(Lt["timer-progress-bar"]),Jp=()=>Fl(Lt.close),J5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Wp=()=>{const u=gn();if(!u)return[];const a=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(a).sort((b,O)=>{const S=parseInt(b.getAttribute("tabindex")||"0"),w=parseInt(O.getAttribute("tabindex")||"0");return S>w?1:S<w?-1:0}),v=u.querySelectorAll(J5),x=Array.from(v).filter(b=>b.getAttribute("tabindex")!=="-1");return[...new Set(g.concat(x))].filter(b=>xl(b))},$p=()=>Do(document.body,Lt.shown)&&!Do(document.body,Lt["toast-shown"])&&!Do(document.body,Lt["no-backdrop"]),E0=()=>{const u=gn();return u?Do(u,Lt.toast):!1},W5=()=>{const u=gn();return u?u.hasAttribute("data-loading"):!1},Vl=(u,a)=>{if(u.textContent="",a){const v=new DOMParser().parseFromString(a,"text/html"),x=v.querySelector("head");x&&Array.from(x.childNodes).forEach(O=>{u.appendChild(O)});const b=v.querySelector("body");b&&Array.from(b.childNodes).forEach(O=>{O instanceof HTMLVideoElement||O instanceof HTMLAudioElement?u.appendChild(O.cloneNode(!0)):u.appendChild(O)})}},Do=(u,a)=>{if(!a)return!1;const g=a.split(/\s+/);for(let v=0;v<g.length;v++)if(!u.classList.contains(g[v]))return!1;return!0},$5=(u,a)=>{Array.from(u.classList).forEach(g=>{!Object.values(Lt).includes(g)&&!Object.values(r0).includes(g)&&!Object.values(a.showClass||{}).includes(g)&&u.classList.remove(g)})},ql=(u,a,g)=>{if($5(u,a),!a.customClass)return;const v=a.customClass[g];if(v){if(typeof v!="string"&&!v.forEach){tl(`Invalid type of customClass.${g}! Expected string or iterable object, got "${typeof v}"`);return}_n(u,v)}},T0=(u,a)=>{if(!a)return null;switch(a){case"select":case"textarea":case"file":return u.querySelector(`.${Lt.popup} > .${Lt[a]}`);case"checkbox":return u.querySelector(`.${Lt.popup} > .${Lt.checkbox} input`);case"radio":return u.querySelector(`.${Lt.popup} > .${Lt.radio} input:checked`)||u.querySelector(`.${Lt.popup} > .${Lt.radio} input:first-child`);case"range":return u.querySelector(`.${Lt.popup} > .${Lt.range} input`);default:return u.querySelector(`.${Lt.popup} > .${Lt.input}`)}},W2=u=>{if(u.focus(),u.type!=="file"){const a=u.value;u.value="",u.value=a}},$2=(u,a,g)=>{!u||!a||(typeof a=="string"&&(a=a.split(/\s+/).filter(Boolean)),a.forEach(v=>{Array.isArray(u)?u.forEach(x=>{g?x.classList.add(v):x.classList.remove(v)}):g?u.classList.add(v):u.classList.remove(v)}))},_n=(u,a)=>{$2(u,a,!0)},_s=(u,a)=>{$2(u,a,!1)},vu=(u,a)=>{const g=Array.from(u.children);for(let v=0;v<g.length;v++){const x=g[v];if(x instanceof HTMLElement&&Do(x,a))return x}},ac=(u,a,g)=>{g===`${parseInt(`${g}`)}`&&(g=parseInt(g)),g||parseInt(`${g}`)===0?u.style.setProperty(a,typeof g=="number"?`${g}px`:g):u.style.removeProperty(a)},ha=(u,a="flex")=>{u&&(u.style.display=a)},Ya=u=>{u&&(u.style.display="none")},t1=(u,a="block")=>{u&&new MutationObserver(()=>{qh(u,u.innerHTML,a)}).observe(u,{childList:!0,subtree:!0})},x2=(u,a,g,v)=>{const x=u.querySelector(a);x&&x.style.setProperty(g,v)},qh=(u,a,g="flex")=>{a?ha(u,g):Ya(u)},xl=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),t4=()=>!xl(Hr())&&!xl(rc())&&!xl(tf()),Bp=u=>u.scrollHeight>u.clientHeight,e4=(u,a)=>{let g=u;for(;g&&g!==a;){if(Bp(g))return!0;g=g.parentElement}return!1},tg=u=>{const a=window.getComputedStyle(u),g=parseFloat(a.getPropertyValue("animation-duration")||"0"),v=parseFloat(a.getPropertyValue("transition-duration")||"0");return g>0||v>0},e1=(u,a=!1)=>{const g=w0();g&&xl(g)&&(a&&(g.style.transition="none",g.style.width="100%"),setTimeout(()=>{g.style.transition=`width ${u/1e3}s linear`,g.style.width="0%"},10))},n4=()=>{const u=w0();if(!u)return;const a=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";const g=parseInt(window.getComputedStyle(u).width),v=a/g*100;u.style.width=`${v}%`},i4=()=>typeof window>"u"||typeof document>"u",a4=`
 <div aria-labelledby="${Lt.title}" aria-describedby="${Lt["html-container"]}" class="${Lt.popup}" tabindex="-1">
   <button type="button" class="${Lt.close}"></button>
   <ul class="${Lt["progress-steps"]}"></ul>
   <div class="${Lt.icon}"></div>
   <img class="${Lt.image}" />
   <h2 class="${Lt.title}" id="${Lt.title}"></h2>
   <div class="${Lt["html-container"]}" id="${Lt["html-container"]}"></div>
   <input class="${Lt.input}" id="${Lt.input}" />
   <input type="file" class="${Lt.file}" />
   <div class="${Lt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Lt.select}" id="${Lt.select}"></select>
   <div class="${Lt.radio}"></div>
   <label class="${Lt.checkbox}">
     <input type="checkbox" id="${Lt.checkbox}" />
     <span class="${Lt.label}"></span>
   </label>
   <textarea class="${Lt.textarea}" id="${Lt.textarea}"></textarea>
   <div class="${Lt["validation-message"]}" id="${Lt["validation-message"]}"></div>
   <div class="${Lt.actions}">
     <div class="${Lt.loader}"></div>
     <button type="button" class="${Lt.confirm}"></button>
     <button type="button" class="${Lt.deny}"></button>
     <button type="button" class="${Lt.cancel}"></button>
   </div>
   <div class="${Lt.footer}"></div>
   <div class="${Lt["timer-progress-bar-container"]}">
     <div class="${Lt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),l4=()=>{const u=el();return u?(u.remove(),_s([document.documentElement,document.body],[Lt["no-backdrop"],Lt["toast-shown"],Lt["has-column"]]),!0):!1},ic=()=>{me.currentInstance.resetValidationMessage()},s4=()=>{const u=gn(),a=vu(u,Lt.input),g=vu(u,Lt.file),v=u.querySelector(`.${Lt.range} input`),x=u.querySelector(`.${Lt.range} output`),b=vu(u,Lt.select),O=u.querySelector(`.${Lt.checkbox} input`),S=vu(u,Lt.textarea);a.oninput=ic,g.onchange=ic,b.onchange=ic,O.onchange=ic,S.oninput=ic,v.oninput=()=>{ic(),x.value=v.value},v.onchange=()=>{ic(),x.value=v.value}},r4=u=>typeof u=="string"?document.querySelector(u):u,o4=u=>{const a=gn();a.setAttribute("role",u.toast?"alert":"dialog"),a.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||a.setAttribute("aria-modal","true")},u4=u=>{window.getComputedStyle(u).direction==="rtl"&&_n(el(),Lt.rtl)},c4=u=>{const a=l4();if(i4()){sc("SweetAlert2 requires document to initialize");return}const g=document.createElement("div");g.className=Lt.container,a&&_n(g,Lt["no-transition"]),Vl(g,a4),g.dataset.swal2Theme=u.theme;const v=r4(u.target);v.appendChild(g),u.topLayer&&(g.setAttribute("popover",""),g.showPopover()),o4(u),u4(v),s4()},n1=(u,a)=>{u instanceof HTMLElement?a.appendChild(u):typeof u=="object"?f4(u,a):u&&Vl(a,u)},f4=(u,a)=>{u.jquery?h4(a,u):Vl(a,u.toString())},h4=(u,a)=>{if(u.textContent="",0 in a)for(let g=0;g in a;g++)u.appendChild(a[g].cloneNode(!0));else u.appendChild(a.cloneNode(!0))},d4=(u,a)=>{const g=jh(),v=ef();!g||!v||(!a.showConfirmButton&&!a.showDenyButton&&!a.showCancelButton?Ya(g):ha(g),ql(g,a,"actions"),p4(g,v,a),Vl(v,a.loaderHtml||""),ql(v,a,"loader"))};function p4(u,a,g){const v=Hr(),x=rc(),b=tf();!v||!x||!b||(Tp(v,"confirm",g),Tp(x,"deny",g),Tp(b,"cancel",g),m4(v,x,b,g),g.reverseButtons&&(g.toast?(u.insertBefore(b,v),u.insertBefore(x,v)):(u.insertBefore(b,a),u.insertBefore(x,a),u.insertBefore(v,a))))}function m4(u,a,g,v){if(!v.buttonsStyling){_s([u,a,g],Lt.styled);return}_n([u,a,g],Lt.styled),v.confirmButtonColor&&u.style.setProperty("--swal2-confirm-button-background-color",v.confirmButtonColor),v.denyButtonColor&&a.style.setProperty("--swal2-deny-button-background-color",v.denyButtonColor),v.cancelButtonColor&&g.style.setProperty("--swal2-cancel-button-background-color",v.cancelButtonColor),Ep(u),Ep(a),Ep(g)}function Ep(u){const a=window.getComputedStyle(u);if(a.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const g=a.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");u.style.setProperty("--swal2-action-button-focus-box-shadow",a.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${g}`))}function Tp(u,a,g){const v=Ip(a);qh(u,g[`show${v}Button`],"inline-block"),Vl(u,g[`${a}ButtonText`]||""),u.setAttribute("aria-label",g[`${a}ButtonAriaLabel`]||""),u.className=Lt[a],ql(u,g,`${a}Button`)}const g4=(u,a)=>{const g=Jp();g&&(Vl(g,a.closeButtonHtml||""),ql(g,a,"closeButton"),qh(g,a.showCloseButton),g.setAttribute("aria-label",a.closeButtonAriaLabel||""))},y4=(u,a)=>{const g=el();g&&(v4(g,a.backdrop),b4(g,a.position),S4(g,a.grow),ql(g,a,"container"))};function v4(u,a){typeof a=="string"?u.style.background=a:a||_n([document.documentElement,document.body],Lt["no-backdrop"])}function b4(u,a){a&&(a in Lt?_n(u,Lt[a]):(tl('The "position" parameter is not valid, defaulting to "center"'),_n(u,Lt.center)))}function S4(u,a){a&&_n(u,Lt[`grow-${a}`])}var Zn={innerParams:new WeakMap,domCache:new WeakMap};const _4=["input","file","range","select","radio","checkbox","textarea"],x4=(u,a)=>{const g=gn();if(!g)return;const v=Zn.innerParams.get(u),x=!v||a.input!==v.input;_4.forEach(b=>{const O=vu(g,Lt[b]);O&&(E4(b,a.inputAttributes),O.className=Lt[b],x&&Ya(O))}),a.input&&(x&&C4(a),T4(a))},C4=u=>{if(!u.input)return;if(!Pi[u.input]){sc(`Unexpected type of input! Expected ${Object.keys(Pi).join(" | ")}, got "${u.input}"`);return}const a=eg(u.input);if(!a)return;const g=Pi[u.input](a,u);ha(a),u.inputAutoFocus&&setTimeout(()=>{W2(g)})},w4=u=>{for(let a=0;a<u.attributes.length;a++){const g=u.attributes[a].name;["id","type","value","style"].includes(g)||u.removeAttribute(g)}},E4=(u,a)=>{const g=gn();if(!g)return;const v=T0(g,u);if(v){w4(v);for(const x in a)v.setAttribute(x,a[x])}},T4=u=>{if(!u.input)return;const a=eg(u.input);a&&ql(a,u,"input")},i1=(u,a)=>{!u.placeholder&&a.inputPlaceholder&&(u.placeholder=a.inputPlaceholder)},Fh=(u,a,g)=>{if(g.inputLabel){const v=document.createElement("label"),x=Lt["input-label"];v.setAttribute("for",u.id),v.className=x,typeof g.customClass=="object"&&_n(v,g.customClass.inputLabel),v.innerText=g.inputLabel,a.insertAdjacentElement("beforebegin",v)}},eg=u=>{const a=gn();if(a)return vu(a,Lt[u]||Lt.input)},o0=(u,a)=>{["string","number"].includes(typeof a)?u.value=`${a}`:Zp(a)||tl(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof a}"`)},Pi={};Pi.text=Pi.email=Pi.password=Pi.number=Pi.tel=Pi.url=Pi.search=Pi.date=Pi["datetime-local"]=Pi.time=Pi.week=Pi.month=(u,a)=>(o0(u,a.inputValue),Fh(u,u,a),i1(u,a),u.type=a.input,u);Pi.file=(u,a)=>(Fh(u,u,a),i1(u,a),u);Pi.range=(u,a)=>{const g=u.querySelector("input"),v=u.querySelector("output");return o0(g,a.inputValue),g.type=a.input,o0(v,a.inputValue),Fh(g,u,a),u};Pi.select=(u,a)=>{if(u.textContent="",a.inputPlaceholder){const g=document.createElement("option");Vl(g,a.inputPlaceholder),g.value="",g.disabled=!0,g.selected=!0,u.appendChild(g)}return Fh(u,u,a),u};Pi.radio=u=>(u.textContent="",u);Pi.checkbox=(u,a)=>{const g=T0(gn(),"checkbox");g.value="1",g.checked=!!a.inputValue;const v=u.querySelector("span");return Vl(v,a.inputPlaceholder||a.inputLabel),g};Pi.textarea=(u,a)=>{o0(u,a.inputValue),i1(u,a),Fh(u,u,a);const g=v=>parseInt(window.getComputedStyle(v).marginLeft)+parseInt(window.getComputedStyle(v).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const v=parseInt(window.getComputedStyle(gn()).width),x=()=>{if(!document.body.contains(u))return;const b=u.offsetWidth+g(u);b>v?gn().style.width=`${b}px`:ac(gn(),"width",a.width)};new MutationObserver(x).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};const A4=(u,a)=>{const g=Qp();g&&(t1(g),ql(g,a,"htmlContainer"),a.html?(n1(a.html,g),ha(g,"block")):a.text?(g.textContent=a.text,ha(g,"block")):Ya(g),x4(u,a))},N4=(u,a)=>{const g=J2();g&&(t1(g),qh(g,!!a.footer,"block"),a.footer&&n1(a.footer,g),ql(g,a,"footer"))},O4=(u,a)=>{const g=Zn.innerParams.get(u),v=$c();if(!v)return;if(g&&a.icon===g.icon){w2(v,a),C2(v,a);return}if(!a.icon&&!a.iconHtml){Ya(v);return}if(a.icon&&Object.keys(r0).indexOf(a.icon)===-1){sc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${a.icon}"`),Ya(v);return}ha(v),w2(v,a),C2(v,a),_n(v,a.showClass&&a.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ng)},C2=(u,a)=>{for(const[g,v]of Object.entries(r0))a.icon!==g&&_s(u,v);_n(u,a.icon&&r0[a.icon]),P4(u,a),ng(),ql(u,a,"icon")},ng=()=>{const u=gn();if(!u)return;const a=window.getComputedStyle(u).getPropertyValue("background-color"),g=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let v=0;v<g.length;v++)g[v].style.backgroundColor=a},M4=u=>`
  ${u.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${u.animation?'<div class="swal2-success-fix"></div>':""}
  ${u.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,D4=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,w2=(u,a)=>{if(!a.icon&&!a.iconHtml)return;let g=u.innerHTML,v="";a.iconHtml?v=E2(a.iconHtml):a.icon==="success"?(v=M4(a),g=g.replace(/ style=".*?"/g,"")):a.icon==="error"?v=D4:a.icon&&(v=E2({question:"?",warning:"!",info:"i"}[a.icon])),g.trim()!==v.trim()&&Vl(u,v)},P4=(u,a)=>{if(a.iconColor){u.style.color=a.iconColor,u.style.borderColor=a.iconColor;for(const g of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])x2(u,g,"background-color",a.iconColor);x2(u,".swal2-success-ring","border-color",a.iconColor)}},E2=u=>`<div class="${Lt["icon-content"]}">${u}</div>`,R4=(u,a)=>{const g=K2();if(g){if(!a.imageUrl){Ya(g);return}ha(g,""),g.setAttribute("src",a.imageUrl),g.setAttribute("alt",a.imageAlt||""),ac(g,"width",a.imageWidth),ac(g,"height",a.imageHeight),g.className=Lt.image,ql(g,a,"image")}};let a1=!1,ig=0,ag=0,lg=0,sg=0;const L4=u=>{u.addEventListener("mousedown",u0),document.body.addEventListener("mousemove",c0),u.addEventListener("mouseup",f0),u.addEventListener("touchstart",u0),document.body.addEventListener("touchmove",c0),u.addEventListener("touchend",f0)},B4=u=>{u.removeEventListener("mousedown",u0),document.body.removeEventListener("mousemove",c0),u.removeEventListener("mouseup",f0),u.removeEventListener("touchstart",u0),document.body.removeEventListener("touchmove",c0),u.removeEventListener("touchend",f0)},u0=u=>{const a=gn();if(u.target===a||$c().contains(u.target)){a1=!0;const g=rg(u);ig=g.clientX,ag=g.clientY,lg=parseInt(a.style.insetInlineStart)||0,sg=parseInt(a.style.insetBlockStart)||0,_n(a,"swal2-dragging")}},c0=u=>{const a=gn();if(a1){let{clientX:g,clientY:v}=rg(u);a.style.insetInlineStart=`${lg+(g-ig)}px`,a.style.insetBlockStart=`${sg+(v-ag)}px`}},f0=()=>{const u=gn();a1=!1,_s(u,"swal2-dragging")},rg=u=>{let a=0,g=0;return u.type.startsWith("mouse")?(a=u.clientX,g=u.clientY):u.type.startsWith("touch")&&(a=u.touches[0].clientX,g=u.touches[0].clientY),{clientX:a,clientY:g}},z4=(u,a)=>{const g=el(),v=gn();if(!(!g||!v)){if(a.toast){ac(g,"width",a.width),v.style.width="100%";const x=ef();x&&v.insertBefore(x,$c())}else ac(v,"width",a.width);ac(v,"padding",a.padding),a.color&&(v.style.color=a.color),a.background&&(v.style.background=a.background),Ya(C0()),Y4(v,a),a.draggable&&!a.toast?(_n(v,Lt.draggable),L4(v)):(_s(v,Lt.draggable),B4(v))}},Y4=(u,a)=>{const g=a.showClass||{};u.className=`${Lt.popup} ${xl(u)?g.popup:""}`,a.toast?(_n([document.documentElement,document.body],Lt["toast-shown"]),_n(u,Lt.toast)):_n(u,Lt.modal),ql(u,a,"popup"),typeof a.customClass=="string"&&_n(u,a.customClass),a.icon&&_n(u,Lt[`icon-${a.icon}`])},U4=(u,a)=>{const g=Kp();if(!g)return;const{progressSteps:v,currentProgressStep:x}=a;if(!v||v.length===0||x===void 0){Ya(g);return}ha(g),g.textContent="",x>=v.length&&tl("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),v.forEach((b,O)=>{const S=G4(b);if(g.appendChild(S),O===x&&_n(S,Lt["active-progress-step"]),O!==v.length-1){const w=X4(a);g.appendChild(w)}})},G4=u=>{const a=document.createElement("li");return _n(a,Lt["progress-step"]),Vl(a,u),a},X4=u=>{const a=document.createElement("li");return _n(a,Lt["progress-step-line"]),u.progressStepsDistance&&ac(a,"width",u.progressStepsDistance),a},H4=(u,a)=>{const g=Q2();g&&(t1(g),qh(g,!!(a.title||a.titleText),"block"),a.title&&n1(a.title,g),a.titleText&&(g.innerText=a.titleText),ql(g,a,"title"))},og=(u,a)=>{z4(u,a),y4(u,a),U4(u,a),O4(u,a),R4(u,a),H4(u,a),g4(u,a),A4(u,a),d4(u,a),N4(u,a);const g=gn();typeof a.didRender=="function"&&g&&a.didRender(g),me.eventEmitter.emit("didRender",g)},j4=()=>xl(gn()),ug=()=>{var u;return(u=Hr())===null||u===void 0?void 0:u.click()},q4=()=>{var u;return(u=rc())===null||u===void 0?void 0:u.click()},F4=()=>{var u;return(u=tf())===null||u===void 0?void 0:u.click()},nf=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),cg=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},V4=(u,a,g)=>{cg(u),a.toast||(u.keydownHandler=v=>k4(a,v,g),u.keydownTarget=a.keydownListenerCapture?window:gn(),u.keydownListenerCapture=a.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},zp=(u,a)=>{var g;const v=Wp();if(v.length){u=u+a,u===-2&&(u=v.length-1),u===v.length?u=0:u===-1&&(u=v.length-1),v[u].focus();return}(g=gn())===null||g===void 0||g.focus()},fg=["ArrowRight","ArrowDown"],I4=["ArrowLeft","ArrowUp"],k4=(u,a,g)=>{u&&(a.isComposing||a.keyCode===229||(u.stopKeydownPropagation&&a.stopPropagation(),a.key==="Enter"?Z4(a,u):a.key==="Tab"?Q4(a):[...fg,...I4].includes(a.key)?K4(a.key):a.key==="Escape"&&J4(a,u,g)))},Z4=(u,a)=>{if(!x0(a.allowEnterKey))return;const g=T0(gn(),a.input);if(u.target&&g&&u.target instanceof HTMLElement&&u.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(a.input))return;ug(),u.preventDefault()}},Q4=u=>{const a=u.target,g=Wp();let v=-1;for(let x=0;x<g.length;x++)if(a===g[x]){v=x;break}u.shiftKey?zp(v,-1):zp(v,1),u.stopPropagation(),u.preventDefault()},K4=u=>{const a=jh(),g=Hr(),v=rc(),x=tf();if(!a||!g||!v||!x)return;const b=[g,v,x];if(document.activeElement instanceof HTMLElement&&!b.includes(document.activeElement))return;const O=fg.includes(u)?"nextElementSibling":"previousElementSibling";let S=document.activeElement;if(S){for(let w=0;w<a.children.length;w++){if(S=S[O],!S)return;if(S instanceof HTMLButtonElement&&xl(S))break}S instanceof HTMLButtonElement&&S.focus()}},J4=(u,a,g)=>{u.preventDefault(),x0(a.allowEscapeKey)&&g(nf.esc)};var Jc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const W4=()=>{const u=el();Array.from(document.body.children).forEach(g=>{g.contains(u)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},hg=()=>{Array.from(document.body.children).forEach(a=>{a.hasAttribute("data-previous-aria-hidden")?(a.setAttribute("aria-hidden",a.getAttribute("data-previous-aria-hidden")||""),a.removeAttribute("data-previous-aria-hidden")):a.removeAttribute("aria-hidden")})},dg=typeof window<"u"&&!!window.GestureEvent,$4=()=>{if(dg&&!Do(document.body,Lt.iosfix)){const u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,_n(document.body,Lt.iosfix),t3()}},t3=()=>{const u=el();if(!u)return;let a;u.ontouchstart=g=>{a=e3(g)},u.ontouchmove=g=>{a&&(g.preventDefault(),g.stopPropagation())}},e3=u=>{const a=u.target,g=el(),v=Qp();return!g||!v||n3(u)||i3(u)?!1:a===g||!Bp(g)&&a instanceof HTMLElement&&!e4(a,v)&&a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!(Bp(v)&&v.contains(a))},n3=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",i3=u=>u.touches&&u.touches.length>1,a3=()=>{if(Do(document.body,Lt.iosfix)){const u=parseInt(document.body.style.top,10);_s(document.body,Lt.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},l3=()=>{const u=document.createElement("div");u.className=Lt["scrollbar-measure"],document.body.appendChild(u);const a=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),a};let Zc=null;const s3=u=>{Zc===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Zc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Zc+l3()}px`)},r3=()=>{Zc!==null&&(document.body.style.paddingRight=`${Zc}px`,Zc=null)};function pg(u,a,g,v){E0()?T2(u,v):(V5(g).then(()=>T2(u,v)),cg(me)),dg?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),$p()&&(r3(),a3(),hg()),o3()}function o3(){_s([document.documentElement,document.body],[Lt.shown,Lt["height-auto"],Lt["no-backdrop"],Lt["toast-shown"]])}function bu(u){u=c3(u);const a=Jc.swalPromiseResolve.get(this),g=u3(this);this.isAwaitingPromise?u.isDismissed||(Vh(this),a(u)):g&&a(u)}const u3=u=>{const a=gn();if(!a)return!1;const g=Zn.innerParams.get(u);if(!g||Do(a,g.hideClass.popup))return!1;_s(a,g.showClass.popup),_n(a,g.hideClass.popup);const v=el();return _s(v,g.showClass.backdrop),_n(v,g.hideClass.backdrop),f3(u,a,g),!0};function mg(u){const a=Jc.swalPromiseReject.get(this);Vh(this),a&&a(u)}const Vh=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,Zn.innerParams.get(u)||u._destroy())},c3=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),f3=(u,a,g)=>{var v;const x=el(),b=tg(a);typeof g.willClose=="function"&&g.willClose(a),(v=me.eventEmitter)===null||v===void 0||v.emit("willClose",a),b?h3(u,a,x,g.returnFocus,g.didClose):pg(u,x,g.returnFocus,g.didClose)},h3=(u,a,g,v,x)=>{me.swalCloseEventFinishedCallback=pg.bind(null,u,g,v,x);const b=function(O){if(O.target===a){var S;(S=me.swalCloseEventFinishedCallback)===null||S===void 0||S.call(me),delete me.swalCloseEventFinishedCallback,a.removeEventListener("animationend",b),a.removeEventListener("transitionend",b)}};a.addEventListener("animationend",b),a.addEventListener("transitionend",b)},T2=(u,a)=>{setTimeout(()=>{var g;typeof a=="function"&&a.bind(u.params)(),(g=me.eventEmitter)===null||g===void 0||g.emit("didClose"),u._destroy&&u._destroy()})},Wc=u=>{let a=gn();if(a||new le,a=gn(),!a)return;const g=ef();E0()?Ya($c()):d3(a,u),ha(g),a.setAttribute("data-loading","true"),a.setAttribute("aria-busy","true"),a.focus()},d3=(u,a)=>{const g=jh(),v=ef();!g||!v||(!a&&xl(Hr())&&(a=Hr()),ha(g),a&&(Ya(a),v.setAttribute("data-button-to-replace",a.className),g.insertBefore(v,a)),_n([u,g],Lt.loading))},p3=(u,a)=>{a.input==="select"||a.input==="radio"?b3(u,a):["text","email","number","tel","textarea"].some(g=>g===a.input)&&(kp(a.inputValue)||Zp(a.inputValue))&&(Wc(Hr()),S3(u,a))},m3=(u,a)=>{const g=u.getInput();if(!g)return null;switch(a.input){case"checkbox":return g3(g);case"radio":return y3(g);case"file":return v3(g);default:return a.inputAutoTrim?g.value.trim():g.value}},g3=u=>u.checked?1:0,y3=u=>u.checked?u.value:null,v3=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,b3=(u,a)=>{const g=gn();if(!g)return;const v=x=>{a.input==="select"?_3(g,h0(x),a):a.input==="radio"&&x3(g,h0(x),a)};kp(a.inputOptions)||Zp(a.inputOptions)?(Wc(Hr()),Xh(a.inputOptions).then(x=>{u.hideLoading(),v(x)})):typeof a.inputOptions=="object"?v(a.inputOptions):sc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof a.inputOptions}`)},S3=(u,a)=>{const g=u.getInput();g&&(Ya(g),Xh(a.inputValue).then(v=>{g.value=a.input==="number"?`${parseFloat(v)||0}`:`${v}`,ha(g),g.focus(),u.hideLoading()}).catch(v=>{sc(`Error in inputValue promise: ${v}`),g.value="",ha(g),g.focus(),u.hideLoading()}))};function _3(u,a,g){const v=vu(u,Lt.select);if(!v)return;const x=(b,O,S)=>{const w=document.createElement("option");w.value=S,Vl(w,O),w.selected=gg(S,g.inputValue),b.appendChild(w)};a.forEach(b=>{const O=b[0],S=b[1];if(Array.isArray(S)){const w=document.createElement("optgroup");w.label=O,w.disabled=!1,v.appendChild(w),S.forEach(N=>x(w,N[1],N[0]))}else x(v,S,O)}),v.focus()}function x3(u,a,g){const v=vu(u,Lt.radio);if(!v)return;a.forEach(b=>{const O=b[0],S=b[1],w=document.createElement("input"),N=document.createElement("label");w.type="radio",w.name=Lt.radio,w.value=O,gg(O,g.inputValue)&&(w.checked=!0);const z=document.createElement("span");Vl(z,S),z.className=Lt.label,N.appendChild(w),N.appendChild(z),v.appendChild(N)});const x=v.querySelectorAll("input");x.length&&x[0].focus()}const h0=u=>{const a=[];return u instanceof Map?u.forEach((g,v)=>{let x=g;typeof x=="object"&&(x=h0(x)),a.push([v,x])}):Object.keys(u).forEach(g=>{let v=u[g];typeof v=="object"&&(v=h0(v)),a.push([g,v])}),a},gg=(u,a)=>!!a&&a.toString()===u.toString(),C3=u=>{const a=Zn.innerParams.get(u);u.disableButtons(),a.input?yg(u,"confirm"):s1(u,!0)},w3=u=>{const a=Zn.innerParams.get(u);u.disableButtons(),a.returnInputValueOnDeny?yg(u,"deny"):l1(u,!1)},E3=(u,a)=>{u.disableButtons(),a(nf.cancel)},yg=(u,a)=>{const g=Zn.innerParams.get(u);if(!g.input){sc(`The "input" parameter is needed to be set when using returnInputValueOn${Ip(a)}`);return}const v=u.getInput(),x=m3(u,g);g.inputValidator?T3(u,x,a):v&&!v.checkValidity()?(u.enableButtons(),u.showValidationMessage(g.validationMessage||v.validationMessage)):a==="deny"?l1(u,x):s1(u,x)},T3=(u,a,g)=>{const v=Zn.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>Xh(v.inputValidator(a,v.validationMessage))).then(b=>{u.enableButtons(),u.enableInput(),b?u.showValidationMessage(b):g==="deny"?l1(u,a):s1(u,a)})},l1=(u,a)=>{const g=Zn.innerParams.get(u||void 0);g.showLoaderOnDeny&&Wc(rc()),g.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>Xh(g.preDeny(a,g.validationMessage))).then(x=>{x===!1?(u.hideLoading(),Vh(u)):u.close({isDenied:!0,value:typeof x>"u"?a:x})}).catch(x=>vg(u||void 0,x))):u.close({isDenied:!0,value:a})},A2=(u,a)=>{u.close({isConfirmed:!0,value:a})},vg=(u,a)=>{u.rejectPromise(a)},s1=(u,a)=>{const g=Zn.innerParams.get(u||void 0);g.showLoaderOnConfirm&&Wc(),g.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>Xh(g.preConfirm(a,g.validationMessage))).then(x=>{xl(C0())||x===!1?(u.hideLoading(),Vh(u)):A2(u,typeof x>"u"?a:x)}).catch(x=>vg(u||void 0,x))):A2(u,a)};function d0(){const u=Zn.innerParams.get(this);if(!u)return;const a=Zn.domCache.get(this);Ya(a.loader),E0()?u.icon&&ha($c()):A3(a),_s([a.popup,a.actions],Lt.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}const A3=u=>{const a=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));a.length?ha(a[0],"inline-block"):t4()&&Ya(u.actions)};function bg(){const u=Zn.innerParams.get(this),a=Zn.domCache.get(this);return a?T0(a.popup,u.input):null}function Sg(u,a,g){const v=Zn.domCache.get(u);a.forEach(x=>{v[x].disabled=g})}function _g(u,a){const g=gn();if(!(!g||!u))if(u.type==="radio"){const v=g.querySelectorAll(`[name="${Lt.radio}"]`);for(let x=0;x<v.length;x++)v[x].disabled=a}else u.disabled=a}function xg(){Sg(this,["confirmButton","denyButton","cancelButton"],!1)}function Cg(){Sg(this,["confirmButton","denyButton","cancelButton"],!0)}function wg(){_g(this.getInput(),!1)}function Eg(){_g(this.getInput(),!0)}function Tg(u){const a=Zn.domCache.get(this),g=Zn.innerParams.get(this);Vl(a.validationMessage,u),a.validationMessage.className=Lt["validation-message"],g.customClass&&g.customClass.validationMessage&&_n(a.validationMessage,g.customClass.validationMessage),ha(a.validationMessage);const v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",Lt["validation-message"]),W2(v),_n(v,Lt.inputerror))}function Ag(){const u=Zn.domCache.get(this);u.validationMessage&&Ya(u.validationMessage);const a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),_s(a,Lt.inputerror))}const Qc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},N3=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],O3={allowEnterKey:void 0},M3=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ng=u=>Object.prototype.hasOwnProperty.call(Qc,u),Og=u=>N3.indexOf(u)!==-1,Mg=u=>O3[u],D3=u=>{Ng(u)||tl(`Unknown parameter "${u}"`)},P3=u=>{M3.includes(u)&&tl(`The parameter "${u}" is incompatible with toasts`)},R3=u=>{const a=Mg(u);a&&Z2(u,a)},Dg=u=>{u.backdrop===!1&&u.allowOutsideClick&&tl('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),u.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(u.theme)&&tl(`Invalid theme "${u.theme}"`);for(const a in u)D3(a),u.toast&&P3(a),R3(a)};function Pg(u){const a=el(),g=gn(),v=Zn.innerParams.get(this);if(!g||Do(g,v.hideClass.popup)){tl("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const x=L3(u),b=Object.assign({},v,x);Dg(b),a.dataset.swal2Theme=b.theme,og(this,b),Zn.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}const L3=u=>{const a={};return Object.keys(u).forEach(g=>{Og(g)?a[g]=u[g]:tl(`Invalid parameter to update: ${g}`)}),a};function Rg(){const u=Zn.domCache.get(this),a=Zn.innerParams.get(this);if(!a){Lg(this);return}u.popup&&me.swalCloseEventFinishedCallback&&(me.swalCloseEventFinishedCallback(),delete me.swalCloseEventFinishedCallback),typeof a.didDestroy=="function"&&a.didDestroy(),me.eventEmitter.emit("didDestroy"),B3(this)}const B3=u=>{Lg(u),delete u.params,delete me.keydownHandler,delete me.keydownTarget,delete me.currentInstance},Lg=u=>{u.isAwaitingPromise?(Ap(Zn,u),u.isAwaitingPromise=!0):(Ap(Jc,u),Ap(Zn,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},Ap=(u,a)=>{for(const g in u)u[g].delete(a)};var z3=Object.freeze({__proto__:null,_destroy:Rg,close:bu,closeModal:bu,closePopup:bu,closeToast:bu,disableButtons:Cg,disableInput:Eg,disableLoading:d0,enableButtons:xg,enableInput:wg,getInput:bg,handleAwaitingPromise:Vh,hideLoading:d0,rejectPromise:mg,resetValidationMessage:Ag,showValidationMessage:Tg,update:Pg});const Y3=(u,a,g)=>{u.toast?U3(u,a,g):(X3(a),H3(a),j3(u,a,g))},U3=(u,a,g)=>{a.popup.onclick=()=>{u&&(G3(u)||u.timer||u.input)||g(nf.close)}},G3=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton);let p0=!1;const X3=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(a){u.container.onmouseup=()=>{},a.target===u.container&&(p0=!0)}}},H3=u=>{u.container.onmousedown=a=>{a.target===u.container&&a.preventDefault(),u.popup.onmouseup=function(g){u.popup.onmouseup=()=>{},(g.target===u.popup||g.target instanceof HTMLElement&&u.popup.contains(g.target))&&(p0=!0)}}},j3=(u,a,g)=>{a.container.onclick=v=>{if(p0){p0=!1;return}v.target===a.container&&x0(u.allowOutsideClick)&&g(nf.backdrop)}},q3=u=>typeof u=="object"&&u.jquery,N2=u=>u instanceof Element||q3(u),F3=u=>{const a={};return typeof u[0]=="object"&&!N2(u[0])?Object.assign(a,u[0]):["title","html","icon"].forEach((g,v)=>{const x=u[v];typeof x=="string"||N2(x)?a[g]=x:x!==void 0&&sc(`Unexpected type of ${g}! Expected "string" or "Element", got ${typeof x}`)}),a};function V3(...u){return new this(...u)}function I3(u){class a extends this{_main(v,x){return super._main(v,Object.assign({},u,x))}}return a}const k3=()=>me.timeout&&me.timeout.getTimerLeft(),Bg=()=>{if(me.timeout)return n4(),me.timeout.stop()},zg=()=>{if(me.timeout){const u=me.timeout.start();return e1(u),u}},Z3=()=>{const u=me.timeout;return u&&(u.running?Bg():zg())},Q3=u=>{if(me.timeout){const a=me.timeout.increase(u);return e1(a,!0),a}},K3=()=>!!(me.timeout&&me.timeout.isRunning());let O2=!1;const Yp={};function J3(u="data-swal-template"){Yp[u]=this,O2||(document.body.addEventListener("click",W3),O2=!0)}const W3=u=>{for(let a=u.target;a&&a!==document;a=a.parentNode)for(const g in Yp){const v=a.getAttribute(g);if(v){Yp[g].fire({template:v});return}}};class $3{constructor(){this.events={}}_getHandlersByEventName(a){return typeof this.events[a]>"u"&&(this.events[a]=[]),this.events[a]}on(a,g){const v=this._getHandlersByEventName(a);v.includes(g)||v.push(g)}once(a,g){const v=(...x)=>{this.removeListener(a,v),g.apply(this,x)};this.on(a,v)}emit(a,...g){this._getHandlersByEventName(a).forEach(v=>{try{v.apply(this,g)}catch(x){console.error(x)}})}removeListener(a,g){const v=this._getHandlersByEventName(a),x=v.indexOf(g);x>-1&&v.splice(x,1)}removeAllListeners(a){this.events[a]!==void 0&&(this.events[a].length=0)}reset(){this.events={}}}me.eventEmitter=new $3;const tb=(u,a)=>{me.eventEmitter.on(u,a)},eb=(u,a)=>{me.eventEmitter.once(u,a)},nb=(u,a)=>{if(!u){me.eventEmitter.reset();return}a?me.eventEmitter.removeListener(u,a):me.eventEmitter.removeAllListeners(u)};var ib=Object.freeze({__proto__:null,argsToParams:F3,bindClickHandler:J3,clickCancel:F4,clickConfirm:ug,clickDeny:q4,enableLoading:Wc,fire:V3,getActions:jh,getCancelButton:tf,getCloseButton:Jp,getConfirmButton:Hr,getContainer:el,getDenyButton:rc,getFocusableElements:Wp,getFooter:J2,getHtmlContainer:Qp,getIcon:$c,getIconContent:Q5,getImage:K2,getInputLabel:K5,getLoader:ef,getPopup:gn,getProgressSteps:Kp,getTimerLeft:k3,getTimerProgressBar:w0,getTitle:Q2,getValidationMessage:C0,increaseTimer:Q3,isDeprecatedParameter:Mg,isLoading:W5,isTimerRunning:K3,isUpdatableParameter:Og,isValidParameter:Ng,isVisible:j4,mixin:I3,off:nb,on:tb,once:eb,resumeTimer:zg,showLoading:Wc,stopTimer:Bg,toggleTimer:Z3});class ab{constructor(a,g){this.callback=a,this.remaining=g,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(a){const g=this.running;return g&&this.stop(),this.remaining+=a,g&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yg=["swal-title","swal-html","swal-footer"],lb=u=>{const a=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!a)return{};const g=a.content;return db(g),Object.assign(sb(g),rb(g),ob(g),ub(g),cb(g),fb(g),hb(g,Yg))},sb=u=>{const a={};return Array.from(u.querySelectorAll("swal-param")).forEach(v=>{lc(v,["name","value"]);const x=v.getAttribute("name"),b=v.getAttribute("value");!x||!b||(typeof Qc[x]=="boolean"?a[x]=b!=="false":typeof Qc[x]=="object"?a[x]=JSON.parse(b):a[x]=b)}),a},rb=u=>{const a={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(v=>{const x=v.getAttribute("name"),b=v.getAttribute("value");!x||!b||(a[x]=new Function(`return ${b}`)())}),a},ob=u=>{const a={};return Array.from(u.querySelectorAll("swal-button")).forEach(v=>{lc(v,["type","color","aria-label"]);const x=v.getAttribute("type");!x||!["confirm","cancel","deny"].includes(x)||(a[`${x}ButtonText`]=v.innerHTML,a[`show${Ip(x)}Button`]=!0,v.hasAttribute("color")&&(a[`${x}ButtonColor`]=v.getAttribute("color")),v.hasAttribute("aria-label")&&(a[`${x}ButtonAriaLabel`]=v.getAttribute("aria-label")))}),a},ub=u=>{const a={},g=u.querySelector("swal-image");return g&&(lc(g,["src","width","height","alt"]),g.hasAttribute("src")&&(a.imageUrl=g.getAttribute("src")||void 0),g.hasAttribute("width")&&(a.imageWidth=g.getAttribute("width")||void 0),g.hasAttribute("height")&&(a.imageHeight=g.getAttribute("height")||void 0),g.hasAttribute("alt")&&(a.imageAlt=g.getAttribute("alt")||void 0)),a},cb=u=>{const a={},g=u.querySelector("swal-icon");return g&&(lc(g,["type","color"]),g.hasAttribute("type")&&(a.icon=g.getAttribute("type")),g.hasAttribute("color")&&(a.iconColor=g.getAttribute("color")),a.iconHtml=g.innerHTML),a},fb=u=>{const a={},g=u.querySelector("swal-input");g&&(lc(g,["type","label","placeholder","value"]),a.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(a.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(a.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(a.inputValue=g.getAttribute("value")));const v=Array.from(u.querySelectorAll("swal-input-option"));return v.length&&(a.inputOptions={},v.forEach(x=>{lc(x,["value"]);const b=x.getAttribute("value");if(!b)return;const O=x.innerHTML;a.inputOptions[b]=O})),a},hb=(u,a)=>{const g={};for(const v in a){const x=a[v],b=u.querySelector(x);b&&(lc(b,[]),g[x.replace(/^swal-/,"")]=b.innerHTML.trim())}return g},db=u=>{const a=Yg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(g=>{const v=g.tagName.toLowerCase();a.includes(v)||tl(`Unrecognized element <${v}>`)})},lc=(u,a)=>{Array.from(u.attributes).forEach(g=>{a.indexOf(g.name)===-1&&tl([`Unrecognized attribute "${g.name}" on <${u.tagName.toLowerCase()}>.`,`${a.length?`Allowed attributes are: ${a.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ug=10,pb=u=>{const a=el(),g=gn();typeof u.willOpen=="function"&&u.willOpen(g),me.eventEmitter.emit("willOpen",g);const x=window.getComputedStyle(document.body).overflowY;yb(a,g,u),setTimeout(()=>{mb(a,g)},Ug),$p()&&(gb(a,u.scrollbarPadding,x),W4()),!E0()&&!me.previousActiveElement&&(me.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(g)),me.eventEmitter.emit("didOpen",g)},m0=u=>{const a=gn();if(u.target!==a)return;const g=el();a.removeEventListener("animationend",m0),a.removeEventListener("transitionend",m0),g.style.overflowY="auto",_s(g,Lt["no-transition"])},mb=(u,a)=>{tg(a)?(u.style.overflowY="hidden",a.addEventListener("animationend",m0),a.addEventListener("transitionend",m0)):u.style.overflowY="auto"},gb=(u,a,g)=>{$4(),a&&g!=="hidden"&&s3(g),setTimeout(()=>{u.scrollTop=0})},yb=(u,a,g)=>{_n(u,g.showClass.backdrop),g.animation?(a.style.setProperty("opacity","0","important"),ha(a,"grid"),setTimeout(()=>{_n(a,g.showClass.popup),a.style.removeProperty("opacity")},Ug)):ha(a,"grid"),_n([document.documentElement,document.body],Lt.shown),g.heightAuto&&g.backdrop&&!g.toast&&_n([document.documentElement,document.body],Lt["height-auto"])};var M2={email:(u,a)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(a||"Invalid email address"),url:(u,a)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(a||"Invalid URL")};function vb(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=M2.email),u.input==="url"&&(u.inputValidator=M2.url))}function bb(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(tl('Target parameter is not valid, defaulting to "body"'),u.target="body")}function Sb(u){vb(u),u.showLoaderOnConfirm&&!u.preConfirm&&tl(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bb(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),c4(u)}let Xr;var i0=new WeakMap;class Li{constructor(...a){if(H5(this,i0,void 0),typeof window>"u")return;Xr=this;const g=Object.freeze(this.constructor.argsToParams(a));this.params=g,this.isAwaitingPromise=!1,j5(i0,this,this._main(Xr.params))}_main(a,g={}){if(Dg(Object.assign({},g,a)),me.currentInstance){const b=Jc.swalPromiseResolve.get(me.currentInstance),{isAwaitingPromise:O}=me.currentInstance;me.currentInstance._destroy(),O||b({isDismissed:!0}),$p()&&hg()}me.currentInstance=Xr;const v=xb(a,g);Sb(v),Object.freeze(v),me.timeout&&(me.timeout.stop(),delete me.timeout),clearTimeout(me.restoreFocusTimeout);const x=Cb(Xr);return og(Xr,v),Zn.innerParams.set(Xr,v),_b(Xr,x,v)}then(a){return S2(i0,this).then(a)}finally(a){return S2(i0,this).finally(a)}}const _b=(u,a,g)=>new Promise((v,x)=>{const b=O=>{u.close({isDismissed:!0,dismiss:O,isConfirmed:!1,isDenied:!1})};Jc.swalPromiseResolve.set(u,v),Jc.swalPromiseReject.set(u,x),a.confirmButton.onclick=()=>{C3(u)},a.denyButton.onclick=()=>{w3(u)},a.cancelButton.onclick=()=>{E3(u,b)},a.closeButton.onclick=()=>{b(nf.close)},Y3(g,a,b),V4(me,g,b),p3(u,g),pb(g),wb(me,g,b),Eb(a,g),setTimeout(()=>{a.container.scrollTop=0})}),xb=(u,a)=>{const g=lb(u),v=Object.assign({},Qc,a,g,u);return v.showClass=Object.assign({},Qc.showClass,v.showClass),v.hideClass=Object.assign({},Qc.hideClass,v.hideClass),v.animation===!1&&(v.showClass={backdrop:"swal2-noanimation"},v.hideClass={}),v},Cb=u=>{const a={popup:gn(),container:el(),actions:jh(),confirmButton:Hr(),denyButton:rc(),cancelButton:tf(),loader:ef(),closeButton:Jp(),validationMessage:C0(),progressSteps:Kp()};return Zn.domCache.set(u,a),a},wb=(u,a,g)=>{const v=w0();Ya(v),a.timer&&(u.timeout=new ab(()=>{g("timer"),delete u.timeout},a.timer),a.timerProgressBar&&(ha(v),ql(v,a,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&e1(a.timer)})))},Eb=(u,a)=>{if(!a.toast){if(!x0(a.allowEnterKey)){Z2("allowEnterKey"),Nb();return}Tb(u)||Ab(u,a)||zp(-1,1)}},Tb=u=>{const a=Array.from(u.popup.querySelectorAll("[autofocus]"));for(const g of a)if(g instanceof HTMLElement&&xl(g))return g.focus(),!0;return!1},Ab=(u,a)=>a.focusDeny&&xl(u.denyButton)?(u.denyButton.focus(),!0):a.focusCancel&&xl(u.cancelButton)?(u.cancelButton.focus(),!0):a.focusConfirm&&xl(u.confirmButton)?(u.confirmButton.focus(),!0):!1,Nb=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Li.prototype.disableButtons=Cg;Li.prototype.enableButtons=xg;Li.prototype.getInput=bg;Li.prototype.disableInput=Eg;Li.prototype.enableInput=wg;Li.prototype.hideLoading=d0;Li.prototype.disableLoading=d0;Li.prototype.showValidationMessage=Tg;Li.prototype.resetValidationMessage=Ag;Li.prototype.close=bu;Li.prototype.closePopup=bu;Li.prototype.closeModal=bu;Li.prototype.closeToast=bu;Li.prototype.rejectPromise=mg;Li.prototype.update=Pg;Li.prototype._destroy=Rg;Object.assign(Li,ib);Object.keys(z3).forEach(u=>{Li[u]=function(...a){return Xr&&Xr[u]?Xr[u](...a):null}});Li.DismissReason=nf;Li.version="11.26.2";const le=Li;le.default=le;typeof document<"u"&&(function(u,a){var g=u.createElement("style");if(u.getElementsByTagName("head")[0].appendChild(g),g.styleSheet)g.styleSheet.disabled||(g.styleSheet.cssText=a);else try{g.innerHTML=a}catch{g.innerText=a}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Np={exports:{}},D2;function Ob(){return D2||(D2=1,(function(u){(function(){var a={};a.version="6.4.2.2",a.use_lines=!0,a.use_xyz=!1;var g=!1;u.exports?(u.exports=a,g=!0):typeof document<"u"?window.ClipperLib=a:self.ClipperLib=a;var v;if(g){var x="chrome";v="Netscape"}else{var x=navigator.userAgent.toString().toLowerCase();v=navigator.appName}var b={};x.indexOf("chrome")!=-1&&x.indexOf("chromium")==-1?b.chrome=1:b.chrome=0,x.indexOf("chromium")!=-1?b.chromium=1:b.chromium=0,x.indexOf("safari")!=-1&&x.indexOf("chrome")==-1&&x.indexOf("chromium")==-1?b.safari=1:b.safari=0,x.indexOf("firefox")!=-1?b.firefox=1:b.firefox=0,x.indexOf("firefox/17")!=-1?b.firefox17=1:b.firefox17=0,x.indexOf("firefox/15")!=-1?b.firefox15=1:b.firefox15=0,x.indexOf("firefox/3")!=-1?b.firefox3=1:b.firefox3=0,x.indexOf("opera")!=-1?b.opera=1:b.opera=0,x.indexOf("msie 10")!=-1?b.msie10=1:b.msie10=0,x.indexOf("msie 9")!=-1?b.msie9=1:b.msie9=0,x.indexOf("msie 8")!=-1?b.msie8=1:b.msie8=0,x.indexOf("msie 7")!=-1?b.msie7=1:b.msie7=0,x.indexOf("msie ")!=-1?b.msie=1:b.msie=0,a.biginteger_used=null;var O;function S(s,o,f){a.biginteger_used=1,s!=null&&(typeof s=="number"&&typeof o>"u"?this.fromInt(s):typeof s=="number"?this.fromNumber(s,o,f):o==null&&typeof s!="string"?this.fromString(s,256):this.fromString(s,o))}function w(){return new S(null,void 0,void 0)}function N(s,o,f,p,_,Y){for(;--Y>=0;){var Q=o*this[s++]+f[p]+_;_=Math.floor(Q/67108864),f[p++]=Q&67108863}return _}function z(s,o,f,p,_,Y){for(var Q=o&32767,st=o>>15;--Y>=0;){var ot=this[s]&32767,bt=this[s++]>>15,qt=st*ot+bt*Q;ot=Q*ot+((qt&32767)<<15)+f[p]+(_&1073741823),_=(ot>>>30)+(qt>>>15)+st*bt+(_>>>30),f[p++]=ot&1073741823}return _}function F(s,o,f,p,_,Y){for(var Q=o&16383,st=o>>14;--Y>=0;){var ot=this[s]&16383,bt=this[s++]>>14,qt=st*ot+bt*Q;ot=Q*ot+((qt&16383)<<14)+f[p]+_,_=(ot>>28)+(qt>>14)+st*bt,f[p++]=ot&268435455}return _}v=="Microsoft Internet Explorer"?(S.prototype.am=z,O=30):v!="Netscape"?(S.prototype.am=N,O=26):(S.prototype.am=F,O=28),S.prototype.DB=O,S.prototype.DM=(1<<O)-1,S.prototype.DV=1<<O;var X=52;S.prototype.FV=Math.pow(2,X),S.prototype.F1=X-O,S.prototype.F2=2*O-X;var P="0123456789abcdefghijklmnopqrstuvwxyz",D=new Array,G,U;for(G=48,U=0;U<=9;++U)D[G++]=U;for(G=97,U=10;U<36;++U)D[G++]=U;for(G=65,U=10;U<36;++U)D[G++]=U;function J(s){return P.charAt(s)}function E(s,o){var f=D[s.charCodeAt(o)];return f??-1}function T(s){for(var o=this.t-1;o>=0;--o)s[o]=this[o];s.t=this.t,s.s=this.s}function H(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0}function V(s){var o=w();return o.fromInt(s),o}function $(s,o){var f;if(o==16)f=4;else if(o==8)f=3;else if(o==256)f=8;else if(o==2)f=1;else if(o==32)f=5;else if(o==4)f=2;else{this.fromRadix(s,o);return}this.t=0,this.s=0;for(var p=s.length,_=!1,Y=0;--p>=0;){var Q=f==8?s[p]&255:E(s,p);if(Q<0){s.charAt(p)=="-"&&(_=!0);continue}_=!1,Y==0?this[this.t++]=Q:Y+f>this.DB?(this[this.t-1]|=(Q&(1<<this.DB-Y)-1)<<Y,this[this.t++]=Q>>this.DB-Y):this[this.t-1]|=Q<<Y,Y+=f,Y>=this.DB&&(Y-=this.DB)}f==8&&(s[0]&128)!=0&&(this.s=-1,Y>0&&(this[this.t-1]|=(1<<this.DB-Y)-1<<Y)),this.clamp(),_&&S.ZERO.subTo(this,this)}function ft(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t}function nt(s){if(this.s<0)return"-"+this.negate().toString(s);var o;if(s==16)o=4;else if(s==8)o=3;else if(s==2)o=1;else if(s==32)o=5;else if(s==4)o=2;else return this.toRadix(s);var f=(1<<o)-1,p,_=!1,Y="",Q=this.t,st=this.DB-Q*this.DB%o;if(Q-- >0)for(st<this.DB&&(p=this[Q]>>st)>0&&(_=!0,Y=J(p));Q>=0;)st<o?(p=(this[Q]&(1<<st)-1)<<o-st,p|=this[--Q]>>(st+=this.DB-o)):(p=this[Q]>>(st-=o)&f,st<=0&&(st+=this.DB,--Q)),p>0&&(_=!0),_&&(Y+=J(p));return _?Y:"0"}function k(){var s=w();return S.ZERO.subTo(this,s),s}function I(){return this.s<0?this.negate():this}function it(s){var o=this.s-s.s;if(o!=0)return o;var f=this.t;if(o=f-s.t,o!=0)return this.s<0?-o:o;for(;--f>=0;)if((o=this[f]-s[f])!=0)return o;return 0}function dt(s){var o=1,f;return(f=s>>>16)!=0&&(s=f,o+=16),(f=s>>8)!=0&&(s=f,o+=8),(f=s>>4)!=0&&(s=f,o+=4),(f=s>>2)!=0&&(s=f,o+=2),(f=s>>1)!=0&&(s=f,o+=1),o}function M(){return this.t<=0?0:this.DB*(this.t-1)+dt(this[this.t-1]^this.s&this.DM)}function Z(s,o){var f;for(f=this.t-1;f>=0;--f)o[f+s]=this[f];for(f=s-1;f>=0;--f)o[f]=0;o.t=this.t+s,o.s=this.s}function j(s,o){for(var f=s;f<this.t;++f)o[f-s]=this[f];o.t=Math.max(this.t-s,0),o.s=this.s}function W(s,o){var f=s%this.DB,p=this.DB-f,_=(1<<p)-1,Y=Math.floor(s/this.DB),Q=this.s<<f&this.DM,st;for(st=this.t-1;st>=0;--st)o[st+Y+1]=this[st]>>p|Q,Q=(this[st]&_)<<f;for(st=Y-1;st>=0;--st)o[st]=0;o[Y]=Q,o.t=this.t+Y+1,o.s=this.s,o.clamp()}function at(s,o){o.s=this.s;var f=Math.floor(s/this.DB);if(f>=this.t){o.t=0;return}var p=s%this.DB,_=this.DB-p,Y=(1<<p)-1;o[0]=this[f]>>p;for(var Q=f+1;Q<this.t;++Q)o[Q-f-1]|=(this[Q]&Y)<<_,o[Q-f]=this[Q]>>p;p>0&&(o[this.t-f-1]|=(this.s&Y)<<_),o.t=this.t-f,o.clamp()}function mt(s,o){for(var f=0,p=0,_=Math.min(s.t,this.t);f<_;)p+=this[f]-s[f],o[f++]=p&this.DM,p>>=this.DB;if(s.t<this.t){for(p-=s.s;f<this.t;)p+=this[f],o[f++]=p&this.DM,p>>=this.DB;p+=this.s}else{for(p+=this.s;f<s.t;)p-=s[f],o[f++]=p&this.DM,p>>=this.DB;p-=s.s}o.s=p<0?-1:0,p<-1?o[f++]=this.DV+p:p>0&&(o[f++]=p),o.t=f,o.clamp()}function wt(s,o){var f=this.abs(),p=s.abs(),_=f.t;for(o.t=_+p.t;--_>=0;)o[_]=0;for(_=0;_<p.t;++_)o[_+f.t]=f.am(0,p[_],o,_,0,f.t);o.s=0,o.clamp(),this.s!=s.s&&S.ZERO.subTo(o,o)}function K(s){for(var o=this.abs(),f=s.t=2*o.t;--f>=0;)s[f]=0;for(f=0;f<o.t-1;++f){var p=o.am(f,o[f],s,2*f,0,1);(s[f+o.t]+=o.am(f+1,2*o[f],s,2*f+1,p,o.t-f-1))>=o.DV&&(s[f+o.t]-=o.DV,s[f+o.t+1]=1)}s.t>0&&(s[s.t-1]+=o.am(f,o[f],s,2*f,0,1)),s.s=0,s.clamp()}function ht(s,o,f){var p=s.abs();if(!(p.t<=0)){var _=this.abs();if(_.t<p.t){o!=null&&o.fromInt(0),f!=null&&this.copyTo(f);return}f==null&&(f=w());var Y=w(),Q=this.s,st=s.s,ot=this.DB-dt(p[p.t-1]);ot>0?(p.lShiftTo(ot,Y),_.lShiftTo(ot,f)):(p.copyTo(Y),_.copyTo(f));var bt=Y.t,qt=Y[bt-1];if(qt!=0){var Ot=qt*(1<<this.F1)+(bt>1?Y[bt-2]>>this.F2:0),$t=this.FV/Ot,ce=(1<<this.F1)/Ot,_e=1<<this.F2,de=f.t,Je=de-bt,Gn=o??w();for(Y.dlShiftTo(Je,Gn),f.compareTo(Gn)>=0&&(f[f.t++]=1,f.subTo(Gn,f)),S.ONE.dlShiftTo(bt,Gn),Gn.subTo(Y,Y);Y.t<bt;)Y[Y.t++]=0;for(;--Je>=0;){var Kn=f[--de]==qt?this.DM:Math.floor(f[de]*$t+(f[de-1]+_e)*ce);if((f[de]+=Y.am(0,Kn,f,Je,0,bt))<Kn)for(Y.dlShiftTo(Je,Gn),f.subTo(Gn,f);f[de]<--Kn;)f.subTo(Gn,f)}o!=null&&(f.drShiftTo(bt,o),Q!=st&&S.ZERO.subTo(o,o)),f.t=bt,f.clamp(),ot>0&&f.rShiftTo(ot,f),Q<0&&S.ZERO.subTo(f,f)}}}function Nt(s){var o=w();return this.abs().divRemTo(s,null,o),this.s<0&&o.compareTo(S.ZERO)>0&&s.subTo(o,o),o}function yt(s){this.m=s}function Tt(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s}function Ht(s){return s}function Ft(s){s.divRemTo(this.m,null,s)}function ut(s,o,f){s.multiplyTo(o,f),this.reduce(f)}function _t(s,o){s.squareTo(o),this.reduce(o)}yt.prototype.convert=Tt,yt.prototype.revert=Ht,yt.prototype.reduce=Ft,yt.prototype.mulTo=ut,yt.prototype.sqrTo=_t;function jt(){if(this.t<1)return 0;var s=this[0];if((s&1)==0)return 0;var o=s&3;return o=o*(2-(s&15)*o)&15,o=o*(2-(s&255)*o)&255,o=o*(2-((s&65535)*o&65535))&65535,o=o*(2-s*o%this.DV)%this.DV,o>0?this.DV-o:-o}function zt(s){this.m=s,this.mp=s.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function te(s){var o=w();return s.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),s.s<0&&o.compareTo(S.ZERO)>0&&this.m.subTo(o,o),o}function ne(s){var o=w();return s.copyTo(o),this.reduce(o),o}function Se(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var o=0;o<this.m.t;++o){var f=s[o]&32767,p=f*this.mpl+((f*this.mph+(s[o]>>15)*this.mpl&this.um)<<15)&s.DM;for(f=o+this.m.t,s[f]+=this.m.am(0,p,s,o,0,this.m.t);s[f]>=s.DV;)s[f]-=s.DV,s[++f]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)}function Oe(s,o){s.squareTo(o),this.reduce(o)}function he(s,o,f){s.multiplyTo(o,f),this.reduce(f)}zt.prototype.convert=te,zt.prototype.revert=ne,zt.prototype.reduce=Se,zt.prototype.mulTo=he,zt.prototype.sqrTo=Oe;function xn(){return(this.t>0?this[0]&1:this.s)==0}function De(s,o){if(s>4294967295||s<1)return S.ONE;var f=w(),p=w(),_=o.convert(this),Y=dt(s)-1;for(_.copyTo(f);--Y>=0;)if(o.sqrTo(f,p),(s&1<<Y)>0)o.mulTo(p,_,f);else{var Q=f;f=p,p=Q}return o.revert(f)}function un(s,o){var f;return s<256||o.isEven()?f=new yt(o):f=new zt(o),this.exp(s,f)}S.prototype.copyTo=T,S.prototype.fromInt=H,S.prototype.fromString=$,S.prototype.clamp=ft,S.prototype.dlShiftTo=Z,S.prototype.drShiftTo=j,S.prototype.lShiftTo=W,S.prototype.rShiftTo=at,S.prototype.subTo=mt,S.prototype.multiplyTo=wt,S.prototype.squareTo=K,S.prototype.divRemTo=ht,S.prototype.invDigit=jt,S.prototype.isEven=xn,S.prototype.exp=De,S.prototype.toString=nt,S.prototype.negate=k,S.prototype.abs=I,S.prototype.compareTo=it,S.prototype.bitLength=M,S.prototype.mod=Nt,S.prototype.modPowInt=un,S.ZERO=V(0),S.ONE=V(1);function Ke(){var s=w();return this.copyTo(s),s}function tn(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function wi(){return this.t==0?this.s:this[0]<<24>>24}function en(){return this.t==0?this.s:this[0]<<16>>16}function Yn(s){return Math.floor(Math.LN2*this.DB/Math.log(s))}function cn(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function nn(s){if(s==null&&(s=10),this.signum()==0||s<2||s>36)return"0";var o=this.chunkSize(s),f=Math.pow(s,o),p=V(f),_=w(),Y=w(),Q="";for(this.divRemTo(p,_,Y);_.signum()>0;)Q=(f+Y.intValue()).toString(s).substr(1)+Q,_.divRemTo(p,_,Y);return Y.intValue().toString(s)+Q}function yn(s,o){this.fromInt(0),o==null&&(o=10);for(var f=this.chunkSize(o),p=Math.pow(o,f),_=!1,Y=0,Q=0,st=0;st<s.length;++st){var ot=E(s,st);if(ot<0){s.charAt(st)=="-"&&this.signum()==0&&(_=!0);continue}Q=o*Q+ot,++Y>=f&&(this.dMultiply(p),this.dAddOffset(Q,0),Y=0,Q=0)}Y>0&&(this.dMultiply(Math.pow(o,Y)),this.dAddOffset(Q,0)),_&&S.ZERO.subTo(this,this)}function Ei(s,o,f){if(typeof o=="number")if(s<2)this.fromInt(1);else for(this.fromNumber(s,f),this.testBit(s-1)||this.bitwiseTo(S.ONE.shiftLeft(s-1),Aa,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(S.ONE.shiftLeft(s-1),this);else{var p=new Array,_=s&7;p.length=(s>>3)+1,o.nextBytes(p),_>0?p[0]&=(1<<_)-1:p[0]=0,this.fromString(p,256)}}function ei(){var s=this.t,o=new Array;o[0]=this.s;var f=this.DB-s*this.DB%8,p,_=0;if(s-- >0)for(f<this.DB&&(p=this[s]>>f)!=(this.s&this.DM)>>f&&(o[_++]=p|this.s<<this.DB-f);s>=0;)f<8?(p=(this[s]&(1<<f)-1)<<8-f,p|=this[--s]>>(f+=this.DB-8)):(p=this[s]>>(f-=8)&255,f<=0&&(f+=this.DB,--s)),(p&128)!=0&&(p|=-256),_==0&&(this.s&128)!=(p&128)&&++_,(_>0||p!=this.s)&&(o[_++]=p);return o}function Bi(s){return this.compareTo(s)==0}function zi(s){return this.compareTo(s)<0?this:s}function ni(s){return this.compareTo(s)>0?this:s}function qn(s,o,f){var p,_,Y=Math.min(s.t,this.t);for(p=0;p<Y;++p)f[p]=o(this[p],s[p]);if(s.t<this.t){for(_=s.s&this.DM,p=Y;p<this.t;++p)f[p]=o(this[p],_);f.t=this.t}else{for(_=this.s&this.DM,p=Y;p<s.t;++p)f[p]=o(_,s[p]);f.t=s.t}f.s=o(this.s,s.s),f.clamp()}function Pe(s,o){return s&o}function Ce(s){var o=w();return this.bitwiseTo(s,Pe,o),o}function Aa(s,o){return s|o}function pa(s){var o=w();return this.bitwiseTo(s,Aa,o),o}function Qn(s,o){return s^o}function Cl(s){var o=w();return this.bitwiseTo(s,Qn,o),o}function $s(s,o){return s&~o}function jr(s){var o=w();return this.bitwiseTo(s,$s,o),o}function Ua(){for(var s=w(),o=0;o<this.t;++o)s[o]=this.DM&~this[o];return s.t=this.t,s.s=~this.s,s}function nl(s){var o=w();return s<0?this.rShiftTo(-s,o):this.lShiftTo(s,o),o}function pi(s){var o=w();return s<0?this.lShiftTo(-s,o):this.rShiftTo(s,o),o}function ma(s){if(s==0)return-1;var o=0;return(s&65535)==0&&(s>>=16,o+=16),(s&255)==0&&(s>>=8,o+=8),(s&15)==0&&(s>>=4,o+=4),(s&3)==0&&(s>>=2,o+=2),(s&1)==0&&++o,o}function wl(){for(var s=0;s<this.t;++s)if(this[s]!=0)return s*this.DB+ma(this[s]);return this.s<0?this.t*this.DB:-1}function Ga(s){for(var o=0;s!=0;)s&=s-1,++o;return o}function El(){for(var s=0,o=this.s&this.DM,f=0;f<this.t;++f)s+=Ga(this[f]^o);return s}function Un(s){var o=Math.floor(s/this.DB);return o>=this.t?this.s!=0:(this[o]&1<<s%this.DB)!=0}function Tl(s,o){var f=S.ONE.shiftLeft(s);return this.bitwiseTo(f,o,f),f}function il(s){return this.changeBit(s,Aa)}function qr(s){return this.changeBit(s,$s)}function tr(s){return this.changeBit(s,Qn)}function xs(s,o){for(var f=0,p=0,_=Math.min(s.t,this.t);f<_;)p+=this[f]+s[f],o[f++]=p&this.DM,p>>=this.DB;if(s.t<this.t){for(p+=s.s;f<this.t;)p+=this[f],o[f++]=p&this.DM,p>>=this.DB;p+=this.s}else{for(p+=this.s;f<s.t;)p+=s[f],o[f++]=p&this.DM,p>>=this.DB;p+=s.s}o.s=p<0?-1:0,p>0?o[f++]=p:p<-1&&(o[f++]=this.DV+p),o.t=f,o.clamp()}function Xa(s){var o=w();return this.addTo(s,o),o}function Fr(s){var o=w();return this.subTo(s,o),o}function Ha(s){var o=w();return this.multiplyTo(s,o),o}function ii(){var s=w();return this.squareTo(s),s}function Nn(s){var o=w();return this.divRemTo(s,o,null),o}function we(s){var o=w();return this.divRemTo(s,null,o),o}function Qi(s){var o=w(),f=w();return this.divRemTo(s,o,f),new Array(o,f)}function Ki(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()}function Il(s,o){if(s!=0){for(;this.t<=o;)this[this.t++]=0;for(this[o]+=s;this[o]>=this.DV;)this[o]-=this.DV,++o>=this.t&&(this[this.t++]=0),++this[o]}}function Hi(){}function ja(s){return s}function Na(s,o,f){s.multiplyTo(o,f)}function ji(s,o){s.squareTo(o)}Hi.prototype.convert=ja,Hi.prototype.revert=ja,Hi.prototype.mulTo=Na,Hi.prototype.sqrTo=ji;function Oa(s){return this.exp(s,new Hi)}function Ve(s,o,f){var p=Math.min(this.t+s.t,o);for(f.s=0,f.t=p;p>0;)f[--p]=0;var _;for(_=f.t-this.t;p<_;++p)f[p+this.t]=this.am(0,s[p],f,p,0,this.t);for(_=Math.min(s.t,o);p<_;++p)this.am(0,s[p],f,p,0,o-p);f.clamp()}function vn(s,o,f){--o;var p=f.t=this.t+s.t-o;for(f.s=0;--p>=0;)f[p]=0;for(p=Math.max(o-this.t,0);p<s.t;++p)f[this.t+p-o]=this.am(o-p,s[p],f,0,0,this.t+p-o);f.clamp(),f.drShiftTo(1,f)}function On(s){this.r2=w(),this.q3=w(),S.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}function Pn(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var o=w();return s.copyTo(o),this.reduce(o),o}function Ti(s){return s}function mi(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)}function ga(s,o){s.squareTo(o),this.reduce(o)}function Ai(s,o,f){s.multiplyTo(o,f),this.reduce(f)}On.prototype.convert=Pn,On.prototype.revert=Ti,On.prototype.reduce=mi,On.prototype.mulTo=Ai,On.prototype.sqrTo=ga;function Ji(s,o){var f=s.bitLength(),p,_=V(1),Y;if(f<=0)return _;f<18?p=1:f<48?p=3:f<144?p=4:f<768?p=5:p=6,f<8?Y=new yt(o):o.isEven()?Y=new On(o):Y=new zt(o);var Q=new Array,st=3,ot=p-1,bt=(1<<p)-1;if(Q[1]=Y.convert(this),p>1){var qt=w();for(Y.sqrTo(Q[1],qt);st<=bt;)Q[st]=w(),Y.mulTo(qt,Q[st-2],Q[st]),st+=2}var Ot=s.t-1,$t,ce=!0,_e=w(),de;for(f=dt(s[Ot])-1;Ot>=0;){for(f>=ot?$t=s[Ot]>>f-ot&bt:($t=(s[Ot]&(1<<f+1)-1)<<ot-f,Ot>0&&($t|=s[Ot-1]>>this.DB+f-ot)),st=p;($t&1)==0;)$t>>=1,--st;if((f-=st)<0&&(f+=this.DB,--Ot),ce)Q[$t].copyTo(_),ce=!1;else{for(;st>1;)Y.sqrTo(_,_e),Y.sqrTo(_e,_),st-=2;st>0?Y.sqrTo(_,_e):(de=_,_=_e,_e=de),Y.mulTo(_e,Q[$t],_)}for(;Ot>=0&&(s[Ot]&1<<f)==0;)Y.sqrTo(_,_e),de=_,_=_e,_e=de,--f<0&&(f=this.DB-1,--Ot)}return Y.revert(_)}function Vr(s){var o=this.s<0?this.negate():this.clone(),f=s.s<0?s.negate():s.clone();if(o.compareTo(f)<0){var p=o;o=f,f=p}var _=o.getLowestSetBit(),Y=f.getLowestSetBit();if(Y<0)return o;for(_<Y&&(Y=_),Y>0&&(o.rShiftTo(Y,o),f.rShiftTo(Y,f));o.signum()>0;)(_=o.getLowestSetBit())>0&&o.rShiftTo(_,o),(_=f.getLowestSetBit())>0&&f.rShiftTo(_,f),o.compareTo(f)>=0?(o.subTo(f,o),o.rShiftTo(1,o)):(f.subTo(o,f),f.rShiftTo(1,f));return Y>0&&f.lShiftTo(Y,f),f}function er(s){if(s<=0)return 0;var o=this.DV%s,f=this.s<0?s-1:0;if(this.t>0)if(o==0)f=this[0]%s;else for(var p=this.t-1;p>=0;--p)f=(o*f+this[p])%s;return f}function nr(s){var o=s.isEven();if(this.isEven()&&o||s.signum()==0)return S.ZERO;for(var f=s.clone(),p=this.clone(),_=V(1),Y=V(0),Q=V(0),st=V(1);f.signum()!=0;){for(;f.isEven();)f.rShiftTo(1,f),o?((!_.isEven()||!Y.isEven())&&(_.addTo(this,_),Y.subTo(s,Y)),_.rShiftTo(1,_)):Y.isEven()||Y.subTo(s,Y),Y.rShiftTo(1,Y);for(;p.isEven();)p.rShiftTo(1,p),o?((!Q.isEven()||!st.isEven())&&(Q.addTo(this,Q),st.subTo(s,st)),Q.rShiftTo(1,Q)):st.isEven()||st.subTo(s,st),st.rShiftTo(1,st);f.compareTo(p)>=0?(f.subTo(p,f),o&&_.subTo(Q,_),Y.subTo(st,Y)):(p.subTo(f,p),o&&Q.subTo(_,Q),st.subTo(Y,st))}if(p.compareTo(S.ONE)!=0)return S.ZERO;if(st.compareTo(s)>=0)return st.subtract(s);if(st.signum()<0)st.addTo(s,st);else return st;return st.signum()<0?st.add(s):st}var ai=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Cs=(1<<26)/ai[ai.length-1];function kl(s){var o,f=this.abs();if(f.t==1&&f[0]<=ai[ai.length-1]){for(o=0;o<ai.length;++o)if(f[0]==ai[o])return!0;return!1}if(f.isEven())return!1;for(o=1;o<ai.length;){for(var p=ai[o],_=o+1;_<ai.length&&p<Cs;)p*=ai[_++];for(p=f.modInt(p);o<_;)if(p%ai[o++]==0)return!1}return f.millerRabin(s)}function ya(s){var o=this.subtract(S.ONE),f=o.getLowestSetBit();if(f<=0)return!1;var p=o.shiftRight(f);s=s+1>>1,s>ai.length&&(s=ai.length);for(var _=w(),Y=0;Y<s;++Y){_.fromInt(ai[Math.floor(Math.random()*ai.length)]);var Q=_.modPow(p,this);if(Q.compareTo(S.ONE)!=0&&Q.compareTo(o)!=0){for(var st=1;st++<f&&Q.compareTo(o)!=0;)if(Q=Q.modPowInt(2,this),Q.compareTo(S.ONE)==0)return!1;if(Q.compareTo(o)!=0)return!1}}return!0}S.prototype.chunkSize=Yn,S.prototype.toRadix=nn,S.prototype.fromRadix=yn,S.prototype.fromNumber=Ei,S.prototype.bitwiseTo=qn,S.prototype.changeBit=Tl,S.prototype.addTo=xs,S.prototype.dMultiply=Ki,S.prototype.dAddOffset=Il,S.prototype.multiplyLowerTo=Ve,S.prototype.multiplyUpperTo=vn,S.prototype.modInt=er,S.prototype.millerRabin=ya,S.prototype.clone=Ke,S.prototype.intValue=tn,S.prototype.byteValue=wi,S.prototype.shortValue=en,S.prototype.signum=cn,S.prototype.toByteArray=ei,S.prototype.equals=Bi,S.prototype.min=zi,S.prototype.max=ni,S.prototype.and=Ce,S.prototype.or=pa,S.prototype.xor=Cl,S.prototype.andNot=jr,S.prototype.not=Ua,S.prototype.shiftLeft=nl,S.prototype.shiftRight=pi,S.prototype.getLowestSetBit=wl,S.prototype.bitCount=El,S.prototype.testBit=Un,S.prototype.setBit=il,S.prototype.clearBit=qr,S.prototype.flipBit=tr,S.prototype.add=Xa,S.prototype.subtract=Fr,S.prototype.multiply=Ha,S.prototype.divide=Nn,S.prototype.remainder=we,S.prototype.divideAndRemainder=Qi,S.prototype.modPow=Ji,S.prototype.modInverse=nr,S.prototype.pow=Oa,S.prototype.gcd=Vr,S.prototype.isProbablePrime=kl,S.prototype.square=ii;var oe=S;oe.prototype.IsNegative=function(){return this.compareTo(oe.ZERO)==-1},oe.op_Equality=function(s,o){return s.compareTo(o)==0},oe.op_Inequality=function(s,o){return s.compareTo(o)!=0},oe.op_GreaterThan=function(s,o){return s.compareTo(o)>0},oe.op_LessThan=function(s,o){return s.compareTo(o)<0},oe.op_Addition=function(s,o){return new oe(s,void 0,void 0).add(new oe(o,void 0,void 0))},oe.op_Subtraction=function(s,o){return new oe(s,void 0,void 0).subtract(new oe(o,void 0,void 0))},oe.Int128Mul=function(s,o){return new oe(s,void 0,void 0).multiply(new oe(o,void 0,void 0))},oe.op_Division=function(s,o){return s.divide(o)},oe.prototype.ToDouble=function(){return parseFloat(this.toString())};var Po=function(s,o){var f;if(typeof Object.getOwnPropertyNames>"u"){for(f in o.prototype)(typeof s.prototype[f]>"u"||s.prototype[f]===Object.prototype[f])&&(s.prototype[f]=o.prototype[f]);for(f in o)typeof s[f]>"u"&&(s[f]=o[f]);s.$baseCtor=o}else{for(var p=Object.getOwnPropertyNames(o.prototype),_=0;_<p.length;_++)typeof Object.getOwnPropertyDescriptor(s.prototype,p[_])>"u"&&Object.defineProperty(s.prototype,p[_],Object.getOwnPropertyDescriptor(o.prototype,p[_]));for(f in o)typeof s[f]>"u"&&(s[f]=o[f]);s.$baseCtor=o}};a.Path=function(){return[]},a.Path.prototype.push=Array.prototype.push,a.Paths=function(){return[]},a.Paths.prototype.push=Array.prototype.push,a.DoublePoint=function(){var s=arguments;this.X=0,this.Y=0,s.length===1?(this.X=s[0].X,this.Y=s[0].Y):s.length===2&&(this.X=s[0],this.Y=s[1])},a.DoublePoint0=function(){this.X=0,this.Y=0},a.DoublePoint0.prototype=a.DoublePoint.prototype,a.DoublePoint1=function(s){this.X=s.X,this.Y=s.Y},a.DoublePoint1.prototype=a.DoublePoint.prototype,a.DoublePoint2=function(s,o){this.X=s,this.Y=o},a.DoublePoint2.prototype=a.DoublePoint.prototype,a.PolyNode=function(){this.m_Parent=null,this.m_polygon=new a.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},a.PolyNode.prototype.IsHoleNode=function(){for(var s=!0,o=this.m_Parent;o!==null;)s=!s,o=o.m_Parent;return s},a.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},a.PolyNode.prototype.Contour=function(){return this.m_polygon},a.PolyNode.prototype.AddChild=function(s){var o=this.m_Childs.length;this.m_Childs.push(s),s.m_Parent=this,s.m_Index=o},a.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},a.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index===this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},a.PolyNode.prototype.Childs=function(){return this.m_Childs},a.PolyNode.prototype.Parent=function(){return this.m_Parent},a.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},a.PolyTree=function(){this.m_AllPolys=[],a.PolyNode.call(this)},a.PolyTree.prototype.Clear=function(){for(var s=0,o=this.m_AllPolys.length;s<o;s++)this.m_AllPolys[s]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},a.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},a.PolyTree.prototype.Total=function(){var s=this.m_AllPolys.length;return s>0&&this.m_Childs[0]!==this.m_AllPolys[0]&&s--,s},Po(a.PolyTree,a.PolyNode),a.Math_Abs_Int64=a.Math_Abs_Int32=a.Math_Abs_Double=function(s){return Math.abs(s)},a.Math_Max_Int32_Int32=function(s,o){return Math.max(s,o)},b.msie||b.opera||b.safari?a.Cast_Int32=function(s){return s|0}:a.Cast_Int32=function(s){return~~s},typeof Number.toInteger>"u"&&(Number.toInteger=null),b.chrome?a.Cast_Int64=function(s){return s<-2147483648||s>2147483647?s<0?Math.ceil(s):Math.floor(s):~~s}:b.firefox&&typeof Number.toInteger=="function"?a.Cast_Int64=function(s){return Number.toInteger(s)}:b.msie7||b.msie8?a.Cast_Int64=function(s){return parseInt(s,10)}:b.msie?a.Cast_Int64=function(s){return s<-2147483648||s>2147483647?s<0?Math.ceil(s):Math.floor(s):s|0}:a.Cast_Int64=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.Clear=function(s){s.length=0},a.PI=3.141592653589793,a.PI2=2*3.141592653589793,a.IntPoint=function(){var s=arguments,o=s.length;if(this.X=0,this.Y=0,a.use_xyz)if(this.Z=0,o===3)this.X=s[0],this.Y=s[1],this.Z=s[2];else if(o===2)this.X=s[0],this.Y=s[1],this.Z=0;else if(o===1)if(s[0]instanceof a.DoublePoint){var f=s[0];this.X=a.Clipper.Round(f.X),this.Y=a.Clipper.Round(f.Y),this.Z=0}else{var p=s[0];typeof p.Z>"u"&&(p.Z=0),this.X=p.X,this.Y=p.Y,this.Z=p.Z}else this.X=0,this.Y=0,this.Z=0;else if(o===2)this.X=s[0],this.Y=s[1];else if(o===1)if(s[0]instanceof a.DoublePoint){var f=s[0];this.X=a.Clipper.Round(f.X),this.Y=a.Clipper.Round(f.Y)}else{var p=s[0];this.X=p.X,this.Y=p.Y}else this.X=0,this.Y=0},a.IntPoint.op_Equality=function(s,o){return s.X===o.X&&s.Y===o.Y},a.IntPoint.op_Inequality=function(s,o){return s.X!==o.X||s.Y!==o.Y},a.IntPoint0=function(){this.X=0,this.Y=0,a.use_xyz&&(this.Z=0)},a.IntPoint0.prototype=a.IntPoint.prototype,a.IntPoint1=function(s){this.X=s.X,this.Y=s.Y,a.use_xyz&&(typeof s.Z>"u"?this.Z=0:this.Z=s.Z)},a.IntPoint1.prototype=a.IntPoint.prototype,a.IntPoint1dp=function(s){this.X=a.Clipper.Round(s.X),this.Y=a.Clipper.Round(s.Y),a.use_xyz&&(this.Z=0)},a.IntPoint1dp.prototype=a.IntPoint.prototype,a.IntPoint2=function(s,o,f){this.X=s,this.Y=o,a.use_xyz&&(typeof f>"u"?this.Z=0:this.Z=f)},a.IntPoint2.prototype=a.IntPoint.prototype,a.IntRect=function(){var s=arguments,o=s.length;if(o===4)this.left=s[0],this.top=s[1],this.right=s[2],this.bottom=s[3];else if(o===1){var f=s[0];this.left=f.left,this.top=f.top,this.right=f.right,this.bottom=f.bottom}else this.left=0,this.top=0,this.right=0,this.bottom=0},a.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},a.IntRect0.prototype=a.IntRect.prototype,a.IntRect1=function(s){this.left=s.left,this.top=s.top,this.right=s.right,this.bottom=s.bottom},a.IntRect1.prototype=a.IntRect.prototype,a.IntRect4=function(s,o,f,p){this.left=s,this.top=o,this.right=f,this.bottom=p},a.IntRect4.prototype=a.IntRect.prototype,a.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},a.PolyType={ptSubject:0,ptClip:1},a.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},a.JoinType={jtSquare:0,jtRound:1,jtMiter:2},a.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},a.EdgeSide={esLeft:0,esRight:1},a.Direction={dRightToLeft:0,dLeftToRight:1},a.TEdge=function(){this.Bot=new a.IntPoint0,this.Curr=new a.IntPoint0,this.Top=new a.IntPoint0,this.Delta=new a.IntPoint0,this.Dx=0,this.PolyTyp=a.PolyType.ptSubject,this.Side=a.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},a.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new a.IntPoint0},a.MyIntersectNodeSort=function(){},a.MyIntersectNodeSort.Compare=function(s,o){var f=o.Pt.Y-s.Pt.Y;return f>0?1:f<0?-1:0},a.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},a.Scanbeam=function(){this.Y=0,this.Next=null},a.Maxima=function(){this.X=0,this.Next=null,this.Prev=null},a.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},a.OutPt=function(){this.Idx=0,this.Pt=new a.IntPoint0,this.Next=null,this.Prev=null},a.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new a.IntPoint0},a.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_Scanbeam=null,this.m_PolyOuts=null,this.m_ActiveEdges=null},a.ClipperBase.horizontal=-9007199254740992,a.ClipperBase.Skip=-2,a.ClipperBase.Unassigned=-1,a.ClipperBase.tolerance=1e-20,a.ClipperBase.loRange=47453132,a.ClipperBase.hiRange=0xfffffffffffff,a.ClipperBase.near_zero=function(s){return s>-a.ClipperBase.tolerance&&s<a.ClipperBase.tolerance},a.ClipperBase.IsHorizontal=function(s){return s.Delta.Y===0},a.ClipperBase.prototype.PointIsVertex=function(s,o){var f=o;do{if(a.IntPoint.op_Equality(f.Pt,s))return!0;f=f.Next}while(f!==o);return!1},a.ClipperBase.prototype.PointOnLineSegment=function(s,o,f,p){return p?s.X===o.X&&s.Y===o.Y||s.X===f.X&&s.Y===f.Y||s.X>o.X==s.X<f.X&&s.Y>o.Y==s.Y<f.Y&&oe.op_Equality(oe.Int128Mul(s.X-o.X,f.Y-o.Y),oe.Int128Mul(f.X-o.X,s.Y-o.Y)):s.X===o.X&&s.Y===o.Y||s.X===f.X&&s.Y===f.Y||s.X>o.X==s.X<f.X&&s.Y>o.Y==s.Y<f.Y&&(s.X-o.X)*(f.Y-o.Y)===(f.X-o.X)*(s.Y-o.Y)},a.ClipperBase.prototype.PointOnPolygon=function(s,o,f){for(var p=o;;){if(this.PointOnLineSegment(s,p.Pt,p.Next.Pt,f))return!0;if(p=p.Next,p===o)break}return!1},a.ClipperBase.prototype.SlopesEqual=a.ClipperBase.SlopesEqual=function(){var s=arguments,o=s.length,f,p,_,Y,Q,st,ot;return o===3?(f=s[0],p=s[1],ot=s[2],ot?oe.op_Equality(oe.Int128Mul(f.Delta.Y,p.Delta.X),oe.Int128Mul(f.Delta.X,p.Delta.Y)):a.Cast_Int64(f.Delta.Y*p.Delta.X)===a.Cast_Int64(f.Delta.X*p.Delta.Y)):o===4?(_=s[0],Y=s[1],Q=s[2],ot=s[3],ot?oe.op_Equality(oe.Int128Mul(_.Y-Y.Y,Y.X-Q.X),oe.Int128Mul(_.X-Y.X,Y.Y-Q.Y)):a.Cast_Int64((_.Y-Y.Y)*(Y.X-Q.X))-a.Cast_Int64((_.X-Y.X)*(Y.Y-Q.Y))===0):(_=s[0],Y=s[1],Q=s[2],st=s[3],ot=s[4],ot?oe.op_Equality(oe.Int128Mul(_.Y-Y.Y,Q.X-st.X),oe.Int128Mul(_.X-Y.X,Q.Y-st.Y)):a.Cast_Int64((_.Y-Y.Y)*(Q.X-st.X))-a.Cast_Int64((_.X-Y.X)*(Q.Y-st.Y))===0)},a.ClipperBase.SlopesEqual3=function(s,o,f){return f?oe.op_Equality(oe.Int128Mul(s.Delta.Y,o.Delta.X),oe.Int128Mul(s.Delta.X,o.Delta.Y)):a.Cast_Int64(s.Delta.Y*o.Delta.X)===a.Cast_Int64(s.Delta.X*o.Delta.Y)},a.ClipperBase.SlopesEqual4=function(s,o,f,p){return p?oe.op_Equality(oe.Int128Mul(s.Y-o.Y,o.X-f.X),oe.Int128Mul(s.X-o.X,o.Y-f.Y)):a.Cast_Int64((s.Y-o.Y)*(o.X-f.X))-a.Cast_Int64((s.X-o.X)*(o.Y-f.Y))===0},a.ClipperBase.SlopesEqual5=function(s,o,f,p,_){return _?oe.op_Equality(oe.Int128Mul(s.Y-o.Y,f.X-p.X),oe.Int128Mul(s.X-o.X,f.Y-p.Y)):a.Cast_Int64((s.Y-o.Y)*(f.X-p.X))-a.Cast_Int64((s.X-o.X)*(f.Y-p.Y))===0},a.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var s=0,o=this.m_edges.length;s<o;++s){for(var f=0,p=this.m_edges[s].length;f<p;++f)this.m_edges[s][f]=null;a.Clear(this.m_edges[s])}a.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},a.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var s=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=s}this.m_CurrentLM=null},a.ClipperBase.prototype.RangeTest=function(s,o){o.Value?(s.X>a.ClipperBase.hiRange||s.Y>a.ClipperBase.hiRange||-s.X>a.ClipperBase.hiRange||-s.Y>a.ClipperBase.hiRange)&&a.Error("Coordinate outside allowed range in RangeTest()."):(s.X>a.ClipperBase.loRange||s.Y>a.ClipperBase.loRange||-s.X>a.ClipperBase.loRange||-s.Y>a.ClipperBase.loRange)&&(o.Value=!0,this.RangeTest(s,o))},a.ClipperBase.prototype.InitEdge=function(s,o,f,p){s.Next=o,s.Prev=f,s.Curr.X=p.X,s.Curr.Y=p.Y,a.use_xyz&&(s.Curr.Z=p.Z),s.OutIdx=-1},a.ClipperBase.prototype.InitEdge2=function(s,o){s.Curr.Y>=s.Next.Curr.Y?(s.Bot.X=s.Curr.X,s.Bot.Y=s.Curr.Y,a.use_xyz&&(s.Bot.Z=s.Curr.Z),s.Top.X=s.Next.Curr.X,s.Top.Y=s.Next.Curr.Y,a.use_xyz&&(s.Top.Z=s.Next.Curr.Z)):(s.Top.X=s.Curr.X,s.Top.Y=s.Curr.Y,a.use_xyz&&(s.Top.Z=s.Curr.Z),s.Bot.X=s.Next.Curr.X,s.Bot.Y=s.Next.Curr.Y,a.use_xyz&&(s.Bot.Z=s.Next.Curr.Z)),this.SetDx(s),s.PolyTyp=o},a.ClipperBase.prototype.FindNextLocMin=function(s){for(var o;;){for(;a.IntPoint.op_Inequality(s.Bot,s.Prev.Bot)||a.IntPoint.op_Equality(s.Curr,s.Top);)s=s.Next;if(s.Dx!==a.ClipperBase.horizontal&&s.Prev.Dx!==a.ClipperBase.horizontal)break;for(;s.Prev.Dx===a.ClipperBase.horizontal;)s=s.Prev;for(o=s;s.Dx===a.ClipperBase.horizontal;)s=s.Next;if(s.Top.Y!==s.Prev.Bot.Y){o.Prev.Bot.X<s.Bot.X&&(s=o);break}}return s},a.ClipperBase.prototype.ProcessBound=function(s,o){var f,p=s,_;if(p.OutIdx===a.ClipperBase.Skip){if(s=p,o){for(;s.Top.Y===s.Next.Bot.Y;)s=s.Next;for(;s!==p&&s.Dx===a.ClipperBase.horizontal;)s=s.Prev}else{for(;s.Top.Y===s.Prev.Bot.Y;)s=s.Prev;for(;s!==p&&s.Dx===a.ClipperBase.horizontal;)s=s.Next}if(s===p)o?p=s.Next:p=s.Prev;else{o?s=p.Next:s=p.Prev;var Y=new a.LocalMinima;Y.Next=null,Y.Y=s.Bot.Y,Y.LeftBound=null,Y.RightBound=s,s.WindDelta=0,p=this.ProcessBound(s,o),this.InsertLocalMinima(Y)}return p}if(s.Dx===a.ClipperBase.horizontal&&(o?f=s.Prev:f=s.Next,f.Dx===a.ClipperBase.horizontal?f.Bot.X!==s.Bot.X&&f.Top.X!==s.Bot.X&&this.ReverseHorizontal(s):f.Bot.X!==s.Bot.X&&this.ReverseHorizontal(s)),f=s,o){for(;p.Top.Y===p.Next.Bot.Y&&p.Next.OutIdx!==a.ClipperBase.Skip;)p=p.Next;if(p.Dx===a.ClipperBase.horizontal&&p.Next.OutIdx!==a.ClipperBase.Skip){for(_=p;_.Prev.Dx===a.ClipperBase.horizontal;)_=_.Prev;_.Prev.Top.X>p.Next.Top.X&&(p=_.Prev)}for(;s!==p;)s.NextInLML=s.Next,s.Dx===a.ClipperBase.horizontal&&s!==f&&s.Bot.X!==s.Prev.Top.X&&this.ReverseHorizontal(s),s=s.Next;s.Dx===a.ClipperBase.horizontal&&s!==f&&s.Bot.X!==s.Prev.Top.X&&this.ReverseHorizontal(s),p=p.Next}else{for(;p.Top.Y===p.Prev.Bot.Y&&p.Prev.OutIdx!==a.ClipperBase.Skip;)p=p.Prev;if(p.Dx===a.ClipperBase.horizontal&&p.Prev.OutIdx!==a.ClipperBase.Skip){for(_=p;_.Next.Dx===a.ClipperBase.horizontal;)_=_.Next;(_.Next.Top.X===p.Prev.Top.X||_.Next.Top.X>p.Prev.Top.X)&&(p=_.Next)}for(;s!==p;)s.NextInLML=s.Prev,s.Dx===a.ClipperBase.horizontal&&s!==f&&s.Bot.X!==s.Next.Top.X&&this.ReverseHorizontal(s),s=s.Prev;s.Dx===a.ClipperBase.horizontal&&s!==f&&s.Bot.X!==s.Next.Top.X&&this.ReverseHorizontal(s),p=p.Prev}return p},a.ClipperBase.prototype.AddPath=function(s,o,f){a.use_lines?!f&&o===a.PolyType.ptClip&&a.Error("AddPath: Open paths must be subject."):f||a.Error("AddPath: Open paths have been disabled.");var p=s.length-1;if(f)for(;p>0&&a.IntPoint.op_Equality(s[p],s[0]);)--p;for(;p>0&&a.IntPoint.op_Equality(s[p],s[p-1]);)--p;if(f&&p<2||!f&&p<1)return!1;for(var _=new Array,Y=0;Y<=p;Y++)_.push(new a.TEdge);var Q=!0;_[1].Curr.X=s[1].X,_[1].Curr.Y=s[1].Y,a.use_xyz&&(_[1].Curr.Z=s[1].Z);var st={Value:this.m_UseFullRange};this.RangeTest(s[0],st),this.m_UseFullRange=st.Value,st.Value=this.m_UseFullRange,this.RangeTest(s[p],st),this.m_UseFullRange=st.Value,this.InitEdge(_[0],_[1],_[p],s[0]),this.InitEdge(_[p],_[0],_[p-1],s[p]);for(var Y=p-1;Y>=1;--Y)st.Value=this.m_UseFullRange,this.RangeTest(s[Y],st),this.m_UseFullRange=st.Value,this.InitEdge(_[Y],_[Y+1],_[Y-1],s[Y]);for(var ot=_[0],bt=ot,qt=ot;;){if(bt.Curr===bt.Next.Curr&&(f||bt.Next!==ot)){if(bt===bt.Next)break;bt===ot&&(ot=bt.Next),bt=this.RemoveEdge(bt),qt=bt;continue}if(bt.Prev===bt.Next)break;if(f&&a.ClipperBase.SlopesEqual4(bt.Prev.Curr,bt.Curr,bt.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(bt.Prev.Curr,bt.Curr,bt.Next.Curr))){bt===ot&&(ot=bt.Next),bt=this.RemoveEdge(bt),bt=bt.Prev,qt=bt;continue}if(bt=bt.Next,bt===qt||!f&&bt.Next===ot)break}if(!f&&bt===bt.Next||f&&bt.Prev===bt.Next)return!1;f||(this.m_HasOpenPaths=!0,ot.Prev.OutIdx=a.ClipperBase.Skip),bt=ot;do this.InitEdge2(bt,o),bt=bt.Next,Q&&bt.Curr.Y!==ot.Curr.Y&&(Q=!1);while(bt!==ot);if(Q){if(f)return!1;bt.Prev.OutIdx=a.ClipperBase.Skip;var Ot=new a.LocalMinima;for(Ot.Next=null,Ot.Y=bt.Bot.Y,Ot.LeftBound=null,Ot.RightBound=bt,Ot.RightBound.Side=a.EdgeSide.esRight,Ot.RightBound.WindDelta=0;bt.Bot.X!==bt.Prev.Top.X&&this.ReverseHorizontal(bt),bt.Next.OutIdx!==a.ClipperBase.Skip;)bt.NextInLML=bt.Next,bt=bt.Next;return this.InsertLocalMinima(Ot),this.m_edges.push(_),!0}this.m_edges.push(_);var $t,ce=null;for(a.IntPoint.op_Equality(bt.Prev.Bot,bt.Prev.Top)&&(bt=bt.Next);bt=this.FindNextLocMin(bt),bt!==ce;){ce===null&&(ce=bt);var Ot=new a.LocalMinima;Ot.Next=null,Ot.Y=bt.Bot.Y,bt.Dx<bt.Prev.Dx?(Ot.LeftBound=bt.Prev,Ot.RightBound=bt,$t=!1):(Ot.LeftBound=bt,Ot.RightBound=bt.Prev,$t=!0),Ot.LeftBound.Side=a.EdgeSide.esLeft,Ot.RightBound.Side=a.EdgeSide.esRight,f?Ot.LeftBound.Next===Ot.RightBound?Ot.LeftBound.WindDelta=-1:Ot.LeftBound.WindDelta=1:Ot.LeftBound.WindDelta=0,Ot.RightBound.WindDelta=-Ot.LeftBound.WindDelta,bt=this.ProcessBound(Ot.LeftBound,$t),bt.OutIdx===a.ClipperBase.Skip&&(bt=this.ProcessBound(bt,$t));var _e=this.ProcessBound(Ot.RightBound,!$t);_e.OutIdx===a.ClipperBase.Skip&&(_e=this.ProcessBound(_e,!$t)),Ot.LeftBound.OutIdx===a.ClipperBase.Skip?Ot.LeftBound=null:Ot.RightBound.OutIdx===a.ClipperBase.Skip&&(Ot.RightBound=null),this.InsertLocalMinima(Ot),$t||(bt=_e)}return!0},a.ClipperBase.prototype.AddPaths=function(s,o,f){for(var p=!1,_=0,Y=s.length;_<Y;++_)this.AddPath(s[_],o,f)&&(p=!0);return p},a.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(s,o,f){return a.IntPoint.op_Equality(s,f)||a.IntPoint.op_Equality(s,o)||a.IntPoint.op_Equality(f,o)?!1:s.X!==f.X?o.X>s.X==o.X<f.X:o.Y>s.Y==o.Y<f.Y},a.ClipperBase.prototype.RemoveEdge=function(s){s.Prev.Next=s.Next,s.Next.Prev=s.Prev;var o=s.Next;return s.Prev=null,o},a.ClipperBase.prototype.SetDx=function(s){s.Delta.X=s.Top.X-s.Bot.X,s.Delta.Y=s.Top.Y-s.Bot.Y,s.Delta.Y===0?s.Dx=a.ClipperBase.horizontal:s.Dx=s.Delta.X/s.Delta.Y},a.ClipperBase.prototype.InsertLocalMinima=function(s){if(this.m_MinimaList===null)this.m_MinimaList=s;else if(s.Y>=this.m_MinimaList.Y)s.Next=this.m_MinimaList,this.m_MinimaList=s;else{for(var o=this.m_MinimaList;o.Next!==null&&s.Y<o.Next.Y;)o=o.Next;s.Next=o.Next,o.Next=s}},a.ClipperBase.prototype.PopLocalMinima=function(s,o){return o.v=this.m_CurrentLM,this.m_CurrentLM!==null&&this.m_CurrentLM.Y===s?(this.m_CurrentLM=this.m_CurrentLM.Next,!0):!1},a.ClipperBase.prototype.ReverseHorizontal=function(s){var o=s.Top.X;s.Top.X=s.Bot.X,s.Bot.X=o,a.use_xyz&&(o=s.Top.Z,s.Top.Z=s.Bot.Z,s.Bot.Z=o)},a.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!==null){this.m_Scanbeam=null;for(var s=this.m_MinimaList;s!==null;){this.InsertScanbeam(s.Y);var o=s.LeftBound;o!==null&&(o.Curr.X=o.Bot.X,o.Curr.Y=o.Bot.Y,a.use_xyz&&(o.Curr.Z=o.Bot.Z),o.OutIdx=a.ClipperBase.Unassigned),o=s.RightBound,o!==null&&(o.Curr.X=o.Bot.X,o.Curr.Y=o.Bot.Y,a.use_xyz&&(o.Curr.Z=o.Bot.Z),o.OutIdx=a.ClipperBase.Unassigned),s=s.Next}this.m_ActiveEdges=null}},a.ClipperBase.prototype.InsertScanbeam=function(s){if(this.m_Scanbeam===null)this.m_Scanbeam=new a.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=s;else if(s>this.m_Scanbeam.Y){var o=new a.Scanbeam;o.Y=s,o.Next=this.m_Scanbeam,this.m_Scanbeam=o}else{for(var f=this.m_Scanbeam;f.Next!==null&&s<=f.Next.Y;)f=f.Next;if(s===f.Y)return;var p=new a.Scanbeam;p.Y=s,p.Next=f.Next,f.Next=p}},a.ClipperBase.prototype.PopScanbeam=function(s){return this.m_Scanbeam===null?(s.v=0,!1):(s.v=this.m_Scanbeam.Y,this.m_Scanbeam=this.m_Scanbeam.Next,!0)},a.ClipperBase.prototype.LocalMinimaPending=function(){return this.m_CurrentLM!==null},a.ClipperBase.prototype.CreateOutRec=function(){var s=new a.OutRec;return s.Idx=a.ClipperBase.Unassigned,s.IsHole=!1,s.IsOpen=!1,s.FirstLeft=null,s.Pts=null,s.BottomPt=null,s.PolyNode=null,this.m_PolyOuts.push(s),s.Idx=this.m_PolyOuts.length-1,s},a.ClipperBase.prototype.DisposeOutRec=function(s){var o=this.m_PolyOuts[s];o.Pts=null,o=null,this.m_PolyOuts[s]=null},a.ClipperBase.prototype.UpdateEdgeIntoAEL=function(s){s.NextInLML===null&&a.Error("UpdateEdgeIntoAEL: invalid call");var o=s.PrevInAEL,f=s.NextInAEL;return s.NextInLML.OutIdx=s.OutIdx,o!==null?o.NextInAEL=s.NextInLML:this.m_ActiveEdges=s.NextInLML,f!==null&&(f.PrevInAEL=s.NextInLML),s.NextInLML.Side=s.Side,s.NextInLML.WindDelta=s.WindDelta,s.NextInLML.WindCnt=s.WindCnt,s.NextInLML.WindCnt2=s.WindCnt2,s=s.NextInLML,s.Curr.X=s.Bot.X,s.Curr.Y=s.Bot.Y,s.PrevInAEL=o,s.NextInAEL=f,a.ClipperBase.IsHorizontal(s)||this.InsertScanbeam(s.Top.Y),s},a.ClipperBase.prototype.SwapPositionsInAEL=function(s,o){if(!(s.NextInAEL===s.PrevInAEL||o.NextInAEL===o.PrevInAEL)){if(s.NextInAEL===o){var f=o.NextInAEL;f!==null&&(f.PrevInAEL=s);var p=s.PrevInAEL;p!==null&&(p.NextInAEL=o),o.PrevInAEL=p,o.NextInAEL=s,s.PrevInAEL=o,s.NextInAEL=f}else if(o.NextInAEL===s){var _=s.NextInAEL;_!==null&&(_.PrevInAEL=o);var Y=o.PrevInAEL;Y!==null&&(Y.NextInAEL=s),s.PrevInAEL=Y,s.NextInAEL=o,o.PrevInAEL=s,o.NextInAEL=_}else{var Q=s.NextInAEL,st=s.PrevInAEL;s.NextInAEL=o.NextInAEL,s.NextInAEL!==null&&(s.NextInAEL.PrevInAEL=s),s.PrevInAEL=o.PrevInAEL,s.PrevInAEL!==null&&(s.PrevInAEL.NextInAEL=s),o.NextInAEL=Q,o.NextInAEL!==null&&(o.NextInAEL.PrevInAEL=o),o.PrevInAEL=st,o.PrevInAEL!==null&&(o.PrevInAEL.NextInAEL=o)}s.PrevInAEL===null?this.m_ActiveEdges=s:o.PrevInAEL===null&&(this.m_ActiveEdges=o)}},a.ClipperBase.prototype.DeleteFromAEL=function(s){var o=s.PrevInAEL,f=s.NextInAEL;o===null&&f===null&&s!==this.m_ActiveEdges||(o!==null?o.NextInAEL=f:this.m_ActiveEdges=f,f!==null&&(f.PrevInAEL=o),s.NextInAEL=null,s.PrevInAEL=null)},a.Clipper=function(s){typeof s>"u"&&(s=0),this.m_PolyOuts=null,this.m_ClipType=a.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=a.PolyFillType.pftEvenOdd,this.m_SubjFillType=a.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,a.ClipperBase.call(this),this.m_Scanbeam=null,this.m_Maxima=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=a.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&s)!==0,this.StrictlySimple=(2&s)!==0,this.PreserveCollinear=(4&s)!==0,a.use_xyz&&(this.ZFillFunction=null)},a.Clipper.ioReverseSolution=1,a.Clipper.ioStrictlySimple=2,a.Clipper.ioPreserveCollinear=4,a.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),a.ClipperBase.prototype.Clear.call(this))},a.Clipper.prototype.InsertMaxima=function(s){var o=new a.Maxima;if(o.X=s,this.m_Maxima===null)this.m_Maxima=o,this.m_Maxima.Next=null,this.m_Maxima.Prev=null;else if(s<this.m_Maxima.X)o.Next=this.m_Maxima,o.Prev=null,this.m_Maxima=o;else{for(var f=this.m_Maxima;f.Next!==null&&s>=f.Next.X;)f=f.Next;if(s===f.X)return;o.Next=f.Next,o.Prev=f,f.Next!==null&&(f.Next.Prev=o),f.Next=o}},a.Clipper.prototype.Execute=function(){var s=arguments,o=s.length,f=s[1]instanceof a.PolyTree;if(o===4&&!f){var p=s[0],_=s[1],Y=s[2],Q=s[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&a.Error("Error: PolyTree struct is needed for open path clipping."),this.m_ExecuteLocked=!0,a.Clear(_),this.m_SubjFillType=Y,this.m_ClipFillType=Q,this.m_ClipType=p,this.m_UsingPolyTree=!1;try{var st=this.ExecuteInternal();st&&this.BuildResult(_)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return st}else if(o===4&&f){var p=s[0],ot=s[1],Y=s[2],Q=s[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=Y,this.m_ClipFillType=Q,this.m_ClipType=p,this.m_UsingPolyTree=!0;try{var st=this.ExecuteInternal();st&&this.BuildResult2(ot)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return st}else if(o===2&&!f){var p=s[0],_=s[1];return this.Execute(p,_,a.PolyFillType.pftEvenOdd,a.PolyFillType.pftEvenOdd)}else if(o===2&&f){var p=s[0],ot=s[1];return this.Execute(p,ot,a.PolyFillType.pftEvenOdd,a.PolyFillType.pftEvenOdd)}},a.Clipper.prototype.FixHoleLinkage=function(s){if(!(s.FirstLeft===null||s.IsHole!==s.FirstLeft.IsHole&&s.FirstLeft.Pts!==null)){for(var o=s.FirstLeft;o!==null&&(o.IsHole===s.IsHole||o.Pts===null);)o=o.FirstLeft;s.FirstLeft=o}},a.Clipper.prototype.ExecuteInternal=function(){try{this.Reset(),this.m_SortedEdges=null,this.m_Maxima=null;var s={},o={};if(!this.PopScanbeam(s))return!1;for(this.InsertLocalMinimaIntoAEL(s.v);this.PopScanbeam(o)||this.LocalMinimaPending();){if(this.ProcessHorizontals(),this.m_GhostJoins.length=0,!this.ProcessIntersections(o.v))return!1;this.ProcessEdgesAtTopOfScanbeam(o.v),s.v=o.v,this.InsertLocalMinimaIntoAEL(s.v)}var f,p,_;for(p=0,_=this.m_PolyOuts.length;p<_;p++)f=this.m_PolyOuts[p],!(f.Pts===null||f.IsOpen)&&(f.IsHole^this.ReverseSolution)==this.Area$1(f)>0&&this.ReversePolyPtLinks(f.Pts);for(this.JoinCommonEdges(),p=0,_=this.m_PolyOuts.length;p<_;p++)f=this.m_PolyOuts[p],f.Pts!==null&&(f.IsOpen?this.FixupOutPolyline(f):this.FixupOutPolygon(f));return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{this.m_Joins.length=0,this.m_GhostJoins.length=0}},a.Clipper.prototype.DisposeAllPolyPts=function(){for(var s=0,o=this.m_PolyOuts.length;s<o;++s)this.DisposeOutRec(s);a.Clear(this.m_PolyOuts)},a.Clipper.prototype.AddJoin=function(s,o,f){var p=new a.Join;p.OutPt1=s,p.OutPt2=o,p.OffPt.X=f.X,p.OffPt.Y=f.Y,a.use_xyz&&(p.OffPt.Z=f.Z),this.m_Joins.push(p)},a.Clipper.prototype.AddGhostJoin=function(s,o){var f=new a.Join;f.OutPt1=s,f.OffPt.X=o.X,f.OffPt.Y=o.Y,a.use_xyz&&(f.OffPt.Z=o.Z),this.m_GhostJoins.push(f)},a.Clipper.prototype.SetZ=function(s,o,f){if(this.ZFillFunction!==null){if(s.Z!==0||this.ZFillFunction===null)return;a.IntPoint.op_Equality(s,o.Bot)?s.Z=o.Bot.Z:a.IntPoint.op_Equality(s,o.Top)?s.Z=o.Top.Z:a.IntPoint.op_Equality(s,f.Bot)?s.Z=f.Bot.Z:a.IntPoint.op_Equality(s,f.Top)?s.Z=f.Top.Z:this.ZFillFunction(o.Bot,o.Top,f.Bot,f.Top,s)}},a.Clipper.prototype.InsertLocalMinimaIntoAEL=function(s){for(var o={},f,p;this.PopLocalMinima(s,o);){f=o.v.LeftBound,p=o.v.RightBound;var _=null;if(f===null?(this.InsertEdgeIntoAEL(p,null),this.SetWindingCount(p),this.IsContributing(p)&&(_=this.AddOutPt(p,p.Bot))):p===null?(this.InsertEdgeIntoAEL(f,null),this.SetWindingCount(f),this.IsContributing(f)&&(_=this.AddOutPt(f,f.Bot)),this.InsertScanbeam(f.Top.Y)):(this.InsertEdgeIntoAEL(f,null),this.InsertEdgeIntoAEL(p,f),this.SetWindingCount(f),p.WindCnt=f.WindCnt,p.WindCnt2=f.WindCnt2,this.IsContributing(f)&&(_=this.AddLocalMinPoly(f,p,f.Bot)),this.InsertScanbeam(f.Top.Y)),p!==null&&(a.ClipperBase.IsHorizontal(p)?(p.NextInLML!==null&&this.InsertScanbeam(p.NextInLML.Top.Y),this.AddEdgeToSEL(p)):this.InsertScanbeam(p.Top.Y)),!(f===null||p===null)){if(_!==null&&a.ClipperBase.IsHorizontal(p)&&this.m_GhostJoins.length>0&&p.WindDelta!==0)for(var Y=0,Q=this.m_GhostJoins.length;Y<Q;Y++){var st=this.m_GhostJoins[Y];this.HorzSegmentsOverlap(st.OutPt1.Pt.X,st.OffPt.X,p.Bot.X,p.Top.X)&&this.AddJoin(st.OutPt1,_,st.OffPt)}if(f.OutIdx>=0&&f.PrevInAEL!==null&&f.PrevInAEL.Curr.X===f.Bot.X&&f.PrevInAEL.OutIdx>=0&&a.ClipperBase.SlopesEqual5(f.PrevInAEL.Curr,f.PrevInAEL.Top,f.Curr,f.Top,this.m_UseFullRange)&&f.WindDelta!==0&&f.PrevInAEL.WindDelta!==0){var ot=this.AddOutPt(f.PrevInAEL,f.Bot);this.AddJoin(_,ot,f.Top)}if(f.NextInAEL!==p){if(p.OutIdx>=0&&p.PrevInAEL.OutIdx>=0&&a.ClipperBase.SlopesEqual5(p.PrevInAEL.Curr,p.PrevInAEL.Top,p.Curr,p.Top,this.m_UseFullRange)&&p.WindDelta!==0&&p.PrevInAEL.WindDelta!==0){var ot=this.AddOutPt(p.PrevInAEL,p.Bot);this.AddJoin(_,ot,p.Top)}var bt=f.NextInAEL;if(bt!==null)for(;bt!==p;)this.IntersectEdges(p,bt,f.Curr),bt=bt.NextInAEL}}}},a.Clipper.prototype.InsertEdgeIntoAEL=function(s,o){if(this.m_ActiveEdges===null)s.PrevInAEL=null,s.NextInAEL=null,this.m_ActiveEdges=s;else if(o===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,s))s.PrevInAEL=null,s.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=s,this.m_ActiveEdges=s;else{for(o===null&&(o=this.m_ActiveEdges);o.NextInAEL!==null&&!this.E2InsertsBeforeE1(o.NextInAEL,s);)o=o.NextInAEL;s.NextInAEL=o.NextInAEL,o.NextInAEL!==null&&(o.NextInAEL.PrevInAEL=s),s.PrevInAEL=o,o.NextInAEL=s}},a.Clipper.prototype.E2InsertsBeforeE1=function(s,o){return o.Curr.X===s.Curr.X?o.Top.Y>s.Top.Y?o.Top.X<a.Clipper.TopX(s,o.Top.Y):s.Top.X>a.Clipper.TopX(o,s.Top.Y):o.Curr.X<s.Curr.X},a.Clipper.prototype.IsEvenOddFillType=function(s){return s.PolyTyp===a.PolyType.ptSubject?this.m_SubjFillType===a.PolyFillType.pftEvenOdd:this.m_ClipFillType===a.PolyFillType.pftEvenOdd},a.Clipper.prototype.IsEvenOddAltFillType=function(s){return s.PolyTyp===a.PolyType.ptSubject?this.m_ClipFillType===a.PolyFillType.pftEvenOdd:this.m_SubjFillType===a.PolyFillType.pftEvenOdd},a.Clipper.prototype.IsContributing=function(s){var o,f;switch(s.PolyTyp===a.PolyType.ptSubject?(o=this.m_SubjFillType,f=this.m_ClipFillType):(o=this.m_ClipFillType,f=this.m_SubjFillType),o){case a.PolyFillType.pftEvenOdd:if(s.WindDelta===0&&s.WindCnt!==1)return!1;break;case a.PolyFillType.pftNonZero:if(Math.abs(s.WindCnt)!==1)return!1;break;case a.PolyFillType.pftPositive:if(s.WindCnt!==1)return!1;break;default:if(s.WindCnt!==-1)return!1;break}switch(this.m_ClipType){case a.ClipType.ctIntersection:switch(f){case a.PolyFillType.pftEvenOdd:case a.PolyFillType.pftNonZero:return s.WindCnt2!==0;case a.PolyFillType.pftPositive:return s.WindCnt2>0;default:return s.WindCnt2<0}case a.ClipType.ctUnion:switch(f){case a.PolyFillType.pftEvenOdd:case a.PolyFillType.pftNonZero:return s.WindCnt2===0;case a.PolyFillType.pftPositive:return s.WindCnt2<=0;default:return s.WindCnt2>=0}case a.ClipType.ctDifference:if(s.PolyTyp===a.PolyType.ptSubject)switch(f){case a.PolyFillType.pftEvenOdd:case a.PolyFillType.pftNonZero:return s.WindCnt2===0;case a.PolyFillType.pftPositive:return s.WindCnt2<=0;default:return s.WindCnt2>=0}else switch(f){case a.PolyFillType.pftEvenOdd:case a.PolyFillType.pftNonZero:return s.WindCnt2!==0;case a.PolyFillType.pftPositive:return s.WindCnt2>0;default:return s.WindCnt2<0}case a.ClipType.ctXor:if(s.WindDelta===0)switch(f){case a.PolyFillType.pftEvenOdd:case a.PolyFillType.pftNonZero:return s.WindCnt2===0;case a.PolyFillType.pftPositive:return s.WindCnt2<=0;default:return s.WindCnt2>=0}else return!0}return!0},a.Clipper.prototype.SetWindingCount=function(s){for(var o=s.PrevInAEL;o!==null&&(o.PolyTyp!==s.PolyTyp||o.WindDelta===0);)o=o.PrevInAEL;if(o===null){var f=s.PolyTyp===a.PolyType.ptSubject?this.m_SubjFillType:this.m_ClipFillType;s.WindDelta===0?s.WindCnt=f===a.PolyFillType.pftNegative?-1:1:s.WindCnt=s.WindDelta,s.WindCnt2=0,o=this.m_ActiveEdges}else if(s.WindDelta===0&&this.m_ClipType!==a.ClipType.ctUnion)s.WindCnt=1,s.WindCnt2=o.WindCnt2,o=o.NextInAEL;else if(this.IsEvenOddFillType(s)){if(s.WindDelta===0){for(var p=!0,_=o.PrevInAEL;_!==null;)_.PolyTyp===o.PolyTyp&&_.WindDelta!==0&&(p=!p),_=_.PrevInAEL;s.WindCnt=p?0:1}else s.WindCnt=s.WindDelta;s.WindCnt2=o.WindCnt2,o=o.NextInAEL}else o.WindCnt*o.WindDelta<0?Math.abs(o.WindCnt)>1?o.WindDelta*s.WindDelta<0?s.WindCnt=o.WindCnt:s.WindCnt=o.WindCnt+s.WindDelta:s.WindCnt=s.WindDelta===0?1:s.WindDelta:s.WindDelta===0?s.WindCnt=o.WindCnt<0?o.WindCnt-1:o.WindCnt+1:o.WindDelta*s.WindDelta<0?s.WindCnt=o.WindCnt:s.WindCnt=o.WindCnt+s.WindDelta,s.WindCnt2=o.WindCnt2,o=o.NextInAEL;if(this.IsEvenOddAltFillType(s))for(;o!==s;)o.WindDelta!==0&&(s.WindCnt2=s.WindCnt2===0?1:0),o=o.NextInAEL;else for(;o!==s;)s.WindCnt2+=o.WindDelta,o=o.NextInAEL},a.Clipper.prototype.AddEdgeToSEL=function(s){this.m_SortedEdges===null?(this.m_SortedEdges=s,s.PrevInSEL=null,s.NextInSEL=null):(s.NextInSEL=this.m_SortedEdges,s.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=s,this.m_SortedEdges=s)},a.Clipper.prototype.PopEdgeFromSEL=function(s){if(s.v=this.m_SortedEdges,s.v===null)return!1;var o=s.v;return this.m_SortedEdges=s.v.NextInSEL,this.m_SortedEdges!==null&&(this.m_SortedEdges.PrevInSEL=null),o.NextInSEL=null,o.PrevInSEL=null,!0},a.Clipper.prototype.CopyAELToSEL=function(){var s=this.m_ActiveEdges;for(this.m_SortedEdges=s;s!==null;)s.PrevInSEL=s.PrevInAEL,s.NextInSEL=s.NextInAEL,s=s.NextInAEL},a.Clipper.prototype.SwapPositionsInSEL=function(s,o){if(!(s.NextInSEL===null&&s.PrevInSEL===null)&&!(o.NextInSEL===null&&o.PrevInSEL===null)){if(s.NextInSEL===o){var f=o.NextInSEL;f!==null&&(f.PrevInSEL=s);var p=s.PrevInSEL;p!==null&&(p.NextInSEL=o),o.PrevInSEL=p,o.NextInSEL=s,s.PrevInSEL=o,s.NextInSEL=f}else if(o.NextInSEL===s){var f=s.NextInSEL;f!==null&&(f.PrevInSEL=o);var p=o.PrevInSEL;p!==null&&(p.NextInSEL=s),s.PrevInSEL=p,s.NextInSEL=o,o.PrevInSEL=s,o.NextInSEL=f}else{var f=s.NextInSEL,p=s.PrevInSEL;s.NextInSEL=o.NextInSEL,s.NextInSEL!==null&&(s.NextInSEL.PrevInSEL=s),s.PrevInSEL=o.PrevInSEL,s.PrevInSEL!==null&&(s.PrevInSEL.NextInSEL=s),o.NextInSEL=f,o.NextInSEL!==null&&(o.NextInSEL.PrevInSEL=o),o.PrevInSEL=p,o.PrevInSEL!==null&&(o.PrevInSEL.NextInSEL=o)}s.PrevInSEL===null?this.m_SortedEdges=s:o.PrevInSEL===null&&(this.m_SortedEdges=o)}},a.Clipper.prototype.AddLocalMaxPoly=function(s,o,f){this.AddOutPt(s,f),o.WindDelta===0&&this.AddOutPt(o,f),s.OutIdx===o.OutIdx?(s.OutIdx=-1,o.OutIdx=-1):s.OutIdx<o.OutIdx?this.AppendPolygon(s,o):this.AppendPolygon(o,s)},a.Clipper.prototype.AddLocalMinPoly=function(s,o,f){var p,_,Y;if(a.ClipperBase.IsHorizontal(o)||s.Dx>o.Dx?(p=this.AddOutPt(s,f),o.OutIdx=s.OutIdx,s.Side=a.EdgeSide.esLeft,o.Side=a.EdgeSide.esRight,_=s,_.PrevInAEL===o?Y=o.PrevInAEL:Y=_.PrevInAEL):(p=this.AddOutPt(o,f),s.OutIdx=o.OutIdx,s.Side=a.EdgeSide.esRight,o.Side=a.EdgeSide.esLeft,_=o,_.PrevInAEL===s?Y=s.PrevInAEL:Y=_.PrevInAEL),Y!==null&&Y.OutIdx>=0&&Y.Top.Y<f.Y&&_.Top.Y<f.Y){var Q=a.Clipper.TopX(Y,f.Y),st=a.Clipper.TopX(_,f.Y);if(Q===st&&_.WindDelta!==0&&Y.WindDelta!==0&&a.ClipperBase.SlopesEqual5(new a.IntPoint2(Q,f.Y),Y.Top,new a.IntPoint2(st,f.Y),_.Top,this.m_UseFullRange)){var ot=this.AddOutPt(Y,f);this.AddJoin(p,ot,_.Top)}}return p},a.Clipper.prototype.AddOutPt=function(s,o){if(s.OutIdx<0){var f=this.CreateOutRec();f.IsOpen=s.WindDelta===0;var p=new a.OutPt;return f.Pts=p,p.Idx=f.Idx,p.Pt.X=o.X,p.Pt.Y=o.Y,a.use_xyz&&(p.Pt.Z=o.Z),p.Next=p,p.Prev=p,f.IsOpen||this.SetHoleState(s,f),s.OutIdx=f.Idx,p}else{var f=this.m_PolyOuts[s.OutIdx],_=f.Pts,Y=s.Side===a.EdgeSide.esLeft;if(Y&&a.IntPoint.op_Equality(o,_.Pt))return _;if(!Y&&a.IntPoint.op_Equality(o,_.Prev.Pt))return _.Prev;var p=new a.OutPt;return p.Idx=f.Idx,p.Pt.X=o.X,p.Pt.Y=o.Y,a.use_xyz&&(p.Pt.Z=o.Z),p.Next=_,p.Prev=_.Prev,p.Prev.Next=p,_.Prev=p,Y&&(f.Pts=p),p}},a.Clipper.prototype.GetLastOutPt=function(s){var o=this.m_PolyOuts[s.OutIdx];return s.Side===a.EdgeSide.esLeft?o.Pts:o.Pts.Prev},a.Clipper.prototype.SwapPoints=function(s,o){var f=new a.IntPoint1(s.Value);s.Value.X=o.Value.X,s.Value.Y=o.Value.Y,a.use_xyz&&(s.Value.Z=o.Value.Z),o.Value.X=f.X,o.Value.Y=f.Y,a.use_xyz&&(o.Value.Z=f.Z)},a.Clipper.prototype.HorzSegmentsOverlap=function(s,o,f,p){var _;return s>o&&(_=s,s=o,o=_),f>p&&(_=f,f=p,p=_),s<p&&f<o},a.Clipper.prototype.SetHoleState=function(s,o){for(var f=s.PrevInAEL,p=null;f!==null;)f.OutIdx>=0&&f.WindDelta!==0&&(p===null?p=f:p.OutIdx===f.OutIdx&&(p=null)),f=f.PrevInAEL;p===null?(o.FirstLeft=null,o.IsHole=!1):(o.FirstLeft=this.m_PolyOuts[p.OutIdx],o.IsHole=!o.FirstLeft.IsHole)},a.Clipper.prototype.GetDx=function(s,o){return s.Y===o.Y?a.ClipperBase.horizontal:(o.X-s.X)/(o.Y-s.Y)},a.Clipper.prototype.FirstIsBottomPt=function(s,o){for(var f=s.Prev;a.IntPoint.op_Equality(f.Pt,s.Pt)&&f!==s;)f=f.Prev;var p=Math.abs(this.GetDx(s.Pt,f.Pt));for(f=s.Next;a.IntPoint.op_Equality(f.Pt,s.Pt)&&f!==s;)f=f.Next;var _=Math.abs(this.GetDx(s.Pt,f.Pt));for(f=o.Prev;a.IntPoint.op_Equality(f.Pt,o.Pt)&&f!==o;)f=f.Prev;var Y=Math.abs(this.GetDx(o.Pt,f.Pt));for(f=o.Next;a.IntPoint.op_Equality(f.Pt,o.Pt)&&f!==o;)f=f.Next;var Q=Math.abs(this.GetDx(o.Pt,f.Pt));return Math.max(p,_)===Math.max(Y,Q)&&Math.min(p,_)===Math.min(Y,Q)?this.Area(s)>0:p>=Y&&p>=Q||_>=Y&&_>=Q},a.Clipper.prototype.GetBottomPt=function(s){for(var o=null,f=s.Next;f!==s;)f.Pt.Y>s.Pt.Y?(s=f,o=null):f.Pt.Y===s.Pt.Y&&f.Pt.X<=s.Pt.X&&(f.Pt.X<s.Pt.X?(o=null,s=f):f.Next!==s&&f.Prev!==s&&(o=f)),f=f.Next;if(o!==null)for(;o!==f;)for(this.FirstIsBottomPt(f,o)||(s=o),o=o.Next;a.IntPoint.op_Inequality(o.Pt,s.Pt);)o=o.Next;return s},a.Clipper.prototype.GetLowermostRec=function(s,o){s.BottomPt===null&&(s.BottomPt=this.GetBottomPt(s.Pts)),o.BottomPt===null&&(o.BottomPt=this.GetBottomPt(o.Pts));var f=s.BottomPt,p=o.BottomPt;return f.Pt.Y>p.Pt.Y?s:f.Pt.Y<p.Pt.Y?o:f.Pt.X<p.Pt.X?s:f.Pt.X>p.Pt.X||f.Next===f?o:p.Next===p||this.FirstIsBottomPt(f,p)?s:o},a.Clipper.prototype.OutRec1RightOfOutRec2=function(s,o){do if(s=s.FirstLeft,s===o)return!0;while(s!==null);return!1},a.Clipper.prototype.GetOutRec=function(s){for(var o=this.m_PolyOuts[s];o!==this.m_PolyOuts[o.Idx];)o=this.m_PolyOuts[o.Idx];return o},a.Clipper.prototype.AppendPolygon=function(s,o){var f=this.m_PolyOuts[s.OutIdx],p=this.m_PolyOuts[o.OutIdx],_;this.OutRec1RightOfOutRec2(f,p)?_=p:this.OutRec1RightOfOutRec2(p,f)?_=f:_=this.GetLowermostRec(f,p);var Y=f.Pts,Q=Y.Prev,st=p.Pts,ot=st.Prev;s.Side===a.EdgeSide.esLeft?o.Side===a.EdgeSide.esLeft?(this.ReversePolyPtLinks(st),st.Next=Y,Y.Prev=st,Q.Next=ot,ot.Prev=Q,f.Pts=ot):(ot.Next=Y,Y.Prev=ot,st.Prev=Q,Q.Next=st,f.Pts=st):o.Side===a.EdgeSide.esRight?(this.ReversePolyPtLinks(st),Q.Next=ot,ot.Prev=Q,st.Next=Y,Y.Prev=st):(Q.Next=st,st.Prev=Q,Y.Prev=ot,ot.Next=Y),f.BottomPt=null,_===p&&(p.FirstLeft!==f&&(f.FirstLeft=p.FirstLeft),f.IsHole=p.IsHole),p.Pts=null,p.BottomPt=null,p.FirstLeft=f;var bt=s.OutIdx,qt=o.OutIdx;s.OutIdx=-1,o.OutIdx=-1;for(var Ot=this.m_ActiveEdges;Ot!==null;){if(Ot.OutIdx===qt){Ot.OutIdx=bt,Ot.Side=s.Side;break}Ot=Ot.NextInAEL}p.Idx=f.Idx},a.Clipper.prototype.ReversePolyPtLinks=function(s){if(s!==null){var o,f;o=s;do f=o.Next,o.Next=o.Prev,o.Prev=f,o=f;while(o!==s)}},a.Clipper.SwapSides=function(s,o){var f=s.Side;s.Side=o.Side,o.Side=f},a.Clipper.SwapPolyIndexes=function(s,o){var f=s.OutIdx;s.OutIdx=o.OutIdx,o.OutIdx=f},a.Clipper.prototype.IntersectEdges=function(s,o,f){var p=s.OutIdx>=0,_=o.OutIdx>=0;if(a.use_xyz&&this.SetZ(f,s,o),a.use_lines&&(s.WindDelta===0||o.WindDelta===0)){if(s.WindDelta===0&&o.WindDelta===0)return;s.PolyTyp===o.PolyTyp&&s.WindDelta!==o.WindDelta&&this.m_ClipType===a.ClipType.ctUnion?s.WindDelta===0?_&&(this.AddOutPt(s,f),p&&(s.OutIdx=-1)):p&&(this.AddOutPt(o,f),_&&(o.OutIdx=-1)):s.PolyTyp!==o.PolyTyp&&(s.WindDelta===0&&Math.abs(o.WindCnt)===1&&(this.m_ClipType!==a.ClipType.ctUnion||o.WindCnt2===0)?(this.AddOutPt(s,f),p&&(s.OutIdx=-1)):o.WindDelta===0&&Math.abs(s.WindCnt)===1&&(this.m_ClipType!==a.ClipType.ctUnion||s.WindCnt2===0)&&(this.AddOutPt(o,f),_&&(o.OutIdx=-1)));return}if(s.PolyTyp===o.PolyTyp)if(this.IsEvenOddFillType(s)){var Y=s.WindCnt;s.WindCnt=o.WindCnt,o.WindCnt=Y}else s.WindCnt+o.WindDelta===0?s.WindCnt=-s.WindCnt:s.WindCnt+=o.WindDelta,o.WindCnt-s.WindDelta===0?o.WindCnt=-o.WindCnt:o.WindCnt-=s.WindDelta;else this.IsEvenOddFillType(o)?s.WindCnt2=s.WindCnt2===0?1:0:s.WindCnt2+=o.WindDelta,this.IsEvenOddFillType(s)?o.WindCnt2=o.WindCnt2===0?1:0:o.WindCnt2-=s.WindDelta;var Q,st,ot,bt;s.PolyTyp===a.PolyType.ptSubject?(Q=this.m_SubjFillType,ot=this.m_ClipFillType):(Q=this.m_ClipFillType,ot=this.m_SubjFillType),o.PolyTyp===a.PolyType.ptSubject?(st=this.m_SubjFillType,bt=this.m_ClipFillType):(st=this.m_ClipFillType,bt=this.m_SubjFillType);var qt,Ot;switch(Q){case a.PolyFillType.pftPositive:qt=s.WindCnt;break;case a.PolyFillType.pftNegative:qt=-s.WindCnt;break;default:qt=Math.abs(s.WindCnt);break}switch(st){case a.PolyFillType.pftPositive:Ot=o.WindCnt;break;case a.PolyFillType.pftNegative:Ot=-o.WindCnt;break;default:Ot=Math.abs(o.WindCnt);break}if(p&&_)qt!==0&&qt!==1||Ot!==0&&Ot!==1||s.PolyTyp!==o.PolyTyp&&this.m_ClipType!==a.ClipType.ctXor?this.AddLocalMaxPoly(s,o,f):(this.AddOutPt(s,f),this.AddOutPt(o,f),a.Clipper.SwapSides(s,o),a.Clipper.SwapPolyIndexes(s,o));else if(p)(Ot===0||Ot===1)&&(this.AddOutPt(s,f),a.Clipper.SwapSides(s,o),a.Clipper.SwapPolyIndexes(s,o));else if(_)(qt===0||qt===1)&&(this.AddOutPt(o,f),a.Clipper.SwapSides(s,o),a.Clipper.SwapPolyIndexes(s,o));else if((qt===0||qt===1)&&(Ot===0||Ot===1)){var $t,ce;switch(ot){case a.PolyFillType.pftPositive:$t=s.WindCnt2;break;case a.PolyFillType.pftNegative:$t=-s.WindCnt2;break;default:$t=Math.abs(s.WindCnt2);break}switch(bt){case a.PolyFillType.pftPositive:ce=o.WindCnt2;break;case a.PolyFillType.pftNegative:ce=-o.WindCnt2;break;default:ce=Math.abs(o.WindCnt2);break}if(s.PolyTyp!==o.PolyTyp)this.AddLocalMinPoly(s,o,f);else if(qt===1&&Ot===1)switch(this.m_ClipType){case a.ClipType.ctIntersection:$t>0&&ce>0&&this.AddLocalMinPoly(s,o,f);break;case a.ClipType.ctUnion:$t<=0&&ce<=0&&this.AddLocalMinPoly(s,o,f);break;case a.ClipType.ctDifference:(s.PolyTyp===a.PolyType.ptClip&&$t>0&&ce>0||s.PolyTyp===a.PolyType.ptSubject&&$t<=0&&ce<=0)&&this.AddLocalMinPoly(s,o,f);break;case a.ClipType.ctXor:this.AddLocalMinPoly(s,o,f);break}else a.Clipper.SwapSides(s,o)}},a.Clipper.prototype.DeleteFromSEL=function(s){var o=s.PrevInSEL,f=s.NextInSEL;o===null&&f===null&&s!==this.m_SortedEdges||(o!==null?o.NextInSEL=f:this.m_SortedEdges=f,f!==null&&(f.PrevInSEL=o),s.NextInSEL=null,s.PrevInSEL=null)},a.Clipper.prototype.ProcessHorizontals=function(){for(var s={};this.PopEdgeFromSEL(s);)this.ProcessHorizontal(s.v)},a.Clipper.prototype.GetHorzDirection=function(s,o){s.Bot.X<s.Top.X?(o.Left=s.Bot.X,o.Right=s.Top.X,o.Dir=a.Direction.dLeftToRight):(o.Left=s.Top.X,o.Right=s.Bot.X,o.Dir=a.Direction.dRightToLeft)},a.Clipper.prototype.ProcessHorizontal=function(s){var o={Dir:null,Left:null,Right:null};this.GetHorzDirection(s,o);for(var f=o.Dir,p=o.Left,_=o.Right,Y=s.WindDelta===0,Q=s,st=null;Q.NextInLML!==null&&a.ClipperBase.IsHorizontal(Q.NextInLML);)Q=Q.NextInLML;Q.NextInLML===null&&(st=this.GetMaximaPair(Q));var ot=this.m_Maxima;if(ot!==null)if(f===a.Direction.dLeftToRight){for(;ot!==null&&ot.X<=s.Bot.X;)ot=ot.Next;ot!==null&&ot.X>=Q.Top.X&&(ot=null)}else{for(;ot.Next!==null&&ot.Next.X<s.Bot.X;)ot=ot.Next;ot.X<=Q.Top.X&&(ot=null)}for(var bt=null;;){for(var qt=s===Q,Ot=this.GetNextInAEL(s,f);Ot!==null;){if(ot!==null)if(f===a.Direction.dLeftToRight)for(;ot!==null&&ot.X<Ot.Curr.X;)s.OutIdx>=0&&!Y&&this.AddOutPt(s,new a.IntPoint2(ot.X,s.Bot.Y)),ot=ot.Next;else for(;ot!==null&&ot.X>Ot.Curr.X;)s.OutIdx>=0&&!Y&&this.AddOutPt(s,new a.IntPoint2(ot.X,s.Bot.Y)),ot=ot.Prev;if(f===a.Direction.dLeftToRight&&Ot.Curr.X>_||f===a.Direction.dRightToLeft&&Ot.Curr.X<p||Ot.Curr.X===s.Top.X&&s.NextInLML!==null&&Ot.Dx<s.NextInLML.Dx)break;if(s.OutIdx>=0&&!Y){a.use_xyz&&(f===a.Direction.dLeftToRight?this.SetZ(Ot.Curr,s,Ot):this.SetZ(Ot.Curr,Ot,s)),bt=this.AddOutPt(s,Ot.Curr);for(var $t=this.m_SortedEdges;$t!==null;){if($t.OutIdx>=0&&this.HorzSegmentsOverlap(s.Bot.X,s.Top.X,$t.Bot.X,$t.Top.X)){var ce=this.GetLastOutPt($t);this.AddJoin(ce,bt,$t.Top)}$t=$t.NextInSEL}this.AddGhostJoin(bt,s.Bot)}if(Ot===st&&qt){s.OutIdx>=0&&this.AddLocalMaxPoly(s,st,s.Top),this.DeleteFromAEL(s),this.DeleteFromAEL(st);return}if(f===a.Direction.dLeftToRight){var _e=new a.IntPoint2(Ot.Curr.X,s.Curr.Y);this.IntersectEdges(s,Ot,_e)}else{var _e=new a.IntPoint2(Ot.Curr.X,s.Curr.Y);this.IntersectEdges(Ot,s,_e)}var de=this.GetNextInAEL(Ot,f);this.SwapPositionsInAEL(s,Ot),Ot=de}if(s.NextInLML===null||!a.ClipperBase.IsHorizontal(s.NextInLML))break;s=this.UpdateEdgeIntoAEL(s),s.OutIdx>=0&&this.AddOutPt(s,s.Bot),o={Dir:f,Left:p,Right:_},this.GetHorzDirection(s,o),f=o.Dir,p=o.Left,_=o.Right}if(s.OutIdx>=0&&bt===null){bt=this.GetLastOutPt(s);for(var $t=this.m_SortedEdges;$t!==null;){if($t.OutIdx>=0&&this.HorzSegmentsOverlap(s.Bot.X,s.Top.X,$t.Bot.X,$t.Top.X)){var ce=this.GetLastOutPt($t);this.AddJoin(ce,bt,$t.Top)}$t=$t.NextInSEL}this.AddGhostJoin(bt,s.Top)}if(s.NextInLML!==null)if(s.OutIdx>=0){if(bt=this.AddOutPt(s,s.Top),s=this.UpdateEdgeIntoAEL(s),s.WindDelta===0)return;var Je=s.PrevInAEL,de=s.NextInAEL;if(Je!==null&&Je.Curr.X===s.Bot.X&&Je.Curr.Y===s.Bot.Y&&Je.WindDelta===0&&Je.OutIdx>=0&&Je.Curr.Y>Je.Top.Y&&a.ClipperBase.SlopesEqual3(s,Je,this.m_UseFullRange)){var ce=this.AddOutPt(Je,s.Bot);this.AddJoin(bt,ce,s.Top)}else if(de!==null&&de.Curr.X===s.Bot.X&&de.Curr.Y===s.Bot.Y&&de.WindDelta!==0&&de.OutIdx>=0&&de.Curr.Y>de.Top.Y&&a.ClipperBase.SlopesEqual3(s,de,this.m_UseFullRange)){var ce=this.AddOutPt(de,s.Bot);this.AddJoin(bt,ce,s.Top)}}else s=this.UpdateEdgeIntoAEL(s);else s.OutIdx>=0&&this.AddOutPt(s,s.Top),this.DeleteFromAEL(s)},a.Clipper.prototype.GetNextInAEL=function(s,o){return o===a.Direction.dLeftToRight?s.NextInAEL:s.PrevInAEL},a.Clipper.prototype.IsMinima=function(s){return s!==null&&s.Prev.NextInLML!==s&&s.Next.NextInLML!==s},a.Clipper.prototype.IsMaxima=function(s,o){return s!==null&&s.Top.Y===o&&s.NextInLML===null},a.Clipper.prototype.IsIntermediate=function(s,o){return s.Top.Y===o&&s.NextInLML!==null},a.Clipper.prototype.GetMaximaPair=function(s){return a.IntPoint.op_Equality(s.Next.Top,s.Top)&&s.Next.NextInLML===null?s.Next:a.IntPoint.op_Equality(s.Prev.Top,s.Top)&&s.Prev.NextInLML===null?s.Prev:null},a.Clipper.prototype.GetMaximaPairEx=function(s){var o=this.GetMaximaPair(s);return o===null||o.OutIdx===a.ClipperBase.Skip||o.NextInAEL===o.PrevInAEL&&!a.ClipperBase.IsHorizontal(o)?null:o},a.Clipper.prototype.ProcessIntersections=function(s){if(this.m_ActiveEdges===null)return!0;try{if(this.BuildIntersectList(s),this.m_IntersectList.length===0)return!0;if(this.m_IntersectList.length===1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,a.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},a.Clipper.prototype.BuildIntersectList=function(s){if(this.m_ActiveEdges!==null){var o=this.m_ActiveEdges;for(this.m_SortedEdges=o;o!==null;)o.PrevInSEL=o.PrevInAEL,o.NextInSEL=o.NextInAEL,o.Curr.X=a.Clipper.TopX(o,s),o=o.NextInAEL;for(var f=!0;f&&this.m_SortedEdges!==null;){for(f=!1,o=this.m_SortedEdges;o.NextInSEL!==null;){var p=o.NextInSEL,_=new a.IntPoint0;if(o.Curr.X>p.Curr.X){this.IntersectPoint(o,p,_),_.Y<s&&(_=new a.IntPoint2(a.Clipper.TopX(o,s),s));var Y=new a.IntersectNode;Y.Edge1=o,Y.Edge2=p,Y.Pt.X=_.X,Y.Pt.Y=_.Y,a.use_xyz&&(Y.Pt.Z=_.Z),this.m_IntersectList.push(Y),this.SwapPositionsInSEL(o,p),f=!0}else o=p}if(o.PrevInSEL!==null)o.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},a.Clipper.prototype.EdgesAdjacent=function(s){return s.Edge1.NextInSEL===s.Edge2||s.Edge1.PrevInSEL===s.Edge2},a.Clipper.IntersectNodeSort=function(s,o){return o.Pt.Y-s.Pt.Y},a.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var s=this.m_IntersectList.length,o=0;o<s;o++){if(!this.EdgesAdjacent(this.m_IntersectList[o])){for(var f=o+1;f<s&&!this.EdgesAdjacent(this.m_IntersectList[f]);)f++;if(f===s)return!1;var p=this.m_IntersectList[o];this.m_IntersectList[o]=this.m_IntersectList[f],this.m_IntersectList[f]=p}this.SwapPositionsInSEL(this.m_IntersectList[o].Edge1,this.m_IntersectList[o].Edge2)}return!0},a.Clipper.prototype.ProcessIntersectList=function(){for(var s=0,o=this.m_IntersectList.length;s<o;s++){var f=this.m_IntersectList[s];this.IntersectEdges(f.Edge1,f.Edge2,f.Pt),this.SwapPositionsInAEL(f.Edge1,f.Edge2)}this.m_IntersectList.length=0};var Ir=function(s){return s<0?Math.ceil(s-.5):Math.round(s)},ws=function(s){return s<0?Math.ceil(s-.5):Math.floor(s+.5)},kr=function(s){return s<0?-Math.round(Math.abs(s)):Math.round(s)},qa=function(s){return s<0?(s-=.5,s<-2147483648?Math.ceil(s):s|0):(s+=.5,s>2147483647?Math.floor(s):s|0)};b.msie?a.Clipper.Round=Ir:b.chromium?a.Clipper.Round=kr:b.safari?a.Clipper.Round=qa:a.Clipper.Round=ws,a.Clipper.TopX=function(s,o){return o===s.Top.Y?s.Top.X:s.Bot.X+a.Clipper.Round(s.Dx*(o-s.Bot.Y))},a.Clipper.prototype.IntersectPoint=function(s,o,f){f.X=0,f.Y=0;var p,_;if(s.Dx===o.Dx){f.Y=s.Curr.Y,f.X=a.Clipper.TopX(s,f.Y);return}if(s.Delta.X===0)f.X=s.Bot.X,a.ClipperBase.IsHorizontal(o)?f.Y=o.Bot.Y:(_=o.Bot.Y-o.Bot.X/o.Dx,f.Y=a.Clipper.Round(f.X/o.Dx+_));else if(o.Delta.X===0)f.X=o.Bot.X,a.ClipperBase.IsHorizontal(s)?f.Y=s.Bot.Y:(p=s.Bot.Y-s.Bot.X/s.Dx,f.Y=a.Clipper.Round(f.X/s.Dx+p));else{p=s.Bot.X-s.Bot.Y*s.Dx,_=o.Bot.X-o.Bot.Y*o.Dx;var Y=(_-p)/(s.Dx-o.Dx);f.Y=a.Clipper.Round(Y),Math.abs(s.Dx)<Math.abs(o.Dx)?f.X=a.Clipper.Round(s.Dx*Y+p):f.X=a.Clipper.Round(o.Dx*Y+_)}if(f.Y<s.Top.Y||f.Y<o.Top.Y){if(s.Top.Y>o.Top.Y)return f.Y=s.Top.Y,f.X=a.Clipper.TopX(o,s.Top.Y),f.X<s.Top.X;f.Y=o.Top.Y,Math.abs(s.Dx)<Math.abs(o.Dx)?f.X=a.Clipper.TopX(s,f.Y):f.X=a.Clipper.TopX(o,f.Y)}f.Y>s.Curr.Y&&(f.Y=s.Curr.Y,Math.abs(s.Dx)>Math.abs(o.Dx)?f.X=a.Clipper.TopX(o,f.Y):f.X=a.Clipper.TopX(s,f.Y))},a.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(s){for(var o=this.m_ActiveEdges;o!==null;){var f=this.IsMaxima(o,s);if(f){var p=this.GetMaximaPairEx(o);f=p===null||!a.ClipperBase.IsHorizontal(p)}if(f){this.StrictlySimple&&this.InsertMaxima(o.Top.X);var _=o.PrevInAEL;this.DoMaxima(o),_===null?o=this.m_ActiveEdges:o=_.NextInAEL}else{if(this.IsIntermediate(o,s)&&a.ClipperBase.IsHorizontal(o.NextInLML)?(o=this.UpdateEdgeIntoAEL(o),o.OutIdx>=0&&this.AddOutPt(o,o.Bot),this.AddEdgeToSEL(o)):(o.Curr.X=a.Clipper.TopX(o,s),o.Curr.Y=s),a.use_xyz&&(o.Top.Y===s?o.Curr.Z=o.Top.Z:o.Bot.Y===s?o.Curr.Z=o.Bot.Z:o.Curr.Z=0),this.StrictlySimple){var _=o.PrevInAEL;if(o.OutIdx>=0&&o.WindDelta!==0&&_!==null&&_.OutIdx>=0&&_.Curr.X===o.Curr.X&&_.WindDelta!==0){var Y=new a.IntPoint1(o.Curr);a.use_xyz&&this.SetZ(Y,_,o);var Q=this.AddOutPt(_,Y),st=this.AddOutPt(o,Y);this.AddJoin(Q,st,Y)}}o=o.NextInAEL}}for(this.ProcessHorizontals(),this.m_Maxima=null,o=this.m_ActiveEdges;o!==null;){if(this.IsIntermediate(o,s)){var Q=null;o.OutIdx>=0&&(Q=this.AddOutPt(o,o.Top)),o=this.UpdateEdgeIntoAEL(o);var _=o.PrevInAEL,ot=o.NextInAEL;if(_!==null&&_.Curr.X===o.Bot.X&&_.Curr.Y===o.Bot.Y&&Q!==null&&_.OutIdx>=0&&_.Curr.Y===_.Top.Y&&a.ClipperBase.SlopesEqual5(o.Curr,o.Top,_.Curr,_.Top,this.m_UseFullRange)&&o.WindDelta!==0&&_.WindDelta!==0){var st=this.AddOutPt(ePrev2,o.Bot);this.AddJoin(Q,st,o.Top)}else if(ot!==null&&ot.Curr.X===o.Bot.X&&ot.Curr.Y===o.Bot.Y&&Q!==null&&ot.OutIdx>=0&&ot.Curr.Y===ot.Top.Y&&a.ClipperBase.SlopesEqual5(o.Curr,o.Top,ot.Curr,ot.Top,this.m_UseFullRange)&&o.WindDelta!==0&&ot.WindDelta!==0){var st=this.AddOutPt(ot,o.Bot);this.AddJoin(Q,st,o.Top)}}o=o.NextInAEL}},a.Clipper.prototype.DoMaxima=function(s){var o=this.GetMaximaPairEx(s);if(o===null){s.OutIdx>=0&&this.AddOutPt(s,s.Top),this.DeleteFromAEL(s);return}for(var f=s.NextInAEL;f!==null&&f!==o;)this.IntersectEdges(s,f,s.Top),this.SwapPositionsInAEL(s,f),f=s.NextInAEL;s.OutIdx===-1&&o.OutIdx===-1?(this.DeleteFromAEL(s),this.DeleteFromAEL(o)):s.OutIdx>=0&&o.OutIdx>=0?(s.OutIdx>=0&&this.AddLocalMaxPoly(s,o,s.Top),this.DeleteFromAEL(s),this.DeleteFromAEL(o)):a.use_lines&&s.WindDelta===0?(s.OutIdx>=0&&(this.AddOutPt(s,s.Top),s.OutIdx=a.ClipperBase.Unassigned),this.DeleteFromAEL(s),o.OutIdx>=0&&(this.AddOutPt(o,s.Top),o.OutIdx=a.ClipperBase.Unassigned),this.DeleteFromAEL(o)):a.Error("DoMaxima error")},a.Clipper.ReversePaths=function(s){for(var o=0,f=s.length;o<f;o++)s[o].reverse()},a.Clipper.Orientation=function(s){return a.Clipper.Area(s)>=0},a.Clipper.prototype.PointCount=function(s){if(s===null)return 0;var o=0,f=s;do o++,f=f.Next;while(f!==s);return o},a.Clipper.prototype.BuildResult=function(s){a.Clear(s);for(var o=0,f=this.m_PolyOuts.length;o<f;o++){var p=this.m_PolyOuts[o];if(p.Pts!==null){var _=p.Pts.Prev,Y=this.PointCount(_);if(!(Y<2)){for(var Q=new Array(Y),st=0;st<Y;st++)Q[st]=_.Pt,_=_.Prev;s.push(Q)}}}},a.Clipper.prototype.BuildResult2=function(s){s.Clear();for(var o=0,f=this.m_PolyOuts.length;o<f;o++){var p=this.m_PolyOuts[o],_=this.PointCount(p.Pts);if(!(p.IsOpen&&_<2||!p.IsOpen&&_<3)){this.FixHoleLinkage(p);var Y=new a.PolyNode;s.m_AllPolys.push(Y),p.PolyNode=Y,Y.m_polygon.length=_;for(var Q=p.Pts.Prev,st=0;st<_;st++)Y.m_polygon[st]=Q.Pt,Q=Q.Prev}}for(var o=0,f=this.m_PolyOuts.length;o<f;o++){var p=this.m_PolyOuts[o];p.PolyNode!==null&&(p.IsOpen?(p.PolyNode.IsOpen=!0,s.AddChild(p.PolyNode)):p.FirstLeft!==null&&p.FirstLeft.PolyNode!==null?p.FirstLeft.PolyNode.AddChild(p.PolyNode):s.AddChild(p.PolyNode))}},a.Clipper.prototype.FixupOutPolyline=function(s){for(var o=s.Pts,f=o.Prev;o!==f;)if(o=o.Next,a.IntPoint.op_Equality(o.Pt,o.Prev.Pt)){o===f&&(f=o.Prev);var p=o.Prev;p.Next=o.Next,o.Next.Prev=p,o=p}o===o.Prev&&(s.Pts=null)},a.Clipper.prototype.FixupOutPolygon=function(s){var o=null;s.BottomPt=null;for(var f=s.Pts,p=this.PreserveCollinear||this.StrictlySimple;;){if(f.Prev===f||f.Prev===f.Next){s.Pts=null;return}if(a.IntPoint.op_Equality(f.Pt,f.Next.Pt)||a.IntPoint.op_Equality(f.Pt,f.Prev.Pt)||a.ClipperBase.SlopesEqual4(f.Prev.Pt,f.Pt,f.Next.Pt,this.m_UseFullRange)&&(!p||!this.Pt2IsBetweenPt1AndPt3(f.Prev.Pt,f.Pt,f.Next.Pt)))o=null,f.Prev.Next=f.Next,f.Next.Prev=f.Prev,f=f.Prev;else{if(f===o)break;o===null&&(o=f),f=f.Next}}s.Pts=f},a.Clipper.prototype.DupOutPt=function(s,o){var f=new a.OutPt;return f.Pt.X=s.Pt.X,f.Pt.Y=s.Pt.Y,a.use_xyz&&(f.Pt.Z=s.Pt.Z),f.Idx=s.Idx,o?(f.Next=s.Next,f.Prev=s,s.Next.Prev=f,s.Next=f):(f.Prev=s.Prev,f.Next=s,s.Prev.Next=f,s.Prev=f),f},a.Clipper.prototype.GetOverlap=function(s,o,f,p,_){return s<o?f<p?(_.Left=Math.max(s,f),_.Right=Math.min(o,p)):(_.Left=Math.max(s,p),_.Right=Math.min(o,f)):f<p?(_.Left=Math.max(o,f),_.Right=Math.min(s,p)):(_.Left=Math.max(o,p),_.Right=Math.min(s,f)),_.Left<_.Right},a.Clipper.prototype.JoinHorz=function(s,o,f,p,_,Y){var Q=s.Pt.X>o.Pt.X?a.Direction.dRightToLeft:a.Direction.dLeftToRight,st=f.Pt.X>p.Pt.X?a.Direction.dRightToLeft:a.Direction.dLeftToRight;if(Q===st)return!1;if(Q===a.Direction.dLeftToRight){for(;s.Next.Pt.X<=_.X&&s.Next.Pt.X>=s.Pt.X&&s.Next.Pt.Y===_.Y;)s=s.Next;Y&&s.Pt.X!==_.X&&(s=s.Next),o=this.DupOutPt(s,!Y),a.IntPoint.op_Inequality(o.Pt,_)&&(s=o,s.Pt.X=_.X,s.Pt.Y=_.Y,a.use_xyz&&(s.Pt.Z=_.Z),o=this.DupOutPt(s,!Y))}else{for(;s.Next.Pt.X>=_.X&&s.Next.Pt.X<=s.Pt.X&&s.Next.Pt.Y===_.Y;)s=s.Next;!Y&&s.Pt.X!==_.X&&(s=s.Next),o=this.DupOutPt(s,Y),a.IntPoint.op_Inequality(o.Pt,_)&&(s=o,s.Pt.X=_.X,s.Pt.Y=_.Y,a.use_xyz&&(s.Pt.Z=_.Z),o=this.DupOutPt(s,Y))}if(st===a.Direction.dLeftToRight){for(;f.Next.Pt.X<=_.X&&f.Next.Pt.X>=f.Pt.X&&f.Next.Pt.Y===_.Y;)f=f.Next;Y&&f.Pt.X!==_.X&&(f=f.Next),p=this.DupOutPt(f,!Y),a.IntPoint.op_Inequality(p.Pt,_)&&(f=p,f.Pt.X=_.X,f.Pt.Y=_.Y,a.use_xyz&&(f.Pt.Z=_.Z),p=this.DupOutPt(f,!Y))}else{for(;f.Next.Pt.X>=_.X&&f.Next.Pt.X<=f.Pt.X&&f.Next.Pt.Y===_.Y;)f=f.Next;!Y&&f.Pt.X!==_.X&&(f=f.Next),p=this.DupOutPt(f,Y),a.IntPoint.op_Inequality(p.Pt,_)&&(f=p,f.Pt.X=_.X,f.Pt.Y=_.Y,a.use_xyz&&(f.Pt.Z=_.Z),p=this.DupOutPt(f,Y))}return Q===a.Direction.dLeftToRight===Y?(s.Prev=f,f.Next=s,o.Next=p,p.Prev=o):(s.Next=f,f.Prev=s,o.Prev=p,p.Next=o),!0},a.Clipper.prototype.JoinPoints=function(s,o,f){var p=s.OutPt1,_=new a.OutPt,Y=s.OutPt2,Q=new a.OutPt,st=s.OutPt1.Pt.Y===s.OffPt.Y;if(st&&a.IntPoint.op_Equality(s.OffPt,s.OutPt1.Pt)&&a.IntPoint.op_Equality(s.OffPt,s.OutPt2.Pt)){if(o!==f)return!1;for(_=s.OutPt1.Next;_!==p&&a.IntPoint.op_Equality(_.Pt,s.OffPt);)_=_.Next;var ot=_.Pt.Y>s.OffPt.Y;for(Q=s.OutPt2.Next;Q!==Y&&a.IntPoint.op_Equality(Q.Pt,s.OffPt);)Q=Q.Next;var bt=Q.Pt.Y>s.OffPt.Y;return ot===bt?!1:ot?(_=this.DupOutPt(p,!1),Q=this.DupOutPt(Y,!0),p.Prev=Y,Y.Next=p,_.Next=Q,Q.Prev=_,s.OutPt1=p,s.OutPt2=_,!0):(_=this.DupOutPt(p,!0),Q=this.DupOutPt(Y,!1),p.Next=Y,Y.Prev=p,_.Prev=Q,Q.Next=_,s.OutPt1=p,s.OutPt2=_,!0)}else if(st){for(_=p;p.Prev.Pt.Y===p.Pt.Y&&p.Prev!==_&&p.Prev!==Y;)p=p.Prev;for(;_.Next.Pt.Y===_.Pt.Y&&_.Next!==p&&_.Next!==Y;)_=_.Next;if(_.Next===p||_.Next===Y)return!1;for(Q=Y;Y.Prev.Pt.Y===Y.Pt.Y&&Y.Prev!==Q&&Y.Prev!==_;)Y=Y.Prev;for(;Q.Next.Pt.Y===Q.Pt.Y&&Q.Next!==Y&&Q.Next!==p;)Q=Q.Next;if(Q.Next===Y||Q.Next===p)return!1;var qt={Left:null,Right:null};if(!this.GetOverlap(p.Pt.X,_.Pt.X,Y.Pt.X,Q.Pt.X,qt))return!1;var Ot=qt.Left,$t=qt.Right,ce=new a.IntPoint0,_e;return p.Pt.X>=Ot&&p.Pt.X<=$t?(ce.X=p.Pt.X,ce.Y=p.Pt.Y,a.use_xyz&&(ce.Z=p.Pt.Z),_e=p.Pt.X>_.Pt.X):Y.Pt.X>=Ot&&Y.Pt.X<=$t?(ce.X=Y.Pt.X,ce.Y=Y.Pt.Y,a.use_xyz&&(ce.Z=Y.Pt.Z),_e=Y.Pt.X>Q.Pt.X):_.Pt.X>=Ot&&_.Pt.X<=$t?(ce.X=_.Pt.X,ce.Y=_.Pt.Y,a.use_xyz&&(ce.Z=_.Pt.Z),_e=_.Pt.X>p.Pt.X):(ce.X=Q.Pt.X,ce.Y=Q.Pt.Y,a.use_xyz&&(ce.Z=Q.Pt.Z),_e=Q.Pt.X>Y.Pt.X),s.OutPt1=p,s.OutPt2=Y,this.JoinHorz(p,_,Y,Q,ce,_e)}else{for(_=p.Next;a.IntPoint.op_Equality(_.Pt,p.Pt)&&_!==p;)_=_.Next;var de=_.Pt.Y>p.Pt.Y||!a.ClipperBase.SlopesEqual4(p.Pt,_.Pt,s.OffPt,this.m_UseFullRange);if(de){for(_=p.Prev;a.IntPoint.op_Equality(_.Pt,p.Pt)&&_!==p;)_=_.Prev;if(_.Pt.Y>p.Pt.Y||!a.ClipperBase.SlopesEqual4(p.Pt,_.Pt,s.OffPt,this.m_UseFullRange))return!1}for(Q=Y.Next;a.IntPoint.op_Equality(Q.Pt,Y.Pt)&&Q!==Y;)Q=Q.Next;var Je=Q.Pt.Y>Y.Pt.Y||!a.ClipperBase.SlopesEqual4(Y.Pt,Q.Pt,s.OffPt,this.m_UseFullRange);if(Je){for(Q=Y.Prev;a.IntPoint.op_Equality(Q.Pt,Y.Pt)&&Q!==Y;)Q=Q.Prev;if(Q.Pt.Y>Y.Pt.Y||!a.ClipperBase.SlopesEqual4(Y.Pt,Q.Pt,s.OffPt,this.m_UseFullRange))return!1}return _===p||Q===Y||_===Q||o===f&&de===Je?!1:de?(_=this.DupOutPt(p,!1),Q=this.DupOutPt(Y,!0),p.Prev=Y,Y.Next=p,_.Next=Q,Q.Prev=_,s.OutPt1=p,s.OutPt2=_,!0):(_=this.DupOutPt(p,!0),Q=this.DupOutPt(Y,!1),p.Next=Y,Y.Prev=p,_.Prev=Q,Q.Next=_,s.OutPt1=p,s.OutPt2=_,!0)}},a.Clipper.GetBounds=function(s){for(var o=0,f=s.length;o<f&&s[o].length===0;)o++;if(o===f)return new a.IntRect(0,0,0,0);var p=new a.IntRect;for(p.left=s[o][0].X,p.right=p.left,p.top=s[o][0].Y,p.bottom=p.top;o<f;o++)for(var _=0,Y=s[o].length;_<Y;_++)s[o][_].X<p.left?p.left=s[o][_].X:s[o][_].X>p.right&&(p.right=s[o][_].X),s[o][_].Y<p.top?p.top=s[o][_].Y:s[o][_].Y>p.bottom&&(p.bottom=s[o][_].Y);return p},a.Clipper.prototype.GetBounds2=function(s){var o=s,f=new a.IntRect;for(f.left=s.Pt.X,f.right=s.Pt.X,f.top=s.Pt.Y,f.bottom=s.Pt.Y,s=s.Next;s!==o;)s.Pt.X<f.left&&(f.left=s.Pt.X),s.Pt.X>f.right&&(f.right=s.Pt.X),s.Pt.Y<f.top&&(f.top=s.Pt.Y),s.Pt.Y>f.bottom&&(f.bottom=s.Pt.Y),s=s.Next;return f},a.Clipper.PointInPolygon=function(s,o){var f=0,p=o.length;if(p<3)return 0;for(var _=o[0],Y=1;Y<=p;++Y){var Q=Y===p?o[0]:o[Y];if(Q.Y===s.Y&&(Q.X===s.X||_.Y===s.Y&&Q.X>s.X==_.X<s.X))return-1;if(_.Y<s.Y!=Q.Y<s.Y){if(_.X>=s.X)if(Q.X>s.X)f=1-f;else{var st=(_.X-s.X)*(Q.Y-s.Y)-(Q.X-s.X)*(_.Y-s.Y);if(st===0)return-1;st>0==Q.Y>_.Y&&(f=1-f)}else if(Q.X>s.X){var st=(_.X-s.X)*(Q.Y-s.Y)-(Q.X-s.X)*(_.Y-s.Y);if(st===0)return-1;st>0==Q.Y>_.Y&&(f=1-f)}}_=Q}return f},a.Clipper.prototype.PointInPolygon=function(s,o){var f=0,p=o,_=s.X,Y=s.Y,Q=o.Pt.X,st=o.Pt.Y;do{o=o.Next;var ot=o.Pt.X,bt=o.Pt.Y;if(bt===Y&&(ot===_||st===Y&&ot>_==Q<_))return-1;if(st<Y!=bt<Y){if(Q>=_)if(ot>_)f=1-f;else{var qt=(Q-_)*(bt-Y)-(ot-_)*(st-Y);if(qt===0)return-1;qt>0==bt>st&&(f=1-f)}else if(ot>_){var qt=(Q-_)*(bt-Y)-(ot-_)*(st-Y);if(qt===0)return-1;qt>0==bt>st&&(f=1-f)}}Q=ot,st=bt}while(p!==o);return f},a.Clipper.prototype.Poly2ContainsPoly1=function(s,o){var f=s;do{var p=this.PointInPolygon(f.Pt,o);if(p>=0)return p>0;f=f.Next}while(f!==s);return!0},a.Clipper.prototype.FixupFirstLefts1=function(s,o){for(var f,p,_=0,Y=this.m_PolyOuts.length;_<Y;_++)f=this.m_PolyOuts[_],p=a.Clipper.ParseFirstLeft(f.FirstLeft),f.Pts!==null&&p===s&&this.Poly2ContainsPoly1(f.Pts,o.Pts)&&(f.FirstLeft=o)},a.Clipper.prototype.FixupFirstLefts2=function(s,o){for(var f=o.FirstLeft,p,_,Y=0,Q=this.m_PolyOuts.length;Y<Q;Y++)p=this.m_PolyOuts[Y],!(p.Pts===null||p===o||p===s)&&(_=a.Clipper.ParseFirstLeft(p.FirstLeft),!(_!==f&&_!==s&&_!==o)&&(this.Poly2ContainsPoly1(p.Pts,s.Pts)?p.FirstLeft=s:this.Poly2ContainsPoly1(p.Pts,o.Pts)?p.FirstLeft=o:(p.FirstLeft===s||p.FirstLeft===o)&&(p.FirstLeft=f)))},a.Clipper.prototype.FixupFirstLefts3=function(s,o){for(var f,p,_=0,Y=this.m_PolyOuts.length;_<Y;_++)f=this.m_PolyOuts[_],p=a.Clipper.ParseFirstLeft(f.FirstLeft),f.Pts!==null&&p===s&&(f.FirstLeft=o)},a.Clipper.ParseFirstLeft=function(s){for(;s!==null&&s.Pts===null;)s=s.FirstLeft;return s},a.Clipper.prototype.JoinCommonEdges=function(){for(var s=0,o=this.m_Joins.length;s<o;s++){var f=this.m_Joins[s],p=this.GetOutRec(f.OutPt1.Idx),_=this.GetOutRec(f.OutPt2.Idx);if(!(p.Pts===null||_.Pts===null)&&!(p.IsOpen||_.IsOpen)){var Y;p===_?Y=p:this.OutRec1RightOfOutRec2(p,_)?Y=_:this.OutRec1RightOfOutRec2(_,p)?Y=p:Y=this.GetLowermostRec(p,_),this.JoinPoints(f,p,_)&&(p===_?(p.Pts=f.OutPt1,p.BottomPt=null,_=this.CreateOutRec(),_.Pts=f.OutPt2,this.UpdateOutPtIdxs(_),this.Poly2ContainsPoly1(_.Pts,p.Pts)?(_.IsHole=!p.IsHole,_.FirstLeft=p,this.m_UsingPolyTree&&this.FixupFirstLefts2(_,p),(_.IsHole^this.ReverseSolution)==this.Area$1(_)>0&&this.ReversePolyPtLinks(_.Pts)):this.Poly2ContainsPoly1(p.Pts,_.Pts)?(_.IsHole=p.IsHole,p.IsHole=!_.IsHole,_.FirstLeft=p.FirstLeft,p.FirstLeft=_,this.m_UsingPolyTree&&this.FixupFirstLefts2(p,_),(p.IsHole^this.ReverseSolution)==this.Area$1(p)>0&&this.ReversePolyPtLinks(p.Pts)):(_.IsHole=p.IsHole,_.FirstLeft=p.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(p,_))):(_.Pts=null,_.BottomPt=null,_.Idx=p.Idx,p.IsHole=Y.IsHole,Y===_&&(p.FirstLeft=_.FirstLeft),_.FirstLeft=p,this.m_UsingPolyTree&&this.FixupFirstLefts3(_,p)))}}},a.Clipper.prototype.UpdateOutPtIdxs=function(s){var o=s.Pts;do o.Idx=s.Idx,o=o.Prev;while(o!==s.Pts)},a.Clipper.prototype.DoSimplePolygons=function(){for(var s=0;s<this.m_PolyOuts.length;){var o=this.m_PolyOuts[s++],f=o.Pts;if(!(f===null||o.IsOpen))do{for(var p=f.Next;p!==o.Pts;){if(a.IntPoint.op_Equality(f.Pt,p.Pt)&&p.Next!==f&&p.Prev!==f){var _=f.Prev,Y=p.Prev;f.Prev=Y,Y.Next=f,p.Prev=_,_.Next=p,o.Pts=f;var Q=this.CreateOutRec();Q.Pts=p,this.UpdateOutPtIdxs(Q),this.Poly2ContainsPoly1(Q.Pts,o.Pts)?(Q.IsHole=!o.IsHole,Q.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(Q,o)):this.Poly2ContainsPoly1(o.Pts,Q.Pts)?(Q.IsHole=o.IsHole,o.IsHole=!Q.IsHole,Q.FirstLeft=o.FirstLeft,o.FirstLeft=Q,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,Q)):(Q.IsHole=o.IsHole,Q.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,Q)),p=f}p=p.Next}f=f.Next}while(f!==o.Pts)}},a.Clipper.Area=function(s){if(!Array.isArray(s))return 0;var o=s.length;if(o<3)return 0;for(var f=0,p=0,_=o-1;p<o;++p)f+=(s[_].X+s[p].X)*(s[_].Y-s[p].Y),_=p;return-f*.5},a.Clipper.prototype.Area=function(s){var o=s;if(s===null)return 0;var f=0;do f=f+(s.Prev.Pt.X+s.Pt.X)*(s.Prev.Pt.Y-s.Pt.Y),s=s.Next;while(s!==o);return f*.5},a.Clipper.prototype.Area$1=function(s){return this.Area(s.Pts)},a.Clipper.SimplifyPolygon=function(s,o){var f=new Array,p=new a.Clipper(0);return p.StrictlySimple=!0,p.AddPath(s,a.PolyType.ptSubject,!0),p.Execute(a.ClipType.ctUnion,f,o,o),f},a.Clipper.SimplifyPolygons=function(s,o){typeof o>"u"&&(o=a.PolyFillType.pftEvenOdd);var f=new Array,p=new a.Clipper(0);return p.StrictlySimple=!0,p.AddPaths(s,a.PolyType.ptSubject,!0),p.Execute(a.ClipType.ctUnion,f,o,o),f},a.Clipper.DistanceSqrd=function(s,o){var f=s.X-o.X,p=s.Y-o.Y;return f*f+p*p},a.Clipper.DistanceFromLineSqrd=function(s,o,f){var p=o.Y-f.Y,_=f.X-o.X,Y=p*o.X+_*o.Y;return Y=p*s.X+_*s.Y-Y,Y*Y/(p*p+_*_)},a.Clipper.SlopesNearCollinear=function(s,o,f,p){return Math.abs(s.X-o.X)>Math.abs(s.Y-o.Y)?s.X>o.X==s.X<f.X?a.Clipper.DistanceFromLineSqrd(s,o,f)<p:o.X>s.X==o.X<f.X?a.Clipper.DistanceFromLineSqrd(o,s,f)<p:a.Clipper.DistanceFromLineSqrd(f,s,o)<p:s.Y>o.Y==s.Y<f.Y?a.Clipper.DistanceFromLineSqrd(s,o,f)<p:o.Y>s.Y==o.Y<f.Y?a.Clipper.DistanceFromLineSqrd(o,s,f)<p:a.Clipper.DistanceFromLineSqrd(f,s,o)<p},a.Clipper.PointsAreClose=function(s,o,f){var p=s.X-o.X,_=s.Y-o.Y;return p*p+_*_<=f},a.Clipper.ExcludeOp=function(s){var o=s.Prev;return o.Next=s.Next,s.Next.Prev=o,o.Idx=0,o},a.Clipper.CleanPolygon=function(s,o){typeof o>"u"&&(o=1.415);var f=s.length;if(f===0)return new Array;for(var p=new Array(f),_=0;_<f;++_)p[_]=new a.OutPt;for(var _=0;_<f;++_)p[_].Pt=s[_],p[_].Next=p[(_+1)%f],p[_].Next.Prev=p[_],p[_].Idx=0;for(var Y=o*o,Q=p[0];Q.Idx===0&&Q.Next!==Q.Prev;)a.Clipper.PointsAreClose(Q.Pt,Q.Prev.Pt,Y)?(Q=a.Clipper.ExcludeOp(Q),f--):a.Clipper.PointsAreClose(Q.Prev.Pt,Q.Next.Pt,Y)?(a.Clipper.ExcludeOp(Q.Next),Q=a.Clipper.ExcludeOp(Q),f-=2):a.Clipper.SlopesNearCollinear(Q.Prev.Pt,Q.Pt,Q.Next.Pt,Y)?(Q=a.Clipper.ExcludeOp(Q),f--):(Q.Idx=1,Q=Q.Next);f<3&&(f=0);for(var st=new Array(f),_=0;_<f;++_)st[_]=new a.IntPoint1(Q.Pt),Q=Q.Next;return p=null,st},a.Clipper.CleanPolygons=function(s,o){for(var f=new Array(s.length),p=0,_=s.length;p<_;p++)f[p]=a.Clipper.CleanPolygon(s[p],o);return f},a.Clipper.Minkowski=function(s,o,f,p){var _=p?1:0,Y=s.length,Q=o.length,st=new Array;if(f)for(var ot=0;ot<Q;ot++){for(var bt=new Array(Y),qt=0,Ot=s.length,$t=s[qt];qt<Ot;qt++,$t=s[qt])bt[qt]=new a.IntPoint2(o[ot].X+$t.X,o[ot].Y+$t.Y);st.push(bt)}else for(var ot=0;ot<Q;ot++){for(var bt=new Array(Y),qt=0,Ot=s.length,$t=s[qt];qt<Ot;qt++,$t=s[qt])bt[qt]=new a.IntPoint2(o[ot].X-$t.X,o[ot].Y-$t.Y);st.push(bt)}for(var ce=new Array,ot=0;ot<Q-1+_;ot++)for(var qt=0;qt<Y;qt++){var _e=new Array;_e.push(st[ot%Q][qt%Y]),_e.push(st[(ot+1)%Q][qt%Y]),_e.push(st[(ot+1)%Q][(qt+1)%Y]),_e.push(st[ot%Q][(qt+1)%Y]),a.Clipper.Orientation(_e)||_e.reverse(),ce.push(_e)}return ce},a.Clipper.MinkowskiSum=function(s,o,f){if(o[0]instanceof Array){for(var _=o,Q=new a.Paths,Y=new a.Clipper,st=0;st<_.length;++st){var ot=a.Clipper.Minkowski(s,_[st],!0,f);if(Y.AddPaths(ot,a.PolyType.ptSubject,!0),f){var p=a.Clipper.TranslatePath(_[st],s[0]);Y.AddPath(p,a.PolyType.ptClip,!0)}}return Y.Execute(a.ClipType.ctUnion,Q,a.PolyFillType.pftNonZero,a.PolyFillType.pftNonZero),Q}else{var p=o,_=a.Clipper.Minkowski(s,p,!0,f),Y=new a.Clipper;return Y.AddPaths(_,a.PolyType.ptSubject,!0),Y.Execute(a.ClipType.ctUnion,_,a.PolyFillType.pftNonZero,a.PolyFillType.pftNonZero),_}},a.Clipper.TranslatePath=function(s,o){for(var f=new a.Path,p=0;p<s.length;p++)f.push(new a.IntPoint2(s[p].X+o.X,s[p].Y+o.Y));return f},a.Clipper.MinkowskiDiff=function(s,o){var f=a.Clipper.Minkowski(s,o,!1,!0),p=new a.Clipper;return p.AddPaths(f,a.PolyType.ptSubject,!0),p.Execute(a.ClipType.ctUnion,f,a.PolyFillType.pftNonZero,a.PolyFillType.pftNonZero),f},a.Clipper.PolyTreeToPaths=function(s){var o=new Array;return a.Clipper.AddPolyNodeToPaths(s,a.Clipper.NodeType.ntAny,o),o},a.Clipper.AddPolyNodeToPaths=function(s,o,f){var p=!0;switch(o){case a.Clipper.NodeType.ntOpen:return;case a.Clipper.NodeType.ntClosed:p=!s.IsOpen;break}s.m_polygon.length>0&&p&&f.push(s.m_polygon);for(var _=0,Y=s.Childs(),Q=Y.length,st=Y[_];_<Q;_++,st=Y[_])a.Clipper.AddPolyNodeToPaths(st,o,f)},a.Clipper.OpenPathsFromPolyTree=function(s){for(var o=new a.Paths,f=0,p=s.ChildCount();f<p;f++)s.Childs()[f].IsOpen&&o.push(s.Childs()[f].m_polygon);return o},a.Clipper.ClosedPathsFromPolyTree=function(s){var o=new a.Paths;return a.Clipper.AddPolyNodeToPaths(s,a.Clipper.NodeType.ntClosed,o),o},Po(a.Clipper,a.ClipperBase),a.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},a.ClipperOffset=function(s,o){typeof s>"u"&&(s=2),typeof o>"u"&&(o=a.ClipperOffset.def_arc_tolerance),this.m_destPolys=new a.Paths,this.m_srcPoly=new a.Path,this.m_destPoly=new a.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new a.IntPoint0,this.m_polyNodes=new a.PolyNode,this.MiterLimit=s,this.ArcTolerance=o,this.m_lowest.X=-1},a.ClipperOffset.two_pi=6.28318530717959,a.ClipperOffset.def_arc_tolerance=.25,a.ClipperOffset.prototype.Clear=function(){a.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},a.ClipperOffset.Round=a.Clipper.Round,a.ClipperOffset.prototype.AddPath=function(s,o,f){var p=s.length-1;if(!(p<0)){var _=new a.PolyNode;if(_.m_jointype=o,_.m_endtype=f,f===a.EndType.etClosedLine||f===a.EndType.etClosedPolygon)for(;p>0&&a.IntPoint.op_Equality(s[0],s[p]);)p--;_.m_polygon.push(s[0]);for(var Y=0,Q=0,st=1;st<=p;st++)a.IntPoint.op_Inequality(_.m_polygon[Y],s[st])&&(Y++,_.m_polygon.push(s[st]),(s[st].Y>_.m_polygon[Q].Y||s[st].Y===_.m_polygon[Q].Y&&s[st].X<_.m_polygon[Q].X)&&(Q=Y));if(!(f===a.EndType.etClosedPolygon&&Y<2)&&(this.m_polyNodes.AddChild(_),f===a.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new a.IntPoint2(this.m_polyNodes.ChildCount()-1,Q);else{var ot=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(_.m_polygon[Q].Y>ot.Y||_.m_polygon[Q].Y===ot.Y&&_.m_polygon[Q].X<ot.X)&&(this.m_lowest=new a.IntPoint2(this.m_polyNodes.ChildCount()-1,Q))}}},a.ClipperOffset.prototype.AddPaths=function(s,o,f){for(var p=0,_=s.length;p<_;p++)this.AddPath(s[p],o,f)},a.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!a.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var s=0;s<this.m_polyNodes.ChildCount();s++){var o=this.m_polyNodes.Childs()[s];(o.m_endtype===a.EndType.etClosedPolygon||o.m_endtype===a.EndType.etClosedLine&&a.Clipper.Orientation(o.m_polygon))&&o.m_polygon.reverse()}else for(var s=0;s<this.m_polyNodes.ChildCount();s++){var o=this.m_polyNodes.Childs()[s];o.m_endtype===a.EndType.etClosedLine&&!a.Clipper.Orientation(o.m_polygon)&&o.m_polygon.reverse()}},a.ClipperOffset.GetUnitNormal=function(s,o){var f=o.X-s.X,p=o.Y-s.Y;if(f===0&&p===0)return new a.DoublePoint2(0,0);var _=1/Math.sqrt(f*f+p*p);return f*=_,p*=_,new a.DoublePoint2(p,-f)},a.ClipperOffset.prototype.DoOffset=function(s){if(this.m_destPolys=new Array,this.m_delta=s,a.ClipperBase.near_zero(s)){for(var o=0;o<this.m_polyNodes.ChildCount();o++){var f=this.m_polyNodes.Childs()[o];f.m_endtype===a.EndType.etClosedPolygon&&this.m_destPolys.push(f.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var p;this.ArcTolerance<=0?p=a.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(s)*a.ClipperOffset.def_arc_tolerance?p=Math.abs(s)*a.ClipperOffset.def_arc_tolerance:p=this.ArcTolerance;var _=3.14159265358979/Math.acos(1-p/Math.abs(s));this.m_sin=Math.sin(a.ClipperOffset.two_pi/_),this.m_cos=Math.cos(a.ClipperOffset.two_pi/_),this.m_StepsPerRad=_/a.ClipperOffset.two_pi,s<0&&(this.m_sin=-this.m_sin);for(var o=0;o<this.m_polyNodes.ChildCount();o++){var f=this.m_polyNodes.Childs()[o];this.m_srcPoly=f.m_polygon;var Y=this.m_srcPoly.length;if(!(Y===0||s<=0&&(Y<3||f.m_endtype!==a.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,Y===1){if(f.m_jointype===a.JoinType.jtRound)for(var Q=1,st=0,ot=1;ot<=_;ot++){this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[0].X+Q*s),a.ClipperOffset.Round(this.m_srcPoly[0].Y+st*s)));var bt=Q;Q=Q*this.m_cos-this.m_sin*st,st=bt*this.m_sin+st*this.m_cos}else for(var Q=-1,st=-1,ot=0;ot<4;++ot)this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[0].X+Q*s),a.ClipperOffset.Round(this.m_srcPoly[0].Y+st*s))),Q<0?Q=1:st<0?st=1:Q=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var ot=0;ot<Y-1;ot++)this.m_normals.push(a.ClipperOffset.GetUnitNormal(this.m_srcPoly[ot],this.m_srcPoly[ot+1]));if(f.m_endtype===a.EndType.etClosedLine||f.m_endtype===a.EndType.etClosedPolygon?this.m_normals.push(a.ClipperOffset.GetUnitNormal(this.m_srcPoly[Y-1],this.m_srcPoly[0])):this.m_normals.push(new a.DoublePoint1(this.m_normals[Y-2])),f.m_endtype===a.EndType.etClosedPolygon){for(var qt=Y-1,ot=0;ot<Y;ot++)qt=this.OffsetPoint(ot,qt,f.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(f.m_endtype===a.EndType.etClosedLine){for(var qt=Y-1,ot=0;ot<Y;ot++)qt=this.OffsetPoint(ot,qt,f.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var Ot=this.m_normals[Y-1],ot=Y-1;ot>0;ot--)this.m_normals[ot]=new a.DoublePoint2(-this.m_normals[ot-1].X,-this.m_normals[ot-1].Y);this.m_normals[0]=new a.DoublePoint2(-Ot.X,-Ot.Y),qt=0;for(var ot=Y-1;ot>=0;ot--)qt=this.OffsetPoint(ot,qt,f.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var qt=0,ot=1;ot<Y-1;++ot)qt=this.OffsetPoint(ot,qt,f.m_jointype);var $t;if(f.m_endtype===a.EndType.etOpenButt){var ot=Y-1;$t=new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[ot].X+this.m_normals[ot].X*s),a.ClipperOffset.Round(this.m_srcPoly[ot].Y+this.m_normals[ot].Y*s)),this.m_destPoly.push($t),$t=new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[ot].X-this.m_normals[ot].X*s),a.ClipperOffset.Round(this.m_srcPoly[ot].Y-this.m_normals[ot].Y*s)),this.m_destPoly.push($t)}else{var ot=Y-1;qt=Y-2,this.m_sinA=0,this.m_normals[ot]=new a.DoublePoint2(-this.m_normals[ot].X,-this.m_normals[ot].Y),f.m_endtype===a.EndType.etOpenSquare?this.DoSquare(ot,qt):this.DoRound(ot,qt)}for(var ot=Y-1;ot>0;ot--)this.m_normals[ot]=new a.DoublePoint2(-this.m_normals[ot-1].X,-this.m_normals[ot-1].Y);this.m_normals[0]=new a.DoublePoint2(-this.m_normals[1].X,-this.m_normals[1].Y),qt=Y-1;for(var ot=qt-1;ot>0;--ot)qt=this.OffsetPoint(ot,qt,f.m_jointype);f.m_endtype===a.EndType.etOpenButt?($t=new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*s),a.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*s)),this.m_destPoly.push($t),$t=new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*s),a.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*s)),this.m_destPoly.push($t)):(qt=1,this.m_sinA=0,f.m_endtype===a.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},a.ClipperOffset.prototype.Execute=function(){var s=arguments,o=s[0]instanceof a.PolyTree;if(o){var f=s[0],p=s[1];f.Clear(),this.FixOrientations(),this.DoOffset(p);var _=new a.Clipper(0);if(_.AddPaths(this.m_destPolys,a.PolyType.ptSubject,!0),p>0)_.Execute(a.ClipType.ctUnion,f,a.PolyFillType.pftPositive,a.PolyFillType.pftPositive);else{var Y=a.Clipper.GetBounds(this.m_destPolys),Q=new a.Path;if(Q.push(new a.IntPoint2(Y.left-10,Y.bottom+10)),Q.push(new a.IntPoint2(Y.right+10,Y.bottom+10)),Q.push(new a.IntPoint2(Y.right+10,Y.top-10)),Q.push(new a.IntPoint2(Y.left-10,Y.top-10)),_.AddPath(Q,a.PolyType.ptSubject,!0),_.ReverseSolution=!0,_.Execute(a.ClipType.ctUnion,f,a.PolyFillType.pftNegative,a.PolyFillType.pftNegative),f.ChildCount()===1&&f.Childs()[0].ChildCount()>0){var st=f.Childs()[0];f.Childs()[0]=st.Childs()[0],f.Childs()[0].m_Parent=f;for(var ot=1;ot<st.ChildCount();ot++)f.AddChild(st.Childs()[ot])}else f.Clear()}}else{var f=s[0],p=s[1];a.Clear(f),this.FixOrientations(),this.DoOffset(p);var _=new a.Clipper(0);if(_.AddPaths(this.m_destPolys,a.PolyType.ptSubject,!0),p>0)_.Execute(a.ClipType.ctUnion,f,a.PolyFillType.pftPositive,a.PolyFillType.pftPositive);else{var Y=a.Clipper.GetBounds(this.m_destPolys),Q=new a.Path;Q.push(new a.IntPoint2(Y.left-10,Y.bottom+10)),Q.push(new a.IntPoint2(Y.right+10,Y.bottom+10)),Q.push(new a.IntPoint2(Y.right+10,Y.top-10)),Q.push(new a.IntPoint2(Y.left-10,Y.top-10)),_.AddPath(Q,a.PolyType.ptSubject,!0),_.ReverseSolution=!0,_.Execute(a.ClipType.ctUnion,f,a.PolyFillType.pftNegative,a.PolyFillType.pftNegative),f.length>0&&f.splice(0,1)}}},a.ClipperOffset.prototype.OffsetPoint=function(s,o,f){if(this.m_sinA=this.m_normals[o].X*this.m_normals[s].Y-this.m_normals[s].X*this.m_normals[o].Y,Math.abs(this.m_sinA*this.m_delta)<1){var p=this.m_normals[o].X*this.m_normals[s].X+this.m_normals[s].Y*this.m_normals[o].Y;if(p>0)return this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[o].X*this.m_delta),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[o].Y*this.m_delta))),o}else this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1);if(this.m_sinA*this.m_delta<0)this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[o].X*this.m_delta),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[o].Y*this.m_delta))),this.m_destPoly.push(new a.IntPoint1(this.m_srcPoly[s])),this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[s].X*this.m_delta),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[s].Y*this.m_delta)));else switch(f){case a.JoinType.jtMiter:{var _=1+(this.m_normals[s].X*this.m_normals[o].X+this.m_normals[s].Y*this.m_normals[o].Y);_>=this.m_miterLim?this.DoMiter(s,o,_):this.DoSquare(s,o);break}case a.JoinType.jtSquare:this.DoSquare(s,o);break;case a.JoinType.jtRound:this.DoRound(s,o);break}return o=s,o},a.ClipperOffset.prototype.DoSquare=function(s,o){var f=Math.tan(Math.atan2(this.m_sinA,this.m_normals[o].X*this.m_normals[s].X+this.m_normals[o].Y*this.m_normals[s].Y)/4);this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_delta*(this.m_normals[o].X-this.m_normals[o].Y*f)),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_delta*(this.m_normals[o].Y+this.m_normals[o].X*f)))),this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_delta*(this.m_normals[s].X+this.m_normals[s].Y*f)),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_delta*(this.m_normals[s].Y-this.m_normals[s].X*f))))},a.ClipperOffset.prototype.DoMiter=function(s,o,f){var p=this.m_delta/f;this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+(this.m_normals[o].X+this.m_normals[s].X)*p),a.ClipperOffset.Round(this.m_srcPoly[s].Y+(this.m_normals[o].Y+this.m_normals[s].Y)*p)))},a.ClipperOffset.prototype.DoRound=function(s,o){for(var f=Math.atan2(this.m_sinA,this.m_normals[o].X*this.m_normals[s].X+this.m_normals[o].Y*this.m_normals[s].Y),p=Math.max(a.Cast_Int32(a.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(f))),1),_=this.m_normals[o].X,Y=this.m_normals[o].Y,Q,st=0;st<p;++st)this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+_*this.m_delta),a.ClipperOffset.Round(this.m_srcPoly[s].Y+Y*this.m_delta))),Q=_,_=_*this.m_cos-this.m_sin*Y,Y=Q*this.m_sin+Y*this.m_cos;this.m_destPoly.push(new a.IntPoint2(a.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[s].X*this.m_delta),a.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[s].Y*this.m_delta)))},a.Error=function(s){try{throw new Error(s)}catch(o){alert(o.message)}},a.JS={},a.JS.AreaOfPolygon=function(s,o){return o||(o=1),a.Clipper.Area(s)/(o*o)},a.JS.AreaOfPolygons=function(s,o){o||(o=1);for(var f=0,p=0;p<s.length;p++)f+=a.Clipper.Area(s[p]);return f/(o*o)},a.JS.BoundsOfPath=function(s,o){return a.JS.BoundsOfPaths([s],o)},a.JS.BoundsOfPaths=function(s,o){o||(o=1);var f=a.Clipper.GetBounds(s);return f.left/=o,f.bottom/=o,f.right/=o,f.top/=o,f},a.JS.Clean=function(p,o){if(!(p instanceof Array))return[];var f=p[0]instanceof Array,p=a.JS.Clone(p);if(typeof o!="number"||o===null)return a.Error("Delta is not a number in Clean()."),p;if(p.length===0||p.length===1&&p[0].length===0||o<0)return p;f||(p=[p]);for(var _=p.length,Y,Q,st,ot,bt,qt,Ot,$t=[],ce=0;ce<_;ce++)if(Q=p[ce],Y=Q.length,Y!==0){if(Y<3){st=Q,$t.push(st);continue}for(st=Q,ot=o*o,bt=Q[0],qt=1,Ot=1;Ot<Y;Ot++)(Q[Ot].X-bt.X)*(Q[Ot].X-bt.X)+(Q[Ot].Y-bt.Y)*(Q[Ot].Y-bt.Y)<=ot||(st[qt]=Q[Ot],bt=Q[Ot],qt++);bt=Q[qt-1],(Q[0].X-bt.X)*(Q[0].X-bt.X)+(Q[0].Y-bt.Y)*(Q[0].Y-bt.Y)<=ot&&qt--,qt<Y&&st.splice(qt,Y-qt),st.length&&$t.push(st)}return!f&&$t.length?$t=$t[0]:!f&&$t.length===0?$t=[]:f&&$t.length===0&&($t=[[]]),$t},a.JS.Clone=function(s){if(!(s instanceof Array))return[];if(s.length===0)return[];if(s.length===1&&s[0].length===0)return[[]];var o=s[0]instanceof Array;o||(s=[s]);var f=s.length,p,_,Y,Q,st=new Array(f);for(_=0;_<f;_++){for(p=s[_].length,Q=new Array(p),Y=0;Y<p;Y++)Q[Y]={X:s[_][Y].X,Y:s[_][Y].Y};st[_]=Q}return o||(st=st[0]),st},a.JS.Lighten=function(s,o){if(!(s instanceof Array))return[];if(typeof o!="number"||o===null)return a.Error("Tolerance is not a number in Lighten()."),a.JS.Clone(s);if(s.length===0||s.length===1&&s[0].length===0||o<0)return a.JS.Clone(s);var f=s[0]instanceof Array;f||(s=[s]);var p,_,Y,Q,st,ot,bt,qt,Ot,$t,ce,_e,de,Je,Gn,Kn,Wi,Zr=s.length,Qr=o*o,Al=[];for(p=0;p<Zr;p++)if(Y=s[p],ot=Y.length,ot!==0){for(Q=0;Q<1e6;Q++){for(st=[],ot=Y.length,Y[ot-1].X!==Y[0].X||Y[ot-1].Y!==Y[0].Y?(_e=1,Y.push({X:Y[0].X,Y:Y[0].Y}),ot=Y.length):_e=0,ce=[],_=0;_<ot-2;_++)bt=Y[_],Ot=Y[_+1],qt=Y[_+2],Kn=bt.X,Wi=bt.Y,de=qt.X-Kn,Je=qt.Y-Wi,(de!==0||Je!==0)&&(Gn=((Ot.X-Kn)*de+(Ot.Y-Wi)*Je)/(de*de+Je*Je),Gn>1?(Kn=qt.X,Wi=qt.Y):Gn>0&&(Kn+=de*Gn,Wi+=Je*Gn)),de=Ot.X-Kn,Je=Ot.Y-Wi,$t=de*de+Je*Je,$t<=Qr&&(ce[_+1]=1,_++);for(st.push({X:Y[0].X,Y:Y[0].Y}),_=1;_<ot-1;_++)ce[_]||st.push({X:Y[_].X,Y:Y[_].Y});if(st.push({X:Y[ot-1].X,Y:Y[ot-1].Y}),_e&&Y.pop(),ce.length)Y=st;else break}ot=st.length,st[ot-1].X===st[0].X&&st[ot-1].Y===st[0].Y&&st.pop(),st.length>2&&Al.push(st)}return f||(Al=Al[0]),typeof Al>"u"&&(Al=[]),Al},a.JS.PerimeterOfPath=function(s,o,f){if(typeof s>"u")return 0;var p=Math.sqrt,_=0,Y,Q,st=0,ot=0,bt=0,qt=0,Ot=s.length;if(Ot<2)return 0;for(o&&(s[Ot]=s[0],Ot++);--Ot;)Y=s[Ot],st=Y.X,ot=Y.Y,Q=s[Ot-1],bt=Q.X,qt=Q.Y,_+=p((st-bt)*(st-bt)+(ot-qt)*(ot-qt));return o&&s.pop(),_/f},a.JS.PerimeterOfPaths=function(s,o,f){f||(f=1);for(var p=0,_=0;_<s.length;_++)p+=a.JS.PerimeterOfPath(s[_],o,f);return p},a.JS.ScaleDownPath=function(s,o){var f,p;for(o||(o=1),f=s.length;f--;)p=s[f],p.X=p.X/o,p.Y=p.Y/o},a.JS.ScaleDownPaths=function(s,o){var f,p,_;for(o||(o=1),f=s.length;f--;)for(p=s[f].length;p--;)_=s[f][p],_.X=_.X/o,_.Y=_.Y/o},a.JS.ScaleUpPath=function(s,o){var f,p,_=Math.round;for(o||(o=1),f=s.length;f--;)p=s[f],p.X=_(p.X*o),p.Y=_(p.Y*o)},a.JS.ScaleUpPaths=function(s,o){var f,p,_,Y=Math.round;for(o||(o=1),f=s.length;f--;)for(p=s[f].length;p--;)_=s[f][p],_.X=Y(_.X*o),_.Y=Y(_.Y*o)},a.ExPolygons=function(){return[]},a.ExPolygon=function(){this.outer=null,this.holes=null},a.JS.AddOuterPolyNodeToExPolygons=function(s,o){var f=new a.ExPolygon;f.outer=s.Contour();var p=s.Childs(),_=p.length;f.holes=new Array(_);var Y,Q,st,ot,bt,qt;for(st=0;st<_;st++)for(Y=p[st],f.holes[st]=Y.Contour(),ot=0,bt=Y.Childs(),qt=bt.length;ot<qt;ot++)Q=bt[ot],a.JS.AddOuterPolyNodeToExPolygons(Q,o);o.push(f)},a.JS.ExPolygonsToPaths=function(s){var o,f,p,_,Y=new a.Paths;for(o=0,p=s.length;o<p;o++)for(Y.push(s[o].outer),f=0,_=s[o].holes.length;f<_;f++)Y.push(s[o].holes[f]);return Y},a.JS.PolyTreeToExPolygons=function(s){var o=new a.ExPolygons,f,p,_,Y;for(p=0,_=s.Childs(),Y=_.length;p<Y;p++)f=_[p],a.JS.AddOuterPolyNodeToExPolygons(f,o);return o}})()})(Np)),Np.exports}var Mb=Ob();const Kc=g0(Mb),Db=(u,a,g,v)=>{var x;if(!a||!Array.isArray(a)||a.length<3)throw new Error("Valid polygon points are required");if(!g||g<=0)throw new Error("Valid grid size is required");try{const b=u*(g/1e3),O=a.map(N=>({X:N.x,Y:N.y})),S=new Kc.ClipperOffset;S.AddPath(O,Kc.JoinType.jtSquare,Kc.EndType.etClosedPolygon);const w=[];S.Execute(w,-b),(x=w[0])!=null&&x.length&&v(w[0].map(N=>({x:N.X,y:N.Y,originalX:N.X/g,originalY:N.Y/g})))}catch(b){throw console.error("Safe area calculation failed:",b),b}},Pb=u=>{const[a,g]=Gt.useState(20),[v,x]=Gt.useState(20),b=Gt.useCallback(()=>{const O=window.innerWidth,S=Math.floor(O*.98/u);return Math.max(10,S)},[u]);return Gt.useEffect(()=>{const O=()=>{const w=b();x(w),g(N=>Math.min(N,w))};O();const S=Rb(O,100);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[b]),{numSquares:a,setNumSquares:g,maxPossibleRange:v}};function Rb(u,a){let g;return function(){const v=this,x=arguments;clearTimeout(g),g=setTimeout(()=>u.apply(v,x),a)}}const Lb=({numSquares:u,setNumSquares:a,maxPossibleRange:g,gridSize:v,disabled:x=!1,lockInfo:b,onLockedClick:O})=>{const S=N=>{if(x)return;const z=Math.min(Math.max(10,Number(N.target.value)),g);a(z)},w=N=>{x&&O&&(N.preventDefault(),N.stopPropagation(),O())};return R.jsxs("div",{style:{position:"relative"},children:[x&&R.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,cursor:"not-allowed"},onClick:w}),R.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[R.jsx("label",{className:"form-label me-2",style:{width:"50%"},children:"Grid Range"}),R.jsx("input",{type:"range",disabled:x,className:"form-range",value:u,onChange:S,min:"10",max:g,step:"1",style:{width:"50%"}})]}),R.jsxs("div",{className:"mb-2 d-flex align-items-center",children:[R.jsx("span",{className:"me-2",children:"Value:"}),R.jsx("input",{type:"number",className:"form-control",disabled:x,value:u,onChange:S,min:"10",max:g,style:{width:"60px"}}),R.jsxs("span",{className:"ms-2",children:["(Max: ",g," | ~",Math.round(g*v/1e3),"km)"]})]})]})},Bb=({gridSize:u,setGridSize:a,disabled:g=!1,lockInfo:v,onLockedClick:x})=>{const b=w=>Math.max(1,Math.min(100,Number(w)||1)),O=w=>{g||a(b(w))},S=w=>{g&&x&&(w.preventDefault(),w.stopPropagation(),x())};return R.jsxs("div",{className:"mb-2",style:{position:"relative"},children:[g&&R.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,cursor:"not-allowed"},onClick:S}),R.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-1",children:[R.jsx("label",{className:"form-label mb-0",children:"Grid Size"}),R.jsxs("div",{className:"input-group input-group-sm",style:{width:110},children:[R.jsx("span",{className:"input-group-text",children:"px"}),R.jsx("input",{type:"number",className:"form-control text-end",value:u,min:1,max:100,step:1,inputMode:"numeric",enterKeyHint:"done",onChange:w=>O(w.target.value),disabled:g})]})]}),R.jsx("input",{type:"range",className:"form-range grid-size-range",min:1,max:100,step:1,value:u,onChange:w=>O(w.target.value),disabled:g,"aria-label":"Grid size"})]})},Uh={"105mm IFG F=4/3":1300,"105mm IFG F=7/4":1500,"120mm Mor F=4/3":1600,"120mm Mor F=7/4":2e3,"130mm CH-4 F=4/3":1400,"130mm CH-4 F=7/4":1700,"130mm CH-1 F=4/3":1500,"130mm CH-1 F=7/4":1800,"BM-21 WBBR F=4/3":1600,"BM-21 WBBR F=7/4":1900,"155mm G:3-5 W:4-5 F=4/3":1e3,"155mm G:3-5 W:4-5 F=7/4":1e3,"155mm CH 7,8,9 F=4/3":1300,"155mm CH 7,8,9 F=7/4":1500,"155mm Dhanush Z-2 F=4/3":1800,"155mm Dhanush Z-2 F=7/4":2e3,"155mm K9 Vajra Z-2 F=4/3":1200,"155mm K9 Vajra Z-2 F=7/4":1300,"M-777 ULH Z-2/W4-5 F=4/3":1200,"M-777 ULH Z-2/W4-5 F=7/4":1400,"Ramjet Soltam F=4/3":1700,"Ramjet Soltam F=7/4":2100},zb=["105mm IFG F=4/3","105mm IFG F=7/4","120mm Mor F=4/3","120mm Mor F=7/4","130mm CH-4 F=4/3","130mm CH-4 F=7/4","130mm CH-1 F=4/3","130mm CH-1 F=7/4","BM-21 WBBR F=4/3","BM-21 WBBR F=7/4","155mm G:3-5 W:4-5 F=4/3","155mm G:3-5 W:4-5 F=7/4","155mm CH 7,8,9 F=4/3","155mm CH 7,8,9 F=7/4","155mm Dhanush Z-2 F=4/3","155mm Dhanush Z-2 F=7/4","155mm K9 Vajra Z-2 F=4/3","155mm K9 Vajra Z-2 F=7/4","M-777 ULH Z-2/W4-5 F=4/3","M-777 ULH Z-2/W4-5 F=7/4","Ramjet Soltam F=4/3","Ramjet Soltam F=7/4"],Op=[[8400,2400],[8404,2402],[8410,2404],[8415,2406],[8418,2408],[8422,2410],[8426,2413],[8431,2417],[8434,2419],[8438,2421],[8441,2425],[8448,2430],[8451,2432],[8459,2438],[8461,2440],[8465,2442],[8461,2446],[8472,2449],[8479,2450],[8482,2451],[8489,2452],[8492,2453],[8498,2455],[8500,2459],[8504,2459],[8509,2460],[8512,2460],[8519,2461],[8524,2461],[8530,2461],[8535,2462],[8540,2462],[8545,2463],[8550,2464],[8553,2465],[8559,2466],[8565,2468],[8570,2467],[8578,2468],[8584,2470],[8590,2471],[8597,2472],[8600,2474],[8605,2475],[8612,2478],[8619,2479],[8622,2480],[8630,2481],[8635,2482],[8640,2483],[8643,2484],[8650,2485],[8653,2489],[8661,2490],[8668,2491],[8672,2492],[8679,2492],[8684,2493],[8690,2494],[8697,2497],[8700,2499],[8701,2499],[8707,2499],[8713,2499],[8721,2500],[8729,2500],[8733,2500],[8742,2501],[8751,2505],[8755,2505],[8762,2507],[8770,2509],[8779,2510],[8787,2512],[8794,2514],[8799,2518],[8800,2518],[8805,2518],[8811,2517],[8815,2515],[8821,2513],[8827,2512],[8830,2512],[8836,2513],[8841,2511],[8848,2511],[8852,2512],[8858,2513],[8862,2519],[8866,2520],[8870,2521],[8872,2522],[8879,2528],[8885,2531],[8890,2534],[8895,2538],[8900,2540],[8905,2541],[8912,2543],[8919,2546],[8925,2549],[8931,2550],[8938,2551],[8941,2552],[8945,2553],[8951,2555],[8958,2556],[8960,2558],[8963,2558],[8968,2559],[8972,2560],[8980,2562],[8988,2563],[8992,2564],[8998,2567],[9e3,2568],[9004,2569],[9011,2570],[9017,2571],[9022,2571],[9028,2571],[9032,2572],[9040,2571],[9045,2571],[9051,2571],[9057,2570],[9065,2570],[9072,2570],[9080,2568],[9084,2567],[9090,2564],[9097,2563],[9100,2561],[9109,2559],[9113,2557],[9118,2555],[9121,2557],[9124,2560],[9129,2562],[9132,2564],[9139,2567],[9144,2569],[9150,2569],[9153,2568],[9161,2569],[9170,2570],[9175,2569],[9181,2568],[9188,2568],[9192,2568],[9200,2570],[9204,2570],[9210,2569],[9215,2570],[9219,2570],[9222,2570],[9228,2571],[9231,2571],[9237,2571],[9241,2572],[9248,2572],[9251,2571],[9258,2570],[9262,2569],[9267,2565],[9271,2560],[9273,2555],[9278,2549],[9280,2543],[9282,2540],[9288,2532],[9289,2530],[9291,2523],[9292,2520],[9295,2518],[9298,2512],[9299,2509],[9300,2504],[9300,2500],[9300,2497],[9300,2492],[9300,2489],[9300,2484],[9300,2479],[9300,2474],[9300,2471],[9302,2469],[9309,2462],[9311,2460],[9315,2458],[9320,2454],[9325,2451],[9329,2449],[9331,2447],[9335,2443],[9339,2441],[9341,2438],[9345,2434],[9349,2430],[9350,2425],[9352,2420],[9353,2415],[9355,2411],[9356,2405],[9357,2400],[9360,2390],[9362,2378],[9368,2370],[9378,2359],[9384,2349],[9391,2334],[9400,2320],[9410,2300],[9400,2289],[9392,2278],[9382,2262],[9371,2250],[9358,2229],[9348,2212],[9339,2200],[9330,2180],[9323,2169],[9319,2151],[9310,2138],[9300,2130],[9290,2121],[9284,2105],[9280,2095],[9278,2084],[9272,2071],[9269,2069],[9264,2051],[9255,2041],[9252,2032],[9246,2020],[9240,2005],[9232,1995],[9229,1983],[9222,1971],[9218,1968],[9210,1962],[9200,1961],[9191,1960],[9180,1959],[9170,1954],[9160,1952],[9150,1950],[9141,1952],[9138,1955],[9126,1959],[9115,1960],[9105,1965],[9100,1965],[9091,1965],[9080,1962],[9070,1959],[9060,1954],[9046,1952],[9038,1952],[9030,1958],[9022,1962],[9018,1970],[9010,1978],[9e3,1980],[8994,1984],[8990,1986],[8980,1982],[8972,1980],[8964,1977],[8958,1970],[8948,1965],[8940,1960],[8925,1952],[8915,1948],[8900,1941],[8895,1936],[8888,1930],[8880,1919],[8875,1909],[8868,1900],[8862,1892],[8856,1895],[8849,1890],[8840,1885],[8835,1880],[8825,1875],[8819,1871],[8810,1866],[8800,1861],[8799,1860],[8794,1858],[8789,1854],[8779,1850],[8770,1847],[8767,1842],[8759,1838],[8752,1832],[8748,1829],[8742,1824],[8740,1821],[8738,1818],[8732,1812],[8728,1806],[8722,1800],[8719,1797],[8717,1798],[8712,1798],[8705,1797],[8700,1798],[8694,1791],[8691,1790],[8684,1789],[8680,1787],[8674,1784],[8669,1781],[8662,1779],[8658,1777],[8650,1772],[8643,1771],[8639,1769],[8633,1767],[8628,1763],[8620,1759],[8612,1757],[8605,1756],[8600,1757],[8595,1756],[8590,1755],[8586,1755],[8581,1758],[8578,1760],[8580,1763],[8584,1766],[8590,1763],[8589,1773],[8585,1780],[8582,1787],[8581,1792],[8580,1799],[8578,1804],[8575,1809],[8571,1816],[8570,1821],[8567,1828],[8564,1832],[8562,1839],[8560,1842],[8559,1848],[8557,1852],[8553,1860],[8550,1865],[8549,1872],[8545,1878],[8541,1880],[8538,1880],[8531,1880],[8524,1877],[8519,1871],[8511,1869],[8505,1864],[8498,1863],[8494,1863],[8486,1862],[8478,1862],[8470,1862],[8464,1859],[8459,1857],[8453,1850],[8452,1847],[8440,1845],[8439,1858],[8425,1868],[8400,1854],[8380,1879],[8380,1898],[8382,1915],[8379,1938],[8370,1959],[8367,1973],[8353,1990],[8346,1995],[8340,1998],[8336,2e3],[8326,2005],[8320,2016],[8318,2025],[8313,2030],[8308,2032],[8300,2035],[8290,2036],[8280,2035],[8270,2035],[8265,2035],[8255,2035],[8255,2040],[8256,2050],[8250,2066],[8256,2085],[8258,2095],[8258,2100],[8260,2105],[8262,2115],[8265,2127],[8268,2140],[8269,2150],[8270,2160],[8275,2170],[8278,2178],[8278,2180],[8280,2185],[8283,2190],[8285,2200],[8290,2205],[8295,2215],[8300,2225],[8303,2232],[8308,2241],[8311,2245],[8310,2251],[8314,2256],[8319,2260],[8322,2263],[8328,2269],[8332,2276],[8339,2282],[8348,2290],[8351,2300],[8359,2312],[8365,2325],[8370,2343],[8373,2359],[8379,2372],[8381,2389],[8390,2400]],Mp=[["875","375"],["900","375"],["960","375"],["993","340"],["984","320"],["970","290"],["963","277"],["950","210"],["927","100"],["925","090"],["900","070"],["893","050"],["884","025"],["860","010"],["838","008"],["825","998"],["800","008"],["770","020"],["744","030"],["730","036"],["740","060"],["758","100"],["783","158"],["800","200"],["830","270"],["852","320"],["864","350"],["875","375"]],a0=[{e:543,n:183,labelN:183},{e:567,n:182,labelN:182},{e:627,n:179,labelN:179},{e:659,n:143,labelN:143},{e:649,n:124,labelN:124},{e:634,n:94,labelN:94},{e:626,n:82,labelN:82},{e:611,n:15,labelN:15},{e:583,n:-94,labelN:906},{e:581,n:-104,labelN:896},{e:555,n:-123,labelN:877},{e:548,n:-142,labelN:858},{e:538,n:-167,labelN:833},{e:513,n:-181,labelN:819},{e:491,n:-182,labelN:818},{e:478,n:-193,labelN:807},{e:453,n:-180,labelN:820},{e:424,n:-167,labelN:833},{e:398,n:-156,labelN:844},{e:384,n:-150,labelN:850},{e:395,n:-126,labelN:874},{e:415,n:-87,labelN:913},{e:442,n:-30,labelN:970},{e:461,n:11,labelN:11},{e:493,n:80,labelN:80},{e:517,n:129,labelN:129},{e:531,n:158,labelN:158},{e:543,n:183,labelN:183}],Dp=[["981","417"],["985","439"],["994","450"],["025","450"],["030","445"],["045","434"],["056","425"],["071","446"],["094","457"],["085","463"],["085","473"],["091","489"],["114","503"],["107","532"],["126","617"],["126","633"],["119","645"],["087","641"],["057","638"],["055","620"],["026","595"],["992","589"],["974","578"],["949","576"],["912","553"],["888","543"],["861","539"],["851","528"],["853","510"],["855","496"],["858","471"],["861","464"],["867","452"],["866","442"],["866","428"],["872","382"],["880","385"],["897","363"],["912","366"],["926","373"],["934","392"],["936","401"],["951","406"],["965","417"],["965","407"],["981","417"]],Pp=[["528","151"],["532","174"],["541","185"],["572","170"],["577","165"],["592","154"],["603","145"],["618","167"],["641","178"],["632","184"],["631","194"],["637","210"],["660","224"],["653","253"],["670","338"],["670","354"],["663","366"],["631","362"],["601","358"],["599","340"],["571","315"],["537","324"],["519","312"],["494","310"],["457","286"],["433","276"],["407","272"],["397","260"],["399","243"],["401","229"],["405","204"],["408","197"],["414","185"],["413","175"],["413","161"],["420","115"],["428","118"],["445","096"],["460","099"],["474","107"],["482","126"],["484","135"],["499","140"],["512","151"],["513","141"],["528","151"]],P2="dab.autosave.v1",Yb=()=>{const u=Gt.useRef(null),[a,g]=Gt.useState(!1),[v,x]=Gt.useState(0),[b,O]=Gt.useState(50),{numSquares:S,setNumSquares:w,maxPossibleRange:N}=Pb(b),[z,F]=Gt.useState(b/10),[X,P]=Gt.useState({eMin:75,eMax:96,nMin:16,nMax:27}),D=S*b,G=S*b,[U,J]=Gt.useState([]);Gt.useEffect(()=>{const A=u.current;if(!A)return;const L=q=>{q.preventDefault(),q.stopPropagation()};return A.addEventListener("wheel",L,{passive:!1,capture:!0}),()=>{A.removeEventListener("wheel",L,{capture:!0})}},[]);const E=(A,L)=>A.map(q=>{const lt=typeof q.originalX=="number"?q.originalX:typeof q.x=="number"?q.x/L:0,pt=typeof q.originalY=="number"?q.originalY:typeof q.y=="number"?q.y/L:0;return{...q,originalX:lt,originalY:pt,x:lt*L,y:pt*L}}),[T,H]=Gt.useState([]),[V,$]=Gt.useState([]),[ft,nt]=Gt.useState(!1),[k,I]=Gt.useState(null),[it,dt]=Gt.useState(""),[M,Z]=Gt.useState(!0);Gt.useEffect(()=>{let A=0;const L=()=>{A+=.04;const q=(Math.sin(A)+1)/2;$(lt=>lt.map(pt=>({...pt,_blinkOpacity:.4+q*.6}))),requestAnimationFrame(L)};L()},[]);const[j,W]=Gt.useState(null),[at,mt]=Gt.useState(null),wt=Gt.useRef(null),K=Gt.useRef(!1),ht=Gt.useRef(!1),[Nt,yt]=Gt.useState(null),[Tt,Ht]=Gt.useState(!1),[Ft,ut]=Gt.useState(null),[_t,jt]=Gt.useState([]),[zt,te]=Gt.useState(""),[ne,Se]=Gt.useState(!1),[Oe,he]=Gt.useState(!1),[xn,De]=Gt.useState(!1),un="DAB_RLSO_NOTE_SINGLE",[Ke,tn]=Gt.useState([]),[wi,en]=Gt.useState(!1),[Yn,cn]=Gt.useState([]),[nn,yn]=Gt.useState([]),[Ei,ei]=Gt.useState("all"),[Bi,zi]=Gt.useState(null);Gt.useEffect(()=>{if(!wi||!Yn||Yn.length===0)return;const A=Yn.map(L=>{const{x:q,y:lt}=ur(L.eu,L.nu);return{x:q,y:lt,originalX:q/b,originalY:lt/b,e:L.e6,n:L.n6}});tn(A)},[wi,Yn,X,b,z,S]),Gt.useEffect(()=>{const A=de.current;if(!A)return;const L=q=>{q.evt.stopPropagation()};return A.on("wheel",L),()=>A.off("wheel",L)},[]);const[ni,qn]=Gt.useState(!1),[Pe,Ce]=Gt.useState([]),[Aa,pa]=Gt.useState(!1),Qn=ni||(nn==null?void 0:nn.length)>=3||(Pe==null?void 0:Pe.length)>=3,Cl=Gt.useRef(!1),$s=()=>{Cl.current||(Cl.current=!0,le.fire({icon:"warning",title:"Grid Locked",text:"Grid locked: reset safety from safety section to change grid settings.",confirmButtonText:"OK",confirmButtonColor:"#3085d6"}).then(()=>{Cl.current=!1}))},jr=A=>{const L=Math.max(10,Number(A)||10);O(L)},Ua=A=>{Je.current=!0,w(A)},[nl,pi]=Gt.useState(500),[ma,wl]=Gt.useState("105mm IFG F=7/4"),[Ga,El]=Gt.useState([]),[Un,Tl]=Gt.useState(null);function il(A){let L=(A+360)%360;const q=Math.floor(L),lt=(L-q)*60,pt=Math.floor(lt),Rt=Math.round((lt-pt)*60);return`${q} ${pt}' ${Rt}''`}const qr=(A,L)=>{let lt=A-L;return lt>1e5/2&&(lt-=1e5),lt<-1e5/2&&(lt+=1e5),lt};function tr(A,L){if(!A||!L)return null;const q=A.easting5??Le(A.x,A.y).easting*100,lt=A.northing5??Le(A.x,A.y).northing*100,pt=L.easting5??Le(L.x,L.y).easting*100,Rt=L.northing5??Le(L.x,L.y).northing*100,Et=qr(pt,q),Xt=qr(Rt,lt),It=Math.round(Math.hypot(Et,Xt));let Qt=Math.atan2(Et,Xt)*180/Math.PI;Qt=(Qt+360)%360;const Zt=Math.round(Qt*(6400/360)),ee=Math.round(Qt*(6e3/360));return{rangeMeters:It,bearingDeg:Qt,bearingMilsNATO:Zt,bearingMilsRussian:ee,bearingDMS:il(Qt)}}function xs(A,L){if(!A||!L)return null;if(A.easting5!=null&&A.northing5!=null&&L.easting5!=null&&L.northing5!=null)return tr(A,L);const q=(L.x||0)-(A.x||0),lt=(L.y||0)-(A.y||0),pt=Math.hypot(q,lt),Rt=Math.round(pt*1e3/b);let Et=Math.atan2(lt,q)*180/Math.PI;Et=(Et+90+360)%360;const Xt=Math.round(Et*(6400/360)),It=Math.round(Et*(6e3/360));return{rangeMeters:Rt,bearingDeg:Et,bearingMilsNATO:Xt,bearingMilsRussian:It,bearingDMS:il(Et)}}const Xa=A=>Number(A)*Math.PI/180,Fr=({deg:A,min:L,sec:q,mils:lt})=>{if(lt!=null&&String(lt).trim()!==""&&!Number.isNaN(Number(lt)))return Number(lt)*360/6400;const pt=Number(A)||0,Rt=Number(L)||0,Et=Number(q)||0;return pt+Rt/60+Et/3600},Ha=j?U.find(A=>A.id===j):null,ii=at?U.find(A=>A.id===at):null;Ha&&ii&&xs(Ha,ii);const[Nn,we]=Gt.useState(!1),[Qi,Ki]=Gt.useState(!1),[Il,Hi]=Gt.useState(!1),[ja,Na]=Gt.useState(!1),[ji,Oa]=Gt.useState(50),[Ve,vn]=Gt.useState(50),[On,Pn]=Gt.useState(50),[Ti,mi]=Gt.useState(null),[ga,Ai]=Gt.useState({x:0,y:0}),[Ji,Vr]=Gt.useState(""),[er,nr]=Gt.useState(""),[ai,Cs]=Gt.useState(!1),[kl,ya]=Gt.useState(!0),[oe,Po]=Gt.useState(null),[Ir,ws]=Gt.useState("manual"),[kr,qa]=Gt.useState(!1),[s,o]=Gt.useState(0),f="dab.tourSeen",[p,_]=Gt.useState(null),[Y,Q]=Gt.useState(null),[st,ot]=Gt.useState(null),[bt,qt]=Gt.useState(!1),[Ot,$t]=Gt.useState(null),[ce,_e]=Gt.useState(!1),de=Gt.useRef(null),Je=Gt.useRef(!1),Gn=Gt.useCallback(()=>{try{if(Je.current)return;const A=u.current;if(!A)return;const L=A.clientWidth;if(!Number.isFinite(L)||L<=0)return;const lt=Math.floor(L/(b||50));if(!lt)return;const Rt=Math.max(5,Math.min(lt,typeof N<"u"&&N?N:lt));Rt!==S&&w(Rt)}catch{}},[u,b,S,N]);Gt.useEffect(()=>{Gn()},[Gn,a]),Gt.useEffect(()=>{const A=()=>Gn();return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[Gn]);const Kn=Gt.useRef(null),Wi=Gt.useRef(null),[Zr,Qr]=Gt.useState(0),[Al,ir]=Gt.useState(null),Kr=450,Es="dab.sessions",Fa="dab.currentSession",_u="dab.session.",ar="dab.logs.",[$i,Ts]=Gt.useState(()=>localStorage.getItem(Fa)||"default"),[va,lr]=Gt.useState(()=>{try{return JSON.parse(localStorage.getItem(ar+(localStorage.getItem(Fa)||"default")))||[]}catch{return[]}}),Yi=Gt.useRef(!1);Gt.useRef(!1);const[Zl,Nl]=Gt.useState(!1),[Ql,oc]=Gt.useState("all"),Ol=()=>{try{return JSON.parse(localStorage.getItem(Es))||[]}catch{return[]}},sr=A=>{try{localStorage.setItem(Es,JSON.stringify(Array.from(new Set(A))))}catch{}},Kl=(A,L,q="application/octet-stream")=>{const lt=new Blob([L],{type:q}),pt=URL.createObjectURL(lt),Rt=document.createElement("a");Rt.href=pt,Rt.download=A,Rt.click(),URL.revokeObjectURL(pt)},Jl={ELEMENT_PLACED:"elements",ELEMENT_DELETED:"elements",PIVOT_MENU_OPENED:"elements",TARGET_PLOTTED:"elements",FOS_PLOTTED:"elements",MEASURE_TAKEN:"elements",GUN_LAYOUT_ADDED:"elements",GUN_LAYOUT_EDITED:"elements",GUN_LAYOUT_CLEARED:"elements",FIRE_DATA_VIEWED:"elements",SAFETY_CHECK:"safety",SAFETY_VIOLATION:"safety",SAFETY_PASSED:"safety",SAFETY_RANGE_LOADED:"safety",DFFR_LOADED:"safety",MFFR_LOADED:"safety",PFFR_LOADED:"safety",POLYGON_RESET:"safety",CORRECTION_APPLIED:"corrections",responsibilityAccepted:"corrections",applyCorrection:"corrections",newSession:"session",saveSession:"session",loadSession:"session",renameSession:"session",deleteSession:"session",logsCleared:"session",rlsoSaved:"session",GRID_SETTINGS_CHANGED:"session",EQUIPMENT_CHANGED:"safety"},Jr=A=>{var lt,pt;const{type:L,details:q}=A;switch(L){case"ELEMENT_PLACED":return`Placed ${((lt=q.type)==null?void 0:lt.toUpperCase())||"element"} "${q.name}" at GR ${q.grid6} (precise: ${q.grid10})`;case"ELEMENT_DELETED":return`Deleted ${((pt=q.type)==null?void 0:pt.toUpperCase())||"element"} "${q.name}"`;case"PIVOT_MENU_OPENED":return`Opened pivot menu for "${q.pivot}" at GR ${q.grid}`;case"TARGET_PLOTTED":return`Plotted target "${q.name}" from ${q.origin} (${q.originGrid10||"N/A"})
   Bearing: ${q.bearing} (${q.bearingMils||"N/A"} mils), Range: ${q.range}m
   Target Grid (10-fig): ${q.targetGrid10||"N/A"}, (6-fig): ${q.targetGrid6||"N/A"}`;case"FOS_PLOTTED":return`Fall of Shot plotted for target "${q.target}"
   Grid (10-fig): ${q.grid10||q.grid}
   Correction: ${q.correction||"N/A"}`;case"GUN_LAYOUT_ADDED":return`Gun layout added for pivot "${q.pivot}"
   ${q.gunCount} guns configured
   Gun positions: ${q.gunPositions||"See details"}`;case"GUN_LAYOUT_EDITED":return`Gun layout edited for pivot "${q.pivot}" - now ${q.gunCount} guns`;case"GUN_LAYOUT_CLEARED":return`Gun layout cleared for pivot "${q.pivot}"`;case"FIRE_DATA_VIEWED":return`Fire data viewed for target "${q.target}" (${q.targetGrid||"N/A"})
   Battery: ${q.battery||"N/A"} with ${q.gunCount} guns`;case"SAFETY_CHECK":return`Safety check performed
   Pivot: "${q.pivot}" at ${q.pivotGrid||"N/A"}
   Target: "${q.target}" at ${q.targetGrid||"N/A"}
   Safety Area: ${q.safetyType||"N/A"}`;case"SAFETY_VIOLATION":return` SAFETY VIOLATION
   ${q.message}
   Target: ${q.target||"N/A"} at ${q.targetGrid||"N/A"}`;case"SAFETY_PASSED":return` Safety check PASSED
   Target "${q.target||"N/A"}" is within safe area
   Distance to boundary: ${q.distance||"N/A"}m`;case"SAFETY_RANGE_LOADED":return`Safety range loaded: ${q.rangeName||"Unknown"}
   Points: ${q.pointCount||0}
   Equipment: ${q.equipment||"N/A"}`;case"DFFR_LOADED":return"DFFR (Devlali Field Firing Range) safety boundary loaded";case"MFFR_LOADED":return"MFFR safety boundary loaded";case"PFFR_LOADED":return"PFFR safety boundary loaded";case"POLYGON_RESET":return"Safety polygon cleared";case"CORRECTION_APPLIED":case"applyCorrection":return`Correction applied for target "${q.target||"N/A"}"
   Add: ${q.add||0}m, Drop: ${q.drop||0}m
   Right: ${q.right||0}m, Left: ${q.left||0}m
   New Oscar: ${q.oscar||0}`;case"responsibilityAccepted":return`Responsibility accepted for target "${q.target}"
   Range: ${q.range}m
   Oscar: ${q.oscar||0}`;case"GRID_SETTINGS_CHANGED":return`Grid settings changed
   E: ${q.eMin}-${q.eMax}, N: ${q.nMin}-${q.nMax}
   Grid size: ${q.gridSize}px, Squares: ${q.numSquares}`;case"EQUIPMENT_CHANGED":return`Equipment changed to: ${q.equipment}
   Safety offset: ${q.offset}m`;case"newSession":return`New session created: "${q.session}"`;case"saveSession":return`Session saved: "${q.session}"
   Elements: ${q.elementCount||0} targets, ${q.fdlCount||0} FDLs`;case"loadSession":return`Session loaded: "${q.session}"`;case"renameSession":return`Session renamed from "${q.from}" to "${q.to}"`;case"deleteSession":return`Session deleted: "${q.session}"`;case"logsCleared":return"Logs cleared";case"rlsoSaved":return`RLSO instruction saved
   Locked: ${q.locked?"Yes":"No"}
   Visible: ${q.show?"Yes":"No"}`;case"MEASURE_TAKEN":return`Measurement taken
   From: ${q.from||"N/A"} To: ${q.to||"N/A"}
   Range: ${q.range}m, Bearing: ${q.bearing} (NATO: ${q.milsNATO}, Russian: ${q.milsRussian})`;default:return`${L}: ${JSON.stringify(q)}`}},Ro=A=>new Date(A).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),Cn=(A,L={})=>{const q={id:Date.now(),time:new Date().toISOString(),type:A,details:L,category:Jl[A]||"other"};lr(lt=>{const pt=[...lt,q];try{localStorage.setItem(ar+$i,JSON.stringify(pt))}catch{}return pt}),console.log(`[${Ro(q.time)}] ${Jr(q)}`)},Ni=()=>Ql==="all"?va:va.filter(A=>(Jl[A.type]||"other")===Ql),Lo=()=>{const A=Ni();return R.jsxs("div",{className:"logs-viewer",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",zIndex:1e4,width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[R.jsxs("h4",{style:{margin:0},children:["Activity Logs - ",$i]}),R.jsx("button",{onClick:()=>Nl(!1),style:{border:"none",background:"none",fontSize:"24px",cursor:"pointer"},children:""})]}),R.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:["all","elements","safety","corrections","session"].map(L=>R.jsxs("button",{className:`btn btn-sm ${Ql===L?"btn-primary":"btn-outline-secondary"}`,onClick:()=>oc(L),children:[L.charAt(0).toUpperCase()+L.slice(1)," (",L==="all"?va.length:va.filter(q=>(Jl[q.type]||"other")===L).length,")"]},L))}),R.jsx("div",{style:{flex:1,overflow:"auto",border:"1px solid #ddd",borderRadius:"6px",background:"#f9f9f9"},children:A.length===0?R.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"No logs in this category"}):A.slice().reverse().map((L,q)=>R.jsxs("div",{style:{padding:"10px 12px",borderBottom:"1px solid #eee",background:q%2===0?"white":"#f9f9f9"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[R.jsx("span",{style:{fontSize:"11px",color:"#666",fontFamily:"monospace"},children:Ro(L.time)}),R.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"10px",background:L.category==="safety"?"#dc3545":L.category==="elements"?"#007bff":L.category==="corrections"?"#ffc107":L.category==="session"?"#28a745":"#6c757d",color:L.category==="corrections"?"#000":"white"},children:L.category||"other"})]}),R.jsx("div",{style:{fontSize:"13px"},children:Jr(L)})]},L.id||q))}),R.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"8px"},children:[R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:Wr,children:" Export JSON"}),R.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:Bo,children:" Export CSV"}),R.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:uc,children:" Export Text"})]}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:hc,children:" Clear Logs"}),R.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>Nl(!1),children:"Close"})]})]})]})},uc=()=>{const A=`=== Digital Artillery Board - Activity Log ===
Session: ${$i}
Exported: ${new Date().toLocaleString()}
Total Entries: ${va.length}
${"=".repeat(50)}

`,L=va.map(q=>`[${Ro(q.time)}] [${(q.category||"other").toUpperCase()}]
  ${Jr(q)}`).join(`

`);Kl(`logs_${$i}_${Date.now()}.txt`,A+L,"text/plain")},cc=()=>({meta:{savedAt:new Date().toISOString(),app:"Digital Artillery Board"},gridSize:b,numSquares:S,bounds:X,targets:U,ops:T,fdls:V,rangeRings:Ga,gunLayoutData:Nt});Gt.useEffect(()=>{const A=()=>{try{const L=cc();localStorage.setItem(_u+$i,JSON.stringify(L)),localStorage.setItem(Fa,$i);const q=Ol();q.includes($i)||(q.push($i),sr(q))}catch{}};return window.addEventListener("beforeunload",A),()=>window.removeEventListener("beforeunload",A)},[$i,zt,ne,Oe]),Gt.useEffect(()=>{try{const A=localStorage.getItem(un);if(!A)return;const L=JSON.parse(A)||{};typeof L.text=="string"&&te(L.text),typeof L.locked=="boolean"&&he(L.locked),typeof L.show=="boolean"&&Se(L.show)}catch{}},[]);const fc=()=>{try{const A={text:zt||"",locked:!!Oe,show:!!ne};localStorage.setItem(un,JSON.stringify(A)),typeof Cn=="function"&&Cn("rlsoSaved",{locked:!!Oe,show:!!ne});try{le.fire("Saved","Instruction saved locally.","success")}catch{}}catch{}},hc=async()=>{(await le.fire({title:"Clear logs?",icon:"warning",showCancelButton:!0})).isConfirmed&&(lr([]),localStorage.removeItem(ar+$i),Cn("logsCleared",{}))},Wr=()=>{Kl(`logs_${$i}.json`,JSON.stringify(va,null,2),"application/json")},Bo=()=>{const A=["time","type","details"],L=va.map(lt=>[lt.time,lt.type,JSON.stringify(lt.details).replaceAll('"','""')]),q=[A.join(","),...L.map(lt=>lt.join(","))].join(`
`);Kl(`logs_${$i}.csv`,q,"text/csv")};Gt.useEffect(()=>{const A=Uh[ma];typeof A=="number"&&!Number.isNaN(A)&&pi(A)},[ma]);const zo=(A,L)=>{const q=lt=>String(lt).padStart(3,"0").slice(-3);return`${q(A)} ${q(L)}`},rr=(A,L)=>{if(!kl)return{x:A,y:L};const q=z||b/10,lt=Math.round(A/q)*q,pt=Math.round(L/q)*q;return{x:lt,y:pt}},dc=25,xu=A=>{const L=[...U,...T];let q=null,lt=1/0;for(const pt of L){const Rt=pt.x-A.x,Et=pt.y-A.y,Xt=Math.hypot(Rt,Et);Xt<dc&&Xt<lt&&(q={x:pt.x,y:pt.y},lt=Xt)}return q};Gt.useEffect(()=>{if(!localStorage.getItem(f)){const L=setTimeout(()=>{qa(!0)},1500);return()=>clearTimeout(L)}},[]),Gt.useEffect(()=>{ht.current&&localStorage.setItem(P2,JSON.stringify({gridSize:b,numSquares:S,bounds:X,targets:U,ops:T,fdls:V,rangeRings:Ga,gunLayoutData:Nt}))},[b,S,X,U,T,V,Ga,Nt]),Gt.useEffect(()=>{const A=localStorage.getItem(P2);if(A)try{const L=JSON.parse(A);typeof L.gridSize=="number"&&O(L.gridSize),typeof L.numSquares=="number"&&Ua(L.numSquares),L.bounds&&P(L.bounds),Array.isArray(L.targets)&&J(E(L.targets,L.gridSize)),Array.isArray(L.ops)&&H(E(L.ops,L.gridSize)),Array.isArray(L.fdls)&&$(E(L.fdls,L.gridSize)),Array.isArray(L.rangeRings)&&El(L.rangeRings),L.gunLayoutData&&yt(L.gunLayoutData)}catch(L){console.error("Autosave restore failed",L)}},[]),Gt.useEffect(()=>{K.current=!0},[U.length,T.length,V.length,Ga.length]),Gt.useEffect(()=>{requestAnimationFrame(()=>{ht.current=!0})},[]),Gt.useEffect(()=>{Yi.current&&(J(A=>A.length?A.map(L=>({...L,originalX:typeof L.originalX=="number"?L.originalX:L.x/b,originalY:typeof L.originalY=="number"?L.originalY:L.y/b})):A),H(A=>A.length?A.map(L=>({...L,originalX:typeof L.originalX=="number"?L.originalX:L.x/b,originalY:typeof L.originalY=="number"?L.originalY:L.y/b})):A),$(A=>A.length?A.map(L=>({...L,originalX:typeof L.originalX=="number"?L.originalX:L.x/b,originalY:typeof L.originalY=="number"?L.originalY:L.y/b})):A))},[Yi.current]),Gt.useEffect(()=>{F(b/10),tn(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),yn(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),Ce(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),J(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),H(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),$(A=>A.map(L=>({...L,x:L.originalX*b,y:L.originalY*b}))),Ke.length>=3&&Bi!=="MFFR"&&al()},[b]),Gt.useEffect(()=>{const A=nn.length>=3?nn:Ke;if(A.length>=3&&nl)try{Db(nl,A,b,Ce)}catch{}},[b,nn,Ke,nl]),Gt.useEffect(()=>{const A=()=>{const pt=new window.Image;return pt.crossOrigin="anonymous",pt},L=A();L.src=y2,L.onload=()=>_(L);const q=A();q.src=v2,q.onload=()=>Q(q);const lt=A();lt.src=b2,lt.onload=()=>ot(lt)},[]);const or=()=>b/1e3,pc=A=>{let L=0,q=0,lt=0;for(let pt=0,Rt=A.length-1;pt<A.length;Rt=pt++){const Et=A[Rt],Xt=A[pt],It=Et.x*Xt.y-Xt.x*Et.y;lt+=It,L+=(Et.x+Xt.x)*It,q+=(Et.y+Xt.y)*It}return lt=lt||1,{x:L/(3*lt),y:q/(3*lt)}},Cu=(A,L,q,lt,pt,Rt)=>{const Et=pt-q,Xt=Rt-lt,It=A-q,Qt=L-lt,Zt=Et*Et+Xt*Xt||1e-6;let ee=(It*Et+Qt*Xt)/Zt;return ee=Math.max(0,Math.min(1,ee)),{x:q+ee*Et,y:lt+ee*Xt}},wu=(A,L)=>{if(!Array.isArray(L)||L.length<2)return{point:A,dist:0};let q={point:{x:L[0].x,y:L[0].y},dist:1/0};for(let lt=0;lt<L.length;lt++){const pt=L[lt],Rt=L[(lt+1)%L.length],Et=Cu(A.x,A.y,pt.x,pt.y,Rt.x,Rt.y),Xt=Et.x-A.x,It=Et.y-A.y,Qt=Xt*Xt+It*It;Qt<q.dist&&(q={point:Et,dist:Qt})}return q.dist=Math.sqrt(q.dist),q},Wl=(A,L)=>{const q=(L.x||0)-(A.x||0),lt=(L.y||0)-(A.y||0);return(Math.atan2(q,-lt)*180/Math.PI+360)%360},mc=(A,L,q)=>{const lt=Pe&&Pe.length>=3?Pe:nn&&nn.length>=3?nn:Ke&&Ke.length>=3?Ke:[];if(!lt.length)return{right:0,left:0,add:0,drop:0,oscar:q??0,correctedPoint:L};if(fr(L,lt))return{right:0,left:0,add:0,drop:0,oscar:Number.isFinite(q)?parseFloat(q):Wl(A,L),correctedPoint:L};const{point:pt}=wu(L,lt),Rt=pc(lt),Et=Rt.x-pt.x,Xt=Rt.y-pt.y,It=Math.hypot(Et,Xt)||1;let Zt=100*or(),ee={x:pt.x+Et/It*Zt,y:pt.y+Xt/It*Zt},xe=0;for(;xe<8&&!fr(ee,lt);)Zt*=.5,ee={x:pt.x+Et/It*Zt,y:pt.y+Xt/It*Zt},xe++;const Ee={x:ee.x-L.x,y:ee.y-L.y};let ye;if(Number.isFinite(q)){const dn=(parseFloat(q)||0)*Math.PI/180;ye={x:Math.sin(dn),y:-Math.cos(dn)}}else{const We=L.x-A.x,dn=L.y-A.y,ea=Math.hypot(We,dn)||1;ye={x:We/ea,y:dn/ea}}const hn={x:-ye.y,y:ye.x},fn=or(),Re=(Ee.x*ye.x+Ee.y*ye.y)/fn,ue=(Ee.x*hn.x+Ee.y*hn.y)/fn,Ie=Math.round(Math.max(0,Re)),Ii=Math.round(Math.max(0,-Re)),ta=Math.round(Math.max(0,ue)),Fn=Math.round(Math.max(0,-ue)),Xe=Number.isFinite(q)?parseFloat(q):Wl(A,L);return{right:ta,left:Fn,add:Ie,drop:Ii,oscar:Xe,correctedPoint:ee}},Yo=(A,L,q,lt,pt,Rt)=>{const Et=(parseFloat(L||0)+270)*Math.PI/180,Xt=(parseFloat(q)||0)-(parseFloat(lt)||0),It=(parseFloat(pt)||0)-(parseFloat(Rt)||0),Qt=-It*Math.sin(Et)+Xt*Math.cos(Et),Zt=It*Math.cos(Et)+Xt*Math.sin(Et),ee=b/1e3;return{x:(A.x||0)+Qt*ee,y:(A.y||0)+Zt*ee}},Le=(A,L)=>{if(A==null||L==null)return{easting:0,northing:0};let q=Math.floor(A/b)+X.eMin,lt=X.nMax-Math.floor(L/b);q=(q%100+100)%100,lt=(lt%100+100)%100;const pt=Math.round(A%b/z),Rt=Math.round((b-L%b)/z);return{easting:q*10+pt,northing:lt*10+Rt}},Ml=()=>(Number(X==null?void 0:X.eMin)||0)*10,Eu=()=>((Number(X==null?void 0:X.nMax)||0)+1)*10,ur=(A,L)=>{const q=Ml(),lt=Eu(),pt=(A-q)*z,Rt=(lt-L)*z;return{x:pt,y:Rt}};function Tu(A,L){const q=A>1e3&&L>1e3?Math.round(A/10):A,lt=A>1e3&&L>1e3?Math.round(L/10):L,pt=Math.floor(q/10),Rt=q%10,Et=Math.floor(lt/10),Xt=lt%10,It=(pt-X.eMin+100)%100,Qt=(X.nMax-Et+100)%100,Zt=It*b+Rt*z,ee=Qt*b+(b-Xt*z);return{x:Zt,y:ee}}function Dl(A,L,q,lt){const pt=lt*q;return A>=0&&A<=pt&&L>=0&&L<=pt}const al=Gt.useCallback(()=>{if(!Ke||Ke.length<3)return;const L=820*(b/1e3),q=Ke.filter(Rt=>Rt&&typeof Rt.x=="number"&&typeof Rt.y=="number").map(Rt=>({X:Rt.x,Y:Rt.y}));if(q.length<3)return;const lt=new Kc.ClipperOffset;lt.AddPath(q,Kc.JoinType.jtSquare,Kc.EndType.etClosedPolygon);const pt=[];if(lt.Execute(pt,-L),pt.length>0&&pt[0].length>0){const Rt=pt[0].map(Et=>({x:Et.X,y:Et.Y}));yn(Rt.map(Et=>({...Et,originalX:Et.x/b,originalY:Et.y/b})))}},[Ke,b]);function $r(A){let L=null,q=0;return A.map(([lt,pt])=>{let Rt=Number(pt);L!==null&&(L<20&&Rt>80&&(q-=1e3),L>80&&Rt<20&&(q+=1e3));const Et=Rt+q;return L=Rt,{eu:Number(lt),nu:Et,e6:Number(lt),n6:Rt}})}function As(A){let L=null,q=0;return A.map(([lt,pt])=>{const Rt=Number(lt),Et=Number(pt);return L!==null&&(L>800&&Rt<200&&(q+=1e3),L<200&&Rt>800&&(q-=1e3)),L=Rt,{eu:Rt+q,nu:Et,e6:Rt,n6:Et}})}function to(A,L=1e3,q=L/2){if(!Array.isArray(A)||A.length===0)return[];let lt=0,pt=0;const Rt=Number(A[0][0]),Et=Number(A[0][1]);let Xt=Rt,It=Et;return A.map(([Qt,Zt],ee)=>{const xe=Number(Qt),Ee=Number(Zt);if(ee>0){const fn=xe-Xt,Re=Ee-It;fn<-q?lt+=L:fn>q&&(lt-=L),Re<-q?pt+=L:Re>q&&(pt-=L)}Xt=xe,It=Ee;const ye=String(Qt).padStart(3,"0"),hn=String(Zt).padStart(3,"0");return{eu:xe+lt,nu:Ee+pt,e6:ye,n6:hn}})}const eo=()=>{if(!Array.isArray(Op)||Op.length<3)return;en(!0),cn(Op.map(([L,q])=>{const lt=Math.round(Number(L)/10),pt=Math.round(Number(q)/10);return{eu:lt,nu:pt,e6:lt,n6:pt}})),ei(1),yn([]),Ce([]),qn(!0),setTimeout(()=>{try{al()}catch{}},0);const A=Uh==null?void 0:Uh[ma];typeof A=="number"&&pi(A)},$l=()=>{if(!Array.isArray(Mp)||Mp.length<3)return;en(!0);const A=$r(Mp);cn(A),ei("all"),zi("MFFR"),yn([]),Ce([]),qn(!0),Ce(A.map(L=>{const{x:q,y:lt}=ur(L.eu,L.nu);return{x:q,y:lt,originalX:q/b,originalY:lt/b}})),pi(null)},Oi=()=>{!Array.isArray(a0)||a0.length<3||(en(!0),zi("MFFR"),cn(a0.map(A=>({eu:A.e,nu:A.n,e6:A.e,n6:A.labelN}))),yn([]),pi(null),qn(!0),Ce(a0.map(A=>{const{x:L,y:q}=ur(A.e,A.n);return{x:L,y:q,originalX:L/b,originalY:q/b}})))},no=()=>{if(!Array.isArray(Dp)||Dp.length<3)return;en(!0),zi("MFFR");const A=As(Dp);cn(A),ei("all"),yn([]),qn(!0),Ce(A.map(L=>{const{x:q,y:lt}=ur(L.eu,L.nu);return{x:q,y:lt,originalX:q/b,originalY:lt/b}})),pi(null)},Au=()=>{if(!Array.isArray(Pp)||Pp.length<3)return;en(!0),zi("MFFR"),ei("all");const A=to(Pp,1e3);cn(A),yn([]),qn(!0),Ce(A.map(L=>{const{x:q,y:lt}=ur(L.eu,L.nu);return{x:q,y:lt,originalX:q/b,originalY:lt/b}})),pi(null)},ts=di.useMemo(()=>{const A=Yn.length;if(Ei==="all")return new Set([...Array(A).keys()]);const L=Number(Ei);if(!L||A===0)return new Set;if(A<=L)return new Set([...Array(A).keys()]);const q=(A-1)/(L-1),lt=new Set;for(let pt=0;pt<L;pt++)lt.add(Math.round(pt*q));return lt},[Yn,Ei]),io=()=>{const A={meta:{exportedAt:new Date().toISOString(),app:"Digital Artillery Board (enhanced)"},gridSize:b,numSquares:S,subGridSize:z,bounds:X,targets:U,ops:T,polygonPoints:Ke,innerPolygonPoints:nn,rangeRings:Ga,safeTargetAreaPoints:Pe,safeAreaDistance:nl,isPolygonComplete:ni,rlsoInstruction:zt,showRlsoOverlay:ne,rlsoLocked:Oe},L=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),q=URL.createObjectURL(L),lt=document.createElement("a");lt.href=q,lt.download="artillery_scenario.json",lt.click(),URL.revokeObjectURL(q)},Nu=A=>{const L=new FileReader;L.onload=()=>{try{const q=JSON.parse(L.result);typeof q.gridSize=="number"&&jr(q.gridSize),typeof q.subGridSize=="number"&&F(q.subGridSize),typeof q.numSquares=="number"&&Ua(q.numSquares),q.bounds&&P(q.bounds),Array.isArray(q.targets)&&J(E(q.targets,b)),Array.isArray(q.ops)&&H(q.ops),Array.isArray(q.polygonPoints)&&tn(q.polygonPoints),Array.isArray(q.innerPolygonPoints)&&yn(q.innerPolygonPoints),Array.isArray(q.rangeRings)&&El(q.rangeRings),Array.isArray(q.safeTargetAreaPoints)&&Ce(q.safeTargetAreaPoints),typeof q.safeAreaDistance=="number"&&pi(q.safeAreaDistance),typeof q.equipment=="string"&&wl(q.equipment),typeof q.isPolygonComplete=="boolean"&&qn(q.isPolygonComplete),typeof q.rlsoInstruction=="string"&&te(q.rlsoInstruction),typeof q.showRlsoOverlay=="boolean"&&Se(q.showRlsoOverlay),typeof q.rlsoLocked=="boolean"&&he(q.rlsoLocked)}catch{le.fire("Import failed","Invalid JSON","error")}finally{Kn.current&&(Kn.current.value="")}},L.readAsText(A)},Uo=()=>{const A=de.current;if(!A)return;const L=A.toDataURL({mimeType:"image/png",pixelRatio:3,quality:1}),q=document.createElement("a");q.href=L,q.download=`artillery_board_${Date.now()}.png`,q.click()},ao=async A=>{if(!A||bt)return;const L=Le(A.x,A.y),q=(Nt==null?void 0:Nt.pivotId)===A.id;await le.fire({title:`${A.label||"Pivot"}`,html:`
      <div style="font-size: 14px; color: #666; margin-bottom: 16px;">
        Grid: ${L.easting} ${L.northing}
      </div>
      <div style="display: flex; flex-direction: column; gap: 10px;">
        <button id="btn-plot-target" class="swal2-styled" style="background: #3085d6; margin: 0;">
           Plot Target from Bearing & Range
        </button>
        <button id="btn-gun-layout" class="swal2-styled" style="background: ${q?"#28a745":"#6c757d"}; margin: 0;">
           ${q?`Gun Layout (${Nt.guns.length} guns)`:"Add Gun Layout"}
        </button>
        ${q?`
          <button id="btn-fire-data" class="swal2-styled" style="background: #dc3545; margin: 0;">
             View Fire Data
          </button>
        `:""}
      </div>
    `,showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"Close",didOpen:()=>{var pt,Rt,Et;const lt=le.getPopup();(pt=lt.querySelector("#btn-plot-target"))==null||pt.addEventListener("click",()=>{le.close(),ll(A,A.label||"Pivot")}),(Rt=lt.querySelector("#btn-gun-layout"))==null||Rt.addEventListener("click",()=>{le.close(),qi(A)}),(Et=lt.querySelector("#btn-fire-data"))==null||Et.addEventListener("click",()=>{le.close(),Vi()})}}),Cn("PIVOT_MENU_OPENED",{pivot:A.label,grid:`${L.easting} ${L.northing}`})},qi=async A=>{if(!A)return;(Nt==null?void 0:Nt.pivotId)===A.id?await le.fire({title:`Gun Layout: ${A.label||"Pivot"}`,html:`
        <div style="font-size: 14px; color: #666; margin-bottom: 16px;">
          Currently ${Nt.guns.length} guns configured
        </div>
        <div style="display: flex; flex-direction: column; gap: 10px;">
          <button id="btn-view-data" class="swal2-styled" style="background: #3085d6; margin: 0;">
             View Fire Data for Target
          </button>
          <button id="btn-edit-layout" class="swal2-styled" style="background: #ffc107; color: #000; margin: 0;">
             Edit Gun Layout
          </button>
          <button id="btn-clear-layout" class="swal2-styled" style="background: #dc3545; margin: 0;">
             Clear Gun Layout
          </button>
        </div>
      `,showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"Close",didOpen:()=>{var lt,pt,Rt;const q=le.getPopup();(lt=q.querySelector("#btn-view-data"))==null||lt.addEventListener("click",()=>{le.close(),Vi()}),(pt=q.querySelector("#btn-edit-layout"))==null||pt.addEventListener("click",()=>{le.close(),Ns(A,!0)}),(Rt=q.querySelector("#btn-clear-layout"))==null||Rt.addEventListener("click",async()=>{le.close(),(await le.fire({title:"Clear Gun Layout?",text:"This will remove all gun data for this pivot.",icon:"warning",showCancelButton:!0,confirmButtonText:"Clear",confirmButtonColor:"#dc3545"})).isConfirmed&&(yt(null),Cn("GUN_LAYOUT_CLEARED",{pivot:A.label}),le.fire("Cleared","Gun layout data has been cleared.","info"))})}}):await Ns(A,!1)},Ns=async(A,L=!1)=>{var It;const q=L&&Nt?Nt.guns.length:0,{value:lt}=await le.fire({title:L?"Edit Gun Layout":"Add Gun Layout",input:"number",inputLabel:`Number of guns for ${A.label||"Pivot"}`,inputValue:q||"",inputPlaceholder:"e.g., 6",inputAttributes:{min:1,max:12},showCancelButton:!0,inputValidator:Qt=>{if(!Qt||Qt<1||Qt>12)return"Enter a number between 1 and 12"}});if(!lt)return;let pt='<div style="max-height: 400px; overflow-y: auto;">';for(let Qt=1;Qt<=parseInt(lt);Qt++){const Zt=L&&((It=Nt==null?void 0:Nt.guns)==null?void 0:It.find(Ee=>Ee.gunNumber===Qt)),ee=(Zt==null?void 0:Zt.easting5)||"",xe=(Zt==null?void 0:Zt.northing5)||"";pt+=`
      <div style="margin-bottom: 12px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
        <label style="font-weight: bold;">Gun ${Qt}</label>
        <div style="display: flex; gap: 8px; margin-top: 4px;">
          <input id="gun-${Qt}-e" type="number" class="swal2-input" style="width: 120px; margin: 0;" placeholder="Easting (5 fig)" value="${ee}" maxlength="5">
          <input id="gun-${Qt}-n" type="number" class="swal2-input" style="width: 120px; margin: 0;" placeholder="Northing (5 fig)" value="${xe}" maxlength="5">
        </div>
      </div>
    `}pt+="</div>",pt+='<div style="font-size: 12px; color: #666; margin-top: 8px;">Enter 5-figure grid references (e.g., 23745 57032)</div>';const{value:Rt}=await le.fire({title:"Enter Gun Grid References",html:pt,width:400,showCancelButton:!0,confirmButtonText:"Save Gun Layout",preConfirm:()=>{const Qt=[];for(let Zt=1;Zt<=parseInt(lt);Zt++){const ee=document.getElementById(`gun-${Zt}-e`).value,xe=document.getElementById(`gun-${Zt}-n`).value;if(!ee||!xe)return le.showValidationMessage(`Please fill in both coordinates for Gun ${Zt}`),!1;if(ee.length!==5||xe.length!==5)return le.showValidationMessage(`Gun ${Zt}: Grid reference must be 5 figures each (e.g., 23745)`),!1;Qt.push({gunNumber:Zt,easting5:parseInt(ee),northing5:parseInt(xe)})}return Qt}});if(!Rt)return;const Et=Rt.map(Qt=>{const Zt=Math.floor(Qt.easting5/100),ee=Math.floor(Qt.northing5/100),{x:xe,y:Ee}=Tu(Zt,ee);return{...Qt,easting6:Zt,northing6:ee,x:xe,y:Ee}});yt({pivotId:A.id,pivotLabel:A.label||"Pivot",guns:Et});const Xt=Et.map(Qt=>`Gun${Qt.gunNumber}: ${Qt.easting5} ${Qt.northing5}`).join(", ");Cn(L?"GUN_LAYOUT_EDITED":"GUN_LAYOUT_ADDED",{pivot:A.label||"Pivot",gunCount:Rt.length,gunPositions:Xt}),le.fire("Gun Layout Saved",`${Rt.length} guns configured for ${A.label||"Pivot"}.`,"success")},ll=(A,L="Pivot")=>{A&&(bt||le.fire({title:`Plot Target from ${L}`,width:560,confirmButtonText:"Plot Target",showCancelButton:!0,focusConfirm:!1,html:`
      <style>
        .bg-grid{
          display:grid;
          grid-template-columns:1fr 1fr;
          gap:12px 12px;
          margin-top:6px;
        }
        .bg-grid .full{grid-column:1/3}
        .bg-grid label{
          font-size:13px;
          font-weight:700;
          text-align:left;
        }
        .bg-grid input{
          height:40px;
          padding:6px 10px;
          font-size:14px;
        }
        .bg-grid input:disabled{
          background:#eee;
          cursor:not-allowed;
          opacity:0.7;
        }
        .hint{
          font-size:12px;
          color:#666;
          margin-top:-6px;
        }
      </style>

      <div class="bg-grid">
        <div>
          <label>Degrees (0360)</label>
          <input id="pv-deg" type="number" placeholder="0" />
        </div>
        <div>
          <label>Minutes (059)</label>
          <input id="pv-min" type="number" placeholder="0" />
        </div>

        <div>
          <label>Seconds (059)</label>
          <input id="pv-sec" type="number" placeholder="0" />
        </div>
        <div>
          <label>Mils (06400)</label>
          <input id="pv-mils" type="number" placeholder="" />
        </div>

        <div class="full hint">
          Enter either DMS or Mils. Blank fields are treated as zero.
        </div>

        <div class="full">
          <label>Range (meters, &gt; 0)</label>
          <input id="pv-range" class="full" type="number" placeholder="e.g. 3200" />
        </div>

        <div class="full">
          <label>Target Name</label>
          <input id="pv-name" class="full" type="text" placeholder="Tgt Alpha" />
        </div>
      </div>
    `,didOpen:()=>{const q=le.getPopup(),lt=q.querySelector("#pv-deg"),pt=q.querySelector("#pv-min"),Rt=q.querySelector("#pv-sec"),Et=q.querySelector("#pv-mils"),Xt=[lt,pt,Rt],It=()=>{const Qt=Xt.some(ee=>ee.value!==""),Zt=Et.value!=="";Et.disabled=Qt,Xt.forEach(ee=>ee.disabled=Zt)};[...Xt,Et].forEach(Qt=>Qt.addEventListener("input",It)),It()},preConfirm:()=>{const q=le.getPopup(),lt=(q.querySelector("#pv-name").value||"").trim();if(!lt)return le.showValidationMessage("Target name is mandatory."),!1;const pt=Number(q.querySelector("#pv-range").value);if(!pt||pt<=0)return le.showValidationMessage("Range must be greater than zero."),!1;const Rt=q.querySelector("#pv-deg").value,Et=q.querySelector("#pv-min").value,Xt=q.querySelector("#pv-sec").value,It=q.querySelector("#pv-mils").value,Qt=[Rt,Et,Xt].some(ee=>ee!==""),Zt=It!=="";if(!Qt&&!Zt)return le.showValidationMessage("Enter either DMS or Mils for bearing."),!1;if(Qt){const ee=Number(Rt)||0,xe=Number(Et)||0,Ee=Number(Xt)||0;if(ee<0||ee>360)return le.showValidationMessage("Degrees must be between 0 and 360."),!1;if(xe<0||xe>=60)return le.showValidationMessage("Minutes must be between 0 and 59."),!1;if(Ee<0||Ee>=60)return le.showValidationMessage("Seconds must be between 0 and 59."),!1}if(Zt){const ee=Number(It);if(Number.isNaN(ee)||ee<0||ee>6400)return le.showValidationMessage("Mils must be between 0 and 6400."),!1}return{deg:Rt,min:Et,sec:Xt,mils:It,range:pt,name:lt}}}).then(q=>{if(!q.isConfirmed)return;const lt=Fr(q.value),pt=Xa(lt),Rt=b/1e3,Et=Math.sin(pt)*q.value.range*Rt,Xt=-Math.cos(pt)*q.value.range*Rt,It=A.x+Et,Qt=A.y+Xt;if(typeof Dl=="function"&&!Dl(It,Qt,b,S)){le.fire("Out of bounds","Target lies outside the grid.","warning");return}const Zt=A.easting5??Le(A.x,A.y).easting*100,ee=A.northing5??Le(A.x,A.y).northing*100,xe=parseFloat(q.value.range),Ee=Math.round(xe*Math.sin(pt)),ye=Math.round(xe*Math.cos(pt));let hn=Zt+Ee,fn=ee+ye;const Re=1e5;hn=(hn%Re+Re)%Re,fn=(fn%Re+Re)%Re,Cn("TARGET_PLOTTED",{name:q.value.name,origin:L,originGrid10:`${Zt} ${ee}`,bearing:lt.toFixed(1),bearingMils:Math.round(lt*6400/360),range:xe,targetGrid10:`${hn} ${fn}`,targetGrid6:`${Math.floor(hn/100)} ${Math.floor(fn/100)}`}),J(ue=>[...ue,{id:`tgt-${Date.now()}`,type:"target",label:q.value.name,x:It,y:Qt,originalX:It/b,originalY:Qt/b,easting5:hn,northing5:fn,size:Ve,gridSize:b,plottedFrom:L,bearing:lt,range:q.value.range}])}))},Go=A=>{const L=U.find(Et=>Et.id===A);if(!L)return;const q=L.isFoS?U.find(Et=>Et.id===L.parentId):L;if(!q)return;const lt=L,pt=q.id,Rt=parseFloat(lt.oscar??q.oscar??"0");le.fire({title:`Corrections for ${q.label||"Target"}`,width:520,confirmButtonText:"Apply",showCancelButton:!0,focusConfirm:!1,html:`
      <style>
        .corr-grid{
          display:grid;
          grid-template-columns:1fr 1fr;
          gap:14px 16px;
          margin-top:10px;
        }
        .corr-box{
          display:flex;
          flex-direction:column;
          gap:6px;
        }
        .corr-box label{
          font-size:13px;
          font-weight:600;
          color:#444;
        }
        .corr-box input{
          height:40px;
          padding:6px 10px;
          font-size:14px;
        }
        .hint{
          font-size:11px;
          color:#b00020;
          margin-top:2px;
          display:none;
        }
        .hint.show{ display:block; }
        .oscar-box{
          margin-top:12px;
        }
      </style>

      <div class="corr-grid">
        <div class="corr-box">
          <label>Right (m)</label>
          <input id="corrRight" type="number" step="1" />
          <div id="hintRight" class="hint">Left correction already entered</div>
        </div>

        <div class="corr-box">
          <label>Left (m)</label>
          <input id="corrLeft" type="number" step="1" />
          <div id="hintLeft" class="hint">Right correction already entered</div>
        </div>

        <div class="corr-box">
          <label>Add (m)</label>
          <input id="corrAdd" type="number" step="1" />
          <div id="hintAdd" class="hint">Drop correction already entered</div>
        </div>

        <div class="corr-box">
          <label>Drop (m)</label>
          <input id="corrDrop" type="number" step="1" />
          <div id="hintDrop" class="hint">Add correction already entered</div>
        </div>
      </div>

      <div class="corr-box oscar-box">
        <label>Oscar (deg)</label>
        <input id="corrOscar" type="number" step="0.1" value="${Rt}" />
      </div>
    `,didOpen:()=>{const Et=le.getPopup(),Xt=Et.querySelector("#corrRight"),It=Et.querySelector("#corrLeft"),Qt=Et.querySelector("#corrAdd"),Zt=Et.querySelector("#corrDrop"),ee=Et.querySelector("#hintRight"),xe=Et.querySelector("#hintLeft"),Ee=Et.querySelector("#hintAdd"),ye=Et.querySelector("#hintDrop"),hn=(fn,Re,ue,Ie)=>{fn.addEventListener("input",()=>{fn.value!==""?(Re.disabled=!0,Ie.classList.add("show")):(Re.disabled=!1,Ie.classList.remove("show"))}),Re.addEventListener("input",()=>{Re.value!==""?(fn.disabled=!0,ue.classList.add("show")):(fn.disabled=!1,ue.classList.remove("show"))})};hn(Xt,It,ee,xe),hn(Qt,Zt,Ee,ye)},preConfirm:()=>{const Et=le.getPopup();return{right:parseFloat(Et.querySelector("#corrRight").value)||0,left:parseFloat(Et.querySelector("#corrLeft").value)||0,add:parseFloat(Et.querySelector("#corrAdd").value)||0,drop:parseFloat(Et.querySelector("#corrDrop").value)||0,oscar:parseFloat(Et.querySelector("#corrOscar").value)||Rt}}}).then(Et=>{if(!Et.isConfirmed)return;const{right:Xt,left:It,add:Qt,drop:Zt,oscar:ee}=Et.value,xe=Yo(lt,ee,Qt,Zt,Xt,It),Ee=Math.max(0,Math.min(S*b,xe.x)),ye=Math.max(0,Math.min(S*b,xe.y)),hn=lt.easting5??Le(lt.x,lt.y).easting*100,fn=lt.northing5??Le(lt.x,lt.y).northing*100,Re=ee*Math.PI/180,ue=(Qt||0)-(Zt||0),Ie=(Xt||0)-(It||0),Ii=Math.round(Ie*Math.cos(Re)-ue*Math.sin(Re)),ta=Math.round(Ie*Math.sin(Re)+ue*Math.cos(Re)),Fn=1e5;let Xe=((hn+Ii)%Fn+Fn)%Fn,We=((fn+ta)%Fn+Fn)%Fn;const dn=Le(Ee,ye);J(ea=>{let sl=!1;const ki=ea.map(Ma=>Ma.id===pt&&!Ma.isFoS?{...Ma,oscar:ee}:Ma.isFoS&&Ma.parentId===pt?(sl=!0,{...Ma,x:Ee,y:ye,originalX:Ee/b,originalY:ye/b,easting5:Xe,northing5:We,oscar:ee,lastFoS:!0}):Ma);return sl||(ki.push({id:`fos-${pt}`,parentId:pt,type:"target",label:`${q.label||"Target"} FOS`,x:Ee,y:ye,originalX:Ee/b,originalY:ye/b,easting5:Xe,northing5:We,size:Ve,gridSize:b,isFoS:!0,lastFoS:!0,oscar:ee}),Cn("FOS_PLOTTED",{target:q.label||"Target",grid6:`${dn.easting} ${dn.northing}`,grid10:`${Xe} ${We}`,correction:`Add ${Qt}, Drop ${Zt}, Right ${Xt}, Left ${It}`,oscar:ee})),ki})})};Gt.useEffect(()=>{var A;try{wt&&wt.current&&(wt.current.moveToTop(),(A=wt.current.getStage())==null||A.batchDraw())}catch{}},[ni,Ke,nn,Pe,U.length]),Gt.useEffect(()=>{const A=L=>{var q;((q=L.touches)==null?void 0:q.length)>1&&L.preventDefault()};return document.addEventListener("touchmove",A,{passive:!1}),()=>document.removeEventListener("touchmove",A)},[]),Gt.useEffect(()=>{Tl(null)},[b,nn.length,Ke.length,Pe.length,U.length]),Gt.useEffect(()=>{const A=L=>{if(L.key==="Escape")try{typeof we=="function"&&we(!1),typeof Ki=="function"&&Ki(!1),typeof Hi=="function"&&Hi(!1),typeof setIsRangeArmActive=="function"&&setIsRangeArmActive(!1),typeof setScaleStart=="function"&&setScaleStart(null),typeof setScaleEnd=="function"&&setScaleEnd(null)}catch{}};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]);const lo=A=>{const L=de.current;if(!L)return;const q=L.getPointerPosition();if(!q)return;Ai(q);const lt=Le(q.x,q.y);if(mi(lt),A.evt.type&&A.evt.type.includes("touch")){const Rt=rr(q.x,q.y);I(Rt)}if(ai&&Ir==="draw"){const Rt=rr(q.x,q.y);tn(Et=>{const Xt=[...Et];return(Xt.length===0||Xt[Xt.length-1].x!==Rt.x||Xt[Xt.length-1].y!==Rt.y)&&Xt.push({...Rt,originalX:Rt.x/b,originalY:Rt.y/b}),Xt})}},Xo=()=>{Wi.current=null},Ho=A=>{const L=A.target.getStage().getPointerPosition();Ai(L),L&&mi(Le(L.x,L.y))},jo=A=>{const L=setTimeout(()=>{Rn(A,!0)},Kr);ir(L)},Os=async A=>{const L=de.current;if(!L)return;const q=L.getPointerPosition();if(!q)return;const lt=rr(q.x,q.y);if(!Nn&&!Qi&&!Il&&!ja){I(lt),Ai(lt),mi(Le(lt.x,lt.y));return}const pt=Nn?"Pivot":Qi?"Target":Il?"OP":ja?"FDL":null;if(!pt)return;const{value:Rt}=await le.fire({title:`Enter ${pt} Name`,input:"text",inputPlaceholder:`Name for ${pt}`,showCancelButton:!0,inputValidator:Zt=>!Zt||!Zt.trim()?"Name cannot be empty!":null});if(!Rt)return;const Et=Le(lt.x,lt.y),Xt=Et.easting*100,It=Et.northing*100,Qt={id:Date.now(),x:lt.x,y:lt.y,originalX:lt.x/b,originalY:lt.y/b,easting5:Xt,northing5:It,type:pt.toLowerCase(),label:Rt,size:pt==="Pivot"?ji:pt==="Target"?Ve:pt==="OP"?On:12,gridSize:b};pt==="FDL"?$(Zt=>[...Zt,Qt]):J(Zt=>[...Zt,Qt]),we(!1),Ki(!1),Hi(!1),Na(!1),I(lt),Ai(lt),mi(Le(lt.x,lt.y))},cr=async A=>{if(A.evt.pointerType==="touch")return;const L=de.current;if(!L)return;const q=L.getPointerPosition();if(!q)return;const lt=rr(q.x,q.y);if(!Nn&&!Qi&&!Il&&!ja){I(lt),Ai(lt),mi(Le(lt.x,lt.y));return}const pt=Nn?"Pivot":Qi?"Target":Il?"OP":"FDL",{value:Rt}=await le.fire({title:`Enter ${pt} Name`,input:"text",inputPlaceholder:`Name for ${pt}`,showCancelButton:!0,inputValidator:Zt=>Zt!=null&&Zt.trim()?null:"Name cannot be empty!"});if(!Rt)return;const Et=Le(lt.x,lt.y),Xt=Et.easting*100,It=Et.northing*100,Qt={id:Date.now(),x:lt.x,y:lt.y,originalX:lt.x/b,originalY:lt.y/b,easting5:Xt,northing5:It,type:pt.toLowerCase(),label:Rt,size:pt==="Pivot"?ji:pt==="Target"?Ve:pt==="OP"?On:12,gridSize:b};pt==="FDL"?$(Zt=>[...Zt,Qt]):J(Zt=>[...Zt,Qt]),we(!1),Ki(!1),Hi(!1),Na(!1),I(lt),Ai(lt),mi(Le(lt.x,lt.y))},Rn=async(A,L=!1)=>{if(!L)return;const q=A.target.getStage().getPointerPosition(),lt=rr(q.x,q.y);if(Ai(lt),Ir==="draw"&&ai){tn(pt=>[...pt,{...lt,originalX:lt.x/b,originalY:lt.y/b}]);return}},Ou=A=>{if(!bt)return!1;const L=de.current;if(!L)return!0;const q=L.getPointerPosition();if(!q)return!0;const lt=xu(q)||q;if(!Ot)$t({a:lt,b:null});else if(Ot&&!Ot.b){const pt=xs(Ot.a,lt);$t({a:Ot.a,b:lt,result:pt});const Rt=Le(Ot.a.x,Ot.a.y),Et=Le(lt.x,lt.y);Cn("MEASURE_TAKEN",{from:`${Rt.easting} ${Rt.northing}`,to:`${Et.easting} ${Et.northing}`,range:pt.rangeMeters,bearing:pt.bearingDeg.toFixed(1),milsNATO:pt.bearingMilsNATO,milsRussian:pt.bearingMilsRussian})}else $t({a:lt,b:null});return!0},af=A=>{const L=U.find(q=>q.id===A);if(L){const q=L.easting5??Le(L.x,L.y).easting*100,lt=L.northing5??Le(L.x,L.y).northing*100;Cn("ELEMENT_DELETED",{type:L.type,name:L.label,grid10:`${q} ${lt}`})}J(q=>q.filter(lt=>lt.id!==A)),H(q=>q.filter(lt=>lt.id!==A))},fr=(A,L)=>{const{x:q,y:lt}=A;let pt=!1;for(let Rt=0,Et=L.length-1;Rt<L.length;Et=Rt++){const Xt=L[Rt].x,It=L[Rt].y,Qt=L[Et].x,Zt=L[Et].y;It>lt!=Zt>lt&&q<(Qt-Xt)*(lt-It)/(Zt-It)+Xt&&(pt=!pt)}return pt},so=(A,L,q,lt)=>{const pt=L.x-q.x,Rt=L.y-q.y;if(Math.hypot(pt,Rt)<=lt)return!0;const Xt=L.x-A.x,It=L.y-A.y,Qt=Math.sqrt(Xt*Xt+It*It);if(Qt===0)return!1;const Zt=Xt/Qt,ee=It/Qt,xe=q.x-A.x,Ee=q.y-A.y,ye=xe*Zt+Ee*ee,hn=A.x+ye*Zt,fn=A.y+ye*ee;return Math.min(A.x,L.x)<=hn&&hn<=Math.max(A.x,L.x)&&Math.min(A.y,L.y)<=fn&&fn<=Math.max(A.y,L.y)?Math.sqrt((hn-q.x)**2+(fn-q.y)**2)<=lt:!1},es=async()=>{const A=U.filter(It=>It.type==="pivot"),L=U.filter(It=>It.type==="target");if(A.length===0||L.length===0)return le.fire("Error","Please place at least one pivot and one target.","error"),null;const q=A.reduce((It,Qt)=>{const Zt=Le(Qt.x,Qt.y);return It[Qt.id]=`${Qt.label} (E: ${Zt.easting}, N: ${Zt.northing})`,It},{}),{value:lt}=await le.fire({title:"Select Pivot",input:"select",inputOptions:q,inputPlaceholder:"Select a pivot",showCancelButton:!0,inputValidator:It=>It?void 0:"You need to select a pivot!"});if(!lt)return null;const pt=A.find(It=>It.id.toString()===lt),Rt=L.reduce((It,Qt)=>{const Zt=Le(Qt.x,Qt.y);return It[Qt.id]=`${Qt.label} (E: ${Zt.easting}, N: ${Zt.northing})`,It},{}),{value:Et}=await le.fire({title:"Select Target",input:"select",inputOptions:Rt,inputPlaceholder:"Select a target",showCancelButton:!0,inputValidator:It=>It?void 0:"You need to select a target!"});if(!Et)return null;const Xt=L.find(It=>It.id.toString()===Et);return{pivot:pt,target:Xt}},Wn=A=>{try{const L=new SpeechSynthesisUtterance(A);window.speechSynthesis.speak(L)}catch{}},Fi=async()=>{var Ii,ta;const A=await es();if(!A)return;const{pivot:L,target:q}=A,lt=L.easting5??Le(L.x,L.y).easting*100,pt=L.northing5??Le(L.x,L.y).northing*100,Rt=q.easting5??Le(q.x,q.y).easting*100,Et=q.northing5??Le(q.x,q.y).northing*100;if(Cn("SAFETY_CHECK",{pivot:L.label,pivotGrid:`${lt} ${pt}`,target:q.label,targetGrid:`${Rt} ${Et}`,safetyType:Bi||"DFFR",equipment:ma}),console.log("entered safety"),V.length>0){console.log("inside fdl check safety");const Fn={x:q.x/b*1e3,y:q.y/b*1e3};for(const Xe of V){const We={x:Xe.x/b*1e3,y:Xe.y/b*1e3},dn=Math.hypot(Fn.x-We.x,Fn.y-We.y);if(dn<=350){console.log("distance less than 350"),Cn("SAFETY_VIOLATION",{message:`Target within 350m of FDL "${Xe.label}"`,target:q.label,targetGrid:`${Rt} ${Et}`,fdl:Xe.label,distance:Math.round(dn)}),Wn("Stop by safety. Target is within 350 meters of FDL."),await le.fire({title:"STOP BY SAFETY",html:`Target is within <b>350 metres</b> of own FDL.<br>
               <b>FDL Safety Violation</b>`,icon:"warning",showDenyButton:!0,denyButtonText:"OK",confirmButtonColor:"#3085d6",denyButtonColor:"#d33",showConfirmButton:!1});return}}}console.log("outside fdl safety");let Xt=null,It="";const Qt=Array.isArray(Ke)&&Ke.length>=3,Zt=Array.isArray(nn)&&nn.length>=3,ee=Array.isArray(Pe)&&Pe.length>=3,xe=Qt?!fr(q,Ke):!1,Ee=Zt?!fr(q,nn):!1,ye=ee?!fr(q,Pe):!1;console.log("fucntions executed "+Ee+xe+ye);const hn=U.filter(Fn=>Fn.type==="op"),fn=1e3/1e3*b,Re=hn.some(Fn=>so(L,q,Fn,fn));console.log("op safety "+Re);let ue=null,Ie="";if(Bi==="MFFR"?ye?(ue="outsideCIA",Ie="Stop by safety, round will fall outside Common Impact Area."):Re&&(ue="opCircle",Ie="Stop by safety, trajectory will pass over OP safe circle."):xe?(ue="outsideOuter",Ie="Stop by safety, round will fall out of outer boundary."):Ee?(ue="outsideInner",Ie="Stop by safety, round will fall out of inner boundary."):ye?(ue="outsideSafe",Ie="Stop by safety, round will fall out of safe target area."):Re&&(ue="opCircle",Ie="Stop by safety, trajectory will pass over OP safe circle."),ue){if(Cn("SAFETY_VIOLATION",{message:Ie,violationType:ue,target:q.label,targetGrid:`${Rt} ${Et}`,safetyMode:Bi||"DFFR"}),ue==="outsideOuter"||ue==="outsideInner"||ue==="outsideSafe"||ue==="outsideCIA"){const Xe=typeof q.oscar=="number"?q.oscar:Wl(L,q),{value:We,isConfirmed:dn}=await le.fire({title:"Observer Bearing (OSCAR)",html:"<b>Unsafe round detected.</b><br/>Enter bearing from your location to the target (degrees).",input:"number",inputValue:Number.isFinite(Xe)?Xe.toFixed(1):"",inputAttributes:{min:"0",max:"360",step:"0.1"},showCancelButton:!0,confirmButtonText:"Use Bearing"}),ea=dn&&We!==void 0&&We!==null&&We!==""?parseFloat(We):Wl(L,q);Xt=mc(L,q,ea)||{add:0,drop:0,right:0,left:0,oscar:ea||0,correctedPoint:{x:q.x,y:q.y}},It=`<br><br><b>Recommended Safe correction</b><br>Add ${Xt.add}  Drop ${Xt.drop}  |  Right ${Xt.right}  Left ${Xt.left}`,Tl({from:{x:q.x,y:q.y},to:{x:((Ii=Xt==null?void 0:Xt.correctedPoint)==null?void 0:Ii.x)??q.x,y:((ta=Xt==null?void 0:Xt.correctedPoint)==null?void 0:ta.y)??q.y},add:Xt.add||0,drop:Xt.drop||0,right:Xt.right||0,left:Xt.left||0})}else Tl(null);try{Wn&&Wn(Ie+(ue==="opCircle"?"":" See recommended safe correction."))}catch{}if(ue==="opCircle"){if((await le.fire({title:"Safety Warning",html:Ie,icon:"warning",showCancelButton:!0,showDenyButton:!0,showConfirmButton:!1,denyButtonText:"Take Responsibility"})).isDenied){const{value:We}=await le.fire({title:"Take Responsibility",input:"text",inputPlaceholder:"Enter name of the person taking responsibility",inputValidator:dn=>dn!=null&&dn.trim()?void 0:"Name is required",showCancelButton:!0,confirmButtonText:"Save"});if(We){try{typeof Cn=="function"&&Cn("responsibilityAccepted",{name:We,pivotId:L.id,targetId:q.id,violation:ue})}catch{}try{Wn&&Wn(`Responsibility recorded for ${We}.`)}catch{}}}return}const Fn=await le.fire({title:"Safety Warning",html:Ie+It,icon:ue==="outsideOuter"||ue==="outsideInner"?"warning":"info",showCancelButton:!0,showDenyButton:!0,confirmButtonText:"Apply Correction",denyButtonText:"Take Responsibility"});if(Fn.isConfirmed){const Xe=Xt&&Xt.oscar!=null?Xt:{...Xt,oscar:Wl(L,q)},We=Yo(q,Xe.oscar,Xe.add,Xe.drop,Xe.right,Xe.left),dn=Math.max(0,Math.min(S*b,We.x)),ea=Math.max(0,Math.min(S*b,We.y));J(sl=>sl.map(ki=>ki.id===q.id?{...ki,oscar:Xe.oscar}:ki)),J(sl=>{const ki=sl.map(Pl=>Pl.parentId===q.id?{...Pl,lastFoS:!1}:Pl),Ma=Date.now(),na={x:dn,y:ea,originalX:dn/b,originalY:ea/b,type:"target",id:Ma,label:q.label?`${q.label} FOS`:"FOS",size:Ve,gridSize:b,isFoS:!0,lastFoS:!0,parentId:q.id,oscar:Xe.oscar};return[...ki,na]});try{Wn&&Wn(`Applying correction. Add ${Xe.add||0}, Drop ${Xe.drop||0}, Right ${Xe.right||0}, Left ${Xe.left||0}.`)}catch{}try{typeof Cn=="function"&&Cn("applyCorrection",{pivotId:L.id,targetId:q.id,suggestion:Xe,violation:ue})}catch{}return}else if(Fn.isDenied){const{value:Xe}=await le.fire({title:"Take Responsibility",input:"text",inputPlaceholder:"Enter name of the person taking responsibility",inputValidator:We=>We!=null&&We.trim()?void 0:"Name is required",showCancelButton:!0,confirmButtonText:"Save"});if(Xe){try{typeof Cn=="function"&&Cn("responsibilityAccepted",{name:Xe,pivotId:L.id,targetId:q.id,violation:ue})}catch{}try{Wn&&Wn(`Responsibility recorded for ${Xe}.`)}catch{}}return}return}Cn("SAFETY_PASSED",{target:q.label,targetGrid:`${Rt} ${Et}`,pivot:L.label,pivotGrid:`${lt} ${pt}`,safetyMode:Bi||"DFFR",withinSafeArea:ee}),Tl(null),le.fire("Safety Check",ee?"No safety violations detected. Target is within safe target area.":"No safety violations detected.","success");try{Wn&&Wn(ee?"No safety violations detected. Target is within safe target area.":"No safety violations detected.")}catch{}},Va=A=>{if(!Nt||!Nt.guns||Nt.guns.length===0)return null;const L=U.find(pt=>String(pt.id)===String(A));if(!L)return console.log("Target not found for ID:",A),null;const q=L.easting5??Le(L.x,L.y).easting*100,lt=L.northing5??Le(L.x,L.y).northing*100;return Nt.guns.map(pt=>{const Rt=pt.easting5,Et=pt.northing5;if(Rt==null||Et==null||q==null||lt==null)return{gunNumber:pt.gunNumber,easting5:pt.easting5,northing5:pt.northing5,range:0,bearingDeg:0,bearingDMS:"N/A",bearingMilsNATO:0,bearingMilsRussian:0,error:"Missing position data"};let Xt=q-Rt,It=lt-Et;const Qt=1e5;Xt>Qt/2&&(Xt-=Qt),Xt<-Qt/2&&(Xt+=Qt),It>Qt/2&&(It-=Qt),It<-Qt/2&&(It+=Qt);const Zt=Math.round(Math.hypot(Xt,It));let ee=Math.atan2(Xt,It)*180/Math.PI;ee=(ee+360)%360;const xe=Math.round(ee*(6400/360)),Ee=Math.round(ee*(6e3/360));return{gunNumber:pt.gunNumber,easting5:pt.easting5,northing5:pt.northing5,range:Zt,bearingDeg:ee,bearingDMS:il(ee),bearingMilsNATO:xe,bearingMilsRussian:Ee}})},Vi=()=>{if(!Nt||!Nt.guns||Nt.guns.length===0){le.fire("No Gun Layout","Please add gun layout data first.","info");return}Ht(!0)},Mu=()=>{if(!Nt)return null;const A=U.filter(Et=>Et.type==="target"||Et.isFoS||Et.type!=="pivot"&&Et.type!=="op"),L=A.filter(Et=>!Et.isFoS),q=A.filter(Et=>Et.isFoS),lt=Ft?Va(Ft):null,pt=Ft?U.find(Et=>String(Et.id)===String(Ft)):null,Rt=pt?Le(pt.x,pt.y):null;return R.jsxs("div",{className:"gun-data-modal",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",zIndex:1e4,maxWidth:"700px",width:"95%",maxHeight:"85vh",overflow:"auto"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[R.jsxs("h4",{style:{margin:0},children:["Gun Fire Data - ",Nt.pivotLabel]}),R.jsx("button",{onClick:()=>Ht(!1),style:{border:"none",background:"none",fontSize:"24px",cursor:"pointer"},children:""})]}),R.jsxs("div",{style:{marginBottom:"16px",padding:"10px",background:"#e8f4e8",borderRadius:"6px"},children:[R.jsx("strong",{children:"Battery:"})," ",Nt.pivotLabel," (",Nt.guns.length," guns)"]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"6px"},children:"Select Target / Fall of Shot:"}),R.jsxs("select",{className:"form-select",value:Ft||"",onChange:Et=>ut(Et.target.value||null),style:{width:"100%"},children:[R.jsx("option",{value:"",children:" Select a point "}),L.length>0&&R.jsx("optgroup",{label:" Targets",children:L.map(Et=>{const Xt=Le(Et.x,Et.y);return R.jsxs("option",{value:Et.id,children:[Et.label||"Target"," (",Xt.easting," ",Xt.northing,")"]},Et.id)})}),q.length>0&&R.jsx("optgroup",{label:" Fall of Shot",children:q.map(Et=>{const Xt=Le(Et.x,Et.y);return R.jsxs("option",{value:Et.id,children:[Et.label||"FOS"," (",Xt.easting," ",Xt.northing,")"]},Et.id)})})]})]}),pt&&Rt&&R.jsxs("div",{style:{marginBottom:"12px",padding:"10px",background:pt.isFoS?"#f8d7da":"#fff3cd",borderRadius:"6px"},children:[R.jsx("strong",{children:pt.isFoS?"Fall of Shot:":"Target:"})," ",pt.label||"Target"," (",Rt.easting," ",Rt.northing,")",pt.isFoS&&R.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#666"},children:"(Correction point)"})]}),lt&&lt.length>0?R.jsx("div",{style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{background:"#333",color:"white"},children:[R.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Gun"}),R.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Grid Ref"}),R.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Range (m)"}),R.jsx("th",{style:{padding:"8px",textAlign:"center"},children:"Bearing (DMS)"}),R.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"NATO"}),R.jsx("th",{style:{padding:"8px",textAlign:"right"},children:"Russian"})]})}),R.jsx("tbody",{children:lt.map((Et,Xt)=>R.jsxs("tr",{style:{background:Xt%2===0?"#f9f9f9":"white"},children:[R.jsxs("td",{style:{padding:"8px",fontWeight:"bold"},children:["Gun ",Et.gunNumber]}),R.jsxs("td",{style:{padding:"8px",fontFamily:"monospace",fontSize:"12px"},children:[Et.easting5," ",Et.northing5]}),R.jsx("td",{style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:Et.range.toLocaleString()}),R.jsx("td",{style:{padding:"8px",textAlign:"center",fontFamily:"monospace"},children:Et.bearingDMS}),R.jsx("td",{style:{padding:"8px",textAlign:"right"},children:Et.bearingMilsNATO}),R.jsx("td",{style:{padding:"8px",textAlign:"right"},children:Et.bearingMilsRussian})]},Et.gunNumber))})]})}):R.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666",background:"#f5f5f5",borderRadius:"6px"},children:A.length===0?"No targets or fall of shots plotted. Please add targets to the board first.":"Select a target or fall of shot above to see fire data for all guns."}),R.jsxs("div",{style:{marginTop:"16px",display:"flex",justifyContent:"space-between"},children:[R.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>{Ht(!1),qi(U.find(Et=>Et.id===Nt.pivotId))},children:"Edit Gun Layout"}),R.jsx("button",{className:"btn btn-secondary",onClick:()=>Ht(!1),children:"Close"})]})]})},Du=async()=>{const A=Ji.trim(),L=er.trim();if(!A||!L){le.fire("Invalid Input","Please enter Easting and Northing values.","error");return}const q=A.length,lt=L.length;if(q<3||q>5||lt<3||lt>5){le.fire("Invalid Input","Enter 3 to 5 figures for Easting and Northing (e.g., 237 or 23745).","error");return}const pt=parseInt(A,10),Rt=parseInt(L,10);if(isNaN(pt)||isNaN(Rt)){le.fire("Invalid Input","Please enter valid numeric values.","error");return}let Et,Xt;q===3?Et=pt*100:q===4?Et=pt*10:Et=pt,lt===3?Xt=Rt*100:lt===4?Xt=Rt*10:Xt=Rt;const It=Math.floor(Et/100),Qt=Math.floor(Xt/100),{x:Zt,y:ee}=Tu(It,Qt),xe=S*b;if(Zt<0||Zt>xe||ee<0||ee>xe){le.fire("Outside Grid","The entered GR is outside the current grid. Please increase the grid range.","warning");return}const Ee={x:Math.round(Zt/z)*z,y:Math.round(ee/z)*z},{value:ye}=await le.fire({title:"Select Element to be placed on Arty Board",input:"select",inputOptions:{pivot:"Pivot",target:"Target",op:"OP",fdl:"FDL"},inputPlaceholder:"Select an element",showCancelButton:!0,inputValidator:ue=>ue?void 0:"You need to select an element!"});if(!ye)return;const{value:hn}=await le.fire({title:`Enter ${ye.toUpperCase()} Name`,input:"text",inputPlaceholder:`Name for ${ye}`,showCancelButton:!0,inputValidator:ue=>ue!=null&&ue.trim()?void 0:"Name cannot be empty!"});if(!hn)return;const fn=ye==="pivot"?ji:ye==="target"?Ve:ye==="op"?On:20,Re={id:Date.now(),x:Ee.x,y:Ee.y,originalX:Zt/b,originalY:ee/b,easting5:Et,northing5:Xt,label:hn,type:ye,size:fn,gridSize:b};Cn("ELEMENT_PLACED",{type:ye,name:hn,grid6:`${It} ${Qt}`,grid10:`${Et} ${Xt}`}),(ye==="pivot"||ye==="target"||ye==="op")&&(J(ue=>[...ue,Re]),ye==="op"&&H(ue=>[...ue,Re])),ye==="fdl"&&$(ue=>[...ue,Re]),Vr(""),nr(""),Ai(Ee),mi(Le(Ee.x,Ee.y))},ns=()=>{en(!1),cn([]),tn([]),yn([]),Ce([]),qn(!1),Cs(!1)},ro=()=>{we(A=>!A),Ki(!1),Hi(!1)},Pu=()=>{Ki(A=>!A),we(!1),Hi(!1)},qo=()=>{Hi(A=>!A),we(!1),Ki(!1)},is=({label:A,value:L,onToggle:q,activeColor:lt="#0d6efd"})=>R.jsxs("div",{className:"form-switch",onPointerDown:pt=>{pt.button!==void 0&&pt.button!==0||q()},style:{display:"inline-flex",alignItems:"center",gap:"8px",cursor:"pointer",userSelect:"none",padding:"4px 8px",borderRadius:"6px",background:"rgba(255,255,255,0.15)",touchAction:"manipulation"},children:[R.jsx("span",{style:{fontSize:"13px",color:"white"},children:A}),R.jsx("div",{style:{width:"42px",height:"22px",borderRadius:"20px",background:L?lt:"#6c757d",position:"relative",transition:"background .25s",pointerEvents:"none"},children:R.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:L?"22px":"2px",transition:"left .25s",boxShadow:"0 0 4px rgba(0,0,0,0.3)"}})})]});return R.jsxs("div",{className:"d-flex vh-100 overflow-hidden flex-column",style:{touchAction:"manipulation"},children:[R.jsx("div",{className:"bg-dark text-white text-center p-2 mb-2",children:R.jsxs("h5",{className:"m-0",children:["Cursor Position: ",Ti?zo(Ti.easting,Ti.northing):"Hover over the grid"]})}),R.jsxs("div",{className:"d-flex flex-grow-1",children:[R.jsx("div",{className:"sidebar-wrap border-end "+(a?"collapsed":""),children:R.jsxs("aside",{className:"sidebar-modern ps-3",children:[R.jsx("button",{className:"collapse-handle",type:"button",onClick:()=>g(A=>!A),"aria-label":a?"Expand sidebar":"Collapse sidebar",title:a?"Expand":"Collapse",children:R.jsx("span",{className:"chevron",children:a?"":""})}),R.jsx("style",{children:`
                .tile-body.tile-selected {
                  outline: 2px solid #0d6efd;
                  box-shadow: 0 0 0 4px rgba(13,110,253,0.20);
                  border-radius: 12px;
                }

              /* Grid size slider */

              /* Touch-friendly grid size slider */
              .grid-size-range{ height: 2rem; }
              .grid-size-range::-webkit-slider-thumb{ width: 18px; height: 18px; }
              .grid-size-range::-moz-range-thumb{ width: 18px; height: 18px; }
    
/* Collapsible left sidebar - Overlay (no layout shift) */
              .sidebar-scroll{
                position: relative;
                height: calc(100% - 64px); /* header area allowance */
                overflow-y: auto;
                padding-right: 6px;
              }
              .sidebar-scroll::-webkit-scrollbar{ width: 10px; }
              .sidebar-scroll::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.25); border-radius: 8px; }
    
              .sidebar-wrap{
                --sidebar-w: 340px;
                position: fixed;
                top: 56px; /* below header */
                left: 0;
                width: var(--sidebar-w);
                height: calc(100vh - 68px);
                z-index: 40;
                background: rgba(255,255,255,0.18);
                backdrop-filter: blur(12px) saturate(140%);
                -webkit-backdrop-filter: blur(12px) saturate(140%);
                border: 1px solid rgba(255,255,255,0.3);
                border-radius: 16px;
                box-shadow: 0 12px 30px rgba(0,0,0,0.18);
                transition: transform .25s ease, opacity .25s ease;
                transform: translateX(0);
                opacity: 1;
              }
              .sidebar-wrap.collapsed{ transform: translateX(-105%); opacity: 0.96; pointer-events: none; }
              .sidebar-modern{
                height: 100%;
                position: relative;
                padding: 10px 12px 10px 12px;
              }
              .sidebar-wrap .collapse-handle{
                position: absolute;
                top: 10px;
                right: -12px;
                width: 24px;
                height: 48px;
                border-radius: 0 8px 8px 0;
                border: 1px solid #d8dee9;
                background: linear-gradient(180deg, #f7f9fc, #eef3fb);
                box-shadow: 0 4px 10px rgba(0,0,0,0.08);
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                z-index: 50;
              }
              .sidebar-wrap .collapse-handle:hover{
                filter: brightness(0.98);
              }
              .sidebar-wrap .collapse-handle .chevron{
                font-size: 14px;
                line-height: 1;
                font-weight: 700;
                color: #334155;
              }
              .sidebar-wrap.collapsed .sidebar-modern .sidebar-header,
              .sidebar-wrap.collapsed .sidebar-modern .section,
              .sidebar-wrap.collapsed .sidebar-modern .icon-tile,
              .sidebar-wrap.collapsed .sidebar-modern .kv-row,
              .sidebar-wrap.collapsed .sidebar-modern .btn,
              .sidebar-wrap.collapsed .sidebar-modern img,
              .sidebar-wrap.collapsed .sidebar-modern input,
              .sidebar-wrap.collapsed .sidebar-modern select,
              .sidebar-wrap.collapsed .sidebar-modern label,
              .sidebar-wrap.collapsed .sidebar-modern .list-group{
                display: none !important;
              }
              .sidebar-wrap.collapsed .sidebar-modern{
                padding-left: 6px;
                padding-right: 6px;
              }
    
              `}),R.jsxs("div",{className:"sidebar-header",children:[R.jsx("div",{className:"brand",children:"Settings"}),R.jsx("div",{className:"muted small",children:"Quick controls & tools"})]}),R.jsxs("div",{className:"sidebar-scroll",children:[R.jsxs("details",{open:!0,className:"section card-glass",children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Grid & Bounds"})})}),R.jsxs("div",{className:"section-body",children:[R.jsx(Bb,{gridSize:b,setGridSize:jr,disabled:Qn,onLockedClick:$s}),R.jsx("div",{className:"mt-2",children:R.jsx(Lb,{numSquares:S,setNumSquares:Ua,maxPossibleRange:N,gridSize:b,disabled:Qn,onLockedClick:$s})}),R.jsxs("div",{className:"mt-3",children:[R.jsx("div",{className:"section-subtitle",children:"Eastings & Northings"}),Object.keys(X).map(A=>R.jsxs("div",{className:"kv-row",children:[R.jsxs("label",{className:"kv-label",children:[A.toUpperCase(),":"]}),R.jsx("input",{type:"number",className:"form-control form-control-sm kv-input",value:X[A],onChange:L=>P({...X,[A]:Number(L.target.value)})})]},A))]}),R.jsxs("div",{className:"form-check form-switch mt-2",hidden:!0,children:[R.jsx("input",{className:"form-check-input",type:"checkbox",id:"snapSwitch",checked:kl,onChange:()=>ya(A=>!A)}),R.jsx("label",{className:"form-check-label",htmlFor:"snapSwitch",children:"Snap to subgrid"})]})]})]}),R.jsxs("details",{className:"section card-glass",open:!0,children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Pivots | Targets | OPs"})})}),R.jsxs("div",{className:"section-body",children:[R.jsx("div",{className:"section-subtitle",children:"Enter GR Manually"}),R.jsx("div",{className:"text-muted small mb-2",children:"3-5 figures each (e.g., 237 or 23745)"}),R.jsxs("div",{className:"kv-row",children:[R.jsx("label",{className:"kv-label",children:"E:"}),R.jsx("input",{type:"text",className:"form-control form-control-sm kv-input",value:Ji,onChange:A=>Vr(A.target.value),placeholder:"e.g. 237 or 23745",maxLength:"5"})]}),R.jsxs("div",{className:"kv-row",children:[R.jsx("label",{className:"kv-label",children:"N:"}),R.jsx("input",{type:"text",className:"form-control form-control-sm kv-input",value:er,onChange:A=>nr(A.target.value),placeholder:"e.g. 570 or 57032",maxLength:"5"})]}),R.jsx("div",{className:"d-grid mt-2",children:R.jsx("button",{className:"btn btn-primary btn-sm",onClick:Du,children:"Place"})}),R.jsx("div",{className:"divider my-3"}),R.jsx("h6",{children:" Click & Drop "}),R.jsxs("div",{className:"icon-tile",children:[R.jsxs("div",{className:"tile-head",children:[R.jsx("span",{children:"Pivot"}),R.jsxs("div",{className:"tile-ctrl",children:[R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>Oa(A=>Math.max(20,A-10)),children:""}),R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>Oa(A=>Math.min(100,A+10)),children:"+"})]})]}),R.jsx("div",{className:`tile-body ${Nn?"tile-selected":""}`,onClick:ro,children:R.jsx("img",{src:y2,alt:"Pivot",width:ji,height:ji})})]}),R.jsxs("div",{className:"icon-tile mt-2",children:[R.jsxs("div",{className:"tile-head",children:[R.jsx("span",{children:"Target"}),R.jsxs("div",{className:"tile-ctrl",children:[R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>vn(A=>Math.max(20,A-10)),children:""}),R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>vn(A=>Math.min(100,A+10)),children:"+"})]})]}),R.jsx("div",{className:`tile-body ${Qi?"tile-selected":""}`,onClick:Pu,children:R.jsx("img",{src:v2,alt:"Target",width:Ve,height:Ve})})]}),R.jsxs("div",{className:"icon-tile mt-2",children:[R.jsxs("div",{className:"tile-head",children:[R.jsx("span",{children:"OP"}),R.jsxs("div",{className:"tile-ctrl",children:[R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>Pn(A=>Math.max(20,A-10)),children:""}),R.jsx("button",{className:"btn btn-outline-secondary btn-xxs",onClick:()=>Pn(A=>Math.min(100,A+10)),children:"+"})]})]}),R.jsx("div",{className:`tile-body ${Il?"tile-selected":""}`,onClick:qo,children:R.jsx("img",{src:b2,alt:"OP",width:On,height:On})})]}),R.jsxs("div",{className:"icon-tile mt-2 d-flex flex-column align-items-center",children:[R.jsx("div",{className:`icon-box d-flex align-items-center justify-content-center 
                ${ja?"tile-selected":""}`,onClick:()=>{if(ja){Na(!1);return}we(!1),Ki(!1),Hi(!1),Na(!0),ws("addFDL")},style:{width:55,height:55,border:"2px dashed #999",borderRadius:6,cursor:"pointer",background:ja?"rgba(0,123,255,0.08)":"transparent",transition:"0.2s"},children:R.jsx("div",{style:{width:18,height:18,borderRadius:"50%",backgroundColor:"navy",animation:"blinkFDL 1.2s infinite",boxShadow:ja?"0 0 12px rgba(0,0,128,0.9)":"0 0 8px rgba(0,0,128,0.6)"}})}),R.jsx("div",{style:{marginTop:4,fontSize:13,fontWeight:500},children:"FDL"})]}),R.jsxs("div",{className:"icon-tile mt-2",children:[R.jsx("div",{className:"tile-head",children:R.jsx("span",{children:"FLOT"})}),R.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>{if(V.length<2){le.fire({icon:"warning",title:"Cannot Plot FLOT",html:"At least <b>two FDLs</b> are required to generate the FLOT."}),Wn("At least two FDLs are required to generate the Forward Line of Own Troops.");return}nt(A=>!A),Wn(ft?"FLOT hidden":"FLOT generated")},children:ft?"Hide FLOT":"Generate FLOT"})]})]})]}),R.jsxs("details",{className:"section card-glass",children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Tools"})})}),R.jsx("div",{className:"section-body d-grid gap-2",children:R.jsxs("div",{className:"icon-tile mt-2",children:[R.jsx("div",{className:"tile-head",children:R.jsx("span",{children:"Measure Tool"})}),R.jsxs("div",{className:"tile-body",style:{padding:"12px"},children:[R.jsx("button",{className:`btn ${bt?"btn-success":"btn-outline-primary"} btn-sm w-100`,onClick:()=>{qt(A=>{const L=!A;return L&&(_e(!0),setTimeout(()=>_e(!1),3e3)),L}),$t(null)},children:bt?" Measure Mode ON":"Enable Measure"}),R.jsx("div",{className:"text-muted small mt-2",children:bt?"Tap two points on the board to measure distance and bearing.":"Click to enable measure mode."})]})]})})]}),R.jsxs("details",{className:"section card-glass",children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Safety"})})}),R.jsxs("div",{className:"section-body",children:[R.jsxs("div",{className:"d-flex justify-content-center gap-2 mb-2",children:[R.jsx("button",{className:"btn btn-danger btn-sm",onClick:Fi,children:"Check Safety"}),R.jsxs("div",{className:"mb-2",children:[R.jsx("label",{className:"form-label fw-bold",children:"Select Firing Range"}),R.jsxs("select",{className:"form-select",value:it||"",onChange:A=>{const L=A.target.value;console.log("Range selected:",L),dt(L);const q={dffr:"Devlali Field Firing Ranges",mffr:"MFFR",mffrdsm:"MFFR DSM",pffr:"PFFR",pffrdsm:"PFFR DSM"};L==="dffr"?(ns(),eo(),Cn("SAFETY_RANGE_LOADED",{rangeName:q[L],type:"DFFR",equipment:ma}),Wn("Devlali field firing ranges loaded.")):L==="mffr"?(ns(),$l(),Cn("SAFETY_RANGE_LOADED",{rangeName:q[L],type:"MFFR"}),Wn("Common Impact Area for Mahajan Field Firing Ranges Loaded")):L==="mffrdsm"?(ns(),Oi(),Cn("SAFETY_RANGE_LOADED",{rangeName:q[L],type:"MFFR_DSM"}),Wn("Common Impact Area for Mahajan Field Firing Ranges DSM Loaded")):L==="pffr"?(ns(),no(),Cn("SAFETY_RANGE_LOADED",{rangeName:q[L],type:"PFFR"}),Wn("Common Impact Area for Pokharan Field Firing Ranges Loaded")):L==="pffrdsm"&&(ns(),Au(),Cn("SAFETY_RANGE_LOADED",{rangeName:q[L],type:"PFFR_DSM"}),Wn("Common Impact Area for Pokharan Field Firing Ranges DSM Loaded"))},children:[R.jsx("option",{value:"",disabled:!0,children:"-- Select Firing Range --"}),R.jsx("option",{value:"dffr",children:"Devlali Field Firing Ranges"}),R.jsx("option",{value:"mffr",children:"MFFR"}),R.jsx("option",{value:"mffrdsm",children:"MFFR DSM"}),R.jsx("option",{value:"pffr",children:"PFFR"}),R.jsx("option",{value:"pffrdsm",children:"PFFR DSM"})]})]}),R.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{ns(),dt("")},children:"Reset Safety"})]}),it==="dffr"&&R.jsxs("div",{className:"segmented mb-2",children:[R.jsxs("div",{className:"kv-row mt-2",children:[R.jsx("label",{className:"kv-label",children:"Equipment"}),R.jsx("select",{className:"form-select form-select-sm",value:ma,onChange:A=>wl(A.target.value),children:zb.map(A=>R.jsx("option",{value:A,children:A},A))})]}),R.jsxs("div",{className:"small text-muted",children:["Auto safety distance (Rg Rd F=7/4): ",Uh[ma]," m"]})]})]})]}),R.jsxs("details",{className:"section card-glass",children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Elements"})})}),R.jsxs("div",{className:"section-body",children:[R.jsx("div",{className:"text-muted small mb-2",children:"Showing 10-figure GR (calculation precision)"}),R.jsxs("ul",{className:"list-group",children:[U==null?void 0:U.map(A=>{const L=Le(A.x,A.y),q=A.easting5??L.easting*100,lt=A.northing5??L.northing*100,pt=A.type==="pivot"?"":A.type==="op"?"":A.isFoS?"":"";return R.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center py-1",children:[R.jsxs("span",{style:{fontSize:"12px"},children:[pt," ",R.jsx("strong",{children:A.label}),R.jsx("br",{}),R.jsxs("span",{style:{fontFamily:"monospace",color:"#666"},children:["E:",String(q).padStart(5,"0")," N:",String(lt).padStart(5,"0")]})]}),R.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>af(A.id),children:"Remove"})]},A.id)}),V==null?void 0:V.map(A=>{const L=Le(A.x,A.y),q=A.easting5??L.easting*100,lt=A.northing5??L.northing*100;return R.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center py-1",children:[R.jsxs("span",{style:{fontSize:"12px"},children:[" ",R.jsx("strong",{children:A.label}),R.jsx("br",{}),R.jsxs("span",{style:{fontFamily:"monospace",color:"#666"},children:["E:",String(q).padStart(5,"0")," N:",String(lt).padStart(5,"0")]})]}),R.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>$(pt=>pt.filter(Rt=>Rt.id!==A.id)),children:"Remove"})]},A.id)})]})]})]}),R.jsxs("details",{className:"section card-glass",open:!0,children:[R.jsx("summary",{children:R.jsx("button",{type:"button",className:"acc-btn",onClick:A=>{A.preventDefault();const L=A.currentTarget.closest("details");L.open=!L.open},children:R.jsx("span",{children:"Instruction by RLSO"})})}),R.jsxs("div",{className:"section-body",children:[R.jsx("div",{className:"mb-2",children:R.jsx("textarea",{className:"form-control",rows:5,style:{maxWidth:320,width:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word"},value:zt,onChange:A=>te(A.target.value),disabled:Oe})}),R.jsxs("div",{className:"form-check form-switch mb-2",children:[R.jsx("input",{className:"form-check-input",type:"checkbox",id:"rlsoOverlaySwitch",checked:ne,onChange:()=>Se(A=>!A)}),R.jsx("label",{className:"form-check-label",htmlFor:"rlsoOverlaySwitch",children:"Show over grid as transparent overlay"})]}),R.jsx("div",{className:"d-grid gap-2",style:{gridTemplateColumns:"1fr 1fr"},children:R.jsx("button",{className:"btn btn-sm btn-primary",onClick:fc,children:"Save"})})]})]})]})]})}),R.jsxs("div",{className:"flex-grow-1 overflow-auto p-0",ref:u,children:[R.jsxs("div",{className:"enh-toolbar d-flex align-items-center gap-2 bg-dark text-light p-2 rounded-3 mb-2",style:{position:"sticky",top:0,zIndex:5},children:[R.jsx("button",{className:"btn btn-sm btn-light",onClick:io,children:"Export/Save"}),R.jsx("button",{className:"btn btn-sm btn-light",onClick:()=>{var A;return(A=Kn.current)==null?void 0:A.click()},children:"Import"}),R.jsx("input",{type:"file",ref:Kn,accept:"application/json",style:{display:"none"},onChange:A=>A.target.files&&A.target.files[0]&&Nu(A.target.files[0])}),R.jsx("button",{className:"btn btn-sm btn-light",onClick:Uo,children:"Export PNG"}),R.jsx("button",{className:"btn btn-sm btn-outline-light",onClick:()=>Nl(!0),children:"Logs"}),R.jsxs("button",{className:"btn btn-sm btn-outline-light",title:"About",onClick:()=>{le.fire({title:"About  Digital Artillery Board",html:`
        <div style='text-align:left;line-height:1.6;font-size:14px'>
          <p style="margin-bottom:14px;">A completely offline, web-based, touch-enabled application designed to perform all essential Artillery Board tasks with instant setup and no range restrictions. It provides pinpoint accuracy through integrated bearing and distance tools, supports multiple pivots on the same board for composite gun areas and dispersed deployment, enables target grid corrections during observed fire from OP, and allows one-click plotting of safety with auto-generation of safety alerts and safe corrections. All actions and calculations are digitally logged, ensuring accuracy, traceability, and efficient conduct of artillery operations.</p>
          <p><strong>Developed by:</strong> Maj Rajat Gupta</p>
          <p><b>Contact:</b> +91 9620846900<br/>
             <b>Email:</b> rajatgupta431@gmail.com<br/>
             <b>Last Updated:</b> 29 Jan 2026</p>
  
        </div>`,icon:"info",confirmButtonText:"Close"})},children:[R.jsx("i",{className:"bi bi-info-circle"})," About"]}),R.jsxs("button",{className:"btn btn-sm btn-outline-warning",title:"Take a Tour",onClick:()=>{o(0),qa(!0)},children:[R.jsx("i",{className:"bi bi-signpost-2"})," Tour"]}),R.jsxs("button",{className:"btn btn-sm btn-outline-light",title:"Help",onClick:()=>{le.fire({title:"Digital Artillery Board - Help",icon:"info",width:700,showCloseButton:!0,confirmButtonText:"Close",html:`
        <div style="text-align:center;margin-bottom:16px">
          <button
            id="download-app-btn"
            style="
              background:#0d6efd;
              color:#ffffff;
              border:none;
              border-radius:8px;
              padding:12px 20px;
              font-size:14px;
              font-weight:600;
              cursor:pointer;
              box-shadow:0 4px 12px rgba(0,0,0,0.2);
            "
          >
            DOWNLOAD OFFLINE ANDROID & WINDOWS APPS
          </button>
        </div>

        <div style='text-align:left;line-height:1.7;font-size:13px;max-height:400px;overflow-y:auto;padding-right:10px;'>

          <p style="margin-bottom:14px;">
            A completely offline, web-based, touch-enabled application designed to perform all essential Artillery Board tasks with instant setup and no range restrictions. It provides pinpoint accuracy through integrated bearing and distance tools, supports multiple pivots on the same board for composite gun areas and dispersed deployment, enables target grid corrections during observed fire from OP, and allows one-click plotting of safety with auto-generation of safety alerts and safe corrections. All actions and calculations are digitally logged, ensuring accuracy, traceability, and efficient conduct of artillery operations.
          </p>

          <p><b>Key Features:</b></p>
          <ul style="margin:0 0 12px 0;padding-left:20px;">
            <li><b>No Range Restriction:</b> Dynamic grid generation with selectable grid size.</li>
            <li><b>Plotting:</b> Guns, OPs, Targets & FDLs using manual GR entry or drag & drop.</li>
            <li><b>Polar Method:</b> Plot targets using Bearing & Range from Pivot or OP.</li>
            <li><b>Measure Mode:</b> Instant Bg & Rg between any two points. Supports Deg/Min/Sec, NATO mils (6400), and Russian mils (6000).</li>
            <li><b>Auto Grid:</b> Eastings & Northings auto-plot based on min/max values.</li>
          </ul>

          <p><b>Gun Layout & Fire Data:</b></p>
          <ul style="margin:0 0 12px 0;padding-left:20px;">
            <li>Configure individual gun positions with 5-figure grid references.</li>
            <li>Compute range and bearing from each gun to any target.</li>
            <li>Fire data displayed in DMS, NATO mils, and Russian mils.</li>
            <li>Gun layout persists across sessions automatically.</li>
          </ul>

          <p><b>Safety Module:</b></p>
          <ul style="margin:0 0 12px 0;padding-left:20px;">
            <li>Preloaded safety traces of major firing ranges (DFFR, MFFR, PFFR) based on respective SOPs.</li>
            <li>Safety alerts in audio-visual format with recommended corrections.</li>
            <li>Caters for both peace time and war time safety.</li>
            <li>Warning if target within 350m of any FDL.</li>
            <li>OP Safe Circle of 1000m radius applied automatically.</li>
          </ul>

          <p><b>Logging & Export:</b></p>
          <ul style="margin:0 0 12px 0;padding-left:20px;">
            <li>Auto logging of all actions with timestamps for review.</li>
            <li>Export logs in JSON, CSV, or Text format.</li>
            <li>Export/Import sessions (akin to layers in Surveykshak) for planning & sharing.</li>
          </ul>

          <p><b>Steps For Using:</b></p>
          <ol style="margin:0 0 12px 0;padding-left:20px;">
            <li>Set the Pivot (Gun)/OP by entering 6-figure GR.</li>
            <li>Select grid size & desired range as per equipment in use.</li>
            <li>Plot targets by entering GR manually, clicking on canvas, or by inputting Bg & Rg from Pivot/OP.</li>
            <li>Use Measure mode to tap any two points for instant Bg & distance.</li>
            <li>Check safety of plotted target via the Safety module.</li>
            <li>Use for training, explanation, rehearsal, or live planning of Artillery fire tasks.</li>
          </ol>

          <p><b>Recent Updates (29 Jan 2026):</b></p>
          <ul style="margin:0 0 12px 0;padding-left:20px;">
            <li>Direct Bearing & Range plotting from Pivot/OP.</li>
            <li>Single latest FOS display per engagement.</li>
            <li>Common impact areas for PFFR & MFFR (ESM & DSM).</li>
            <li>FDL plotting with automatic FLOT generation.</li>
            <li>Enhanced 5-figure coordinate precision for all calculations.</li>
          </ul>

          <p class='text-muted small' style="margin-top:16px;border-top:1px solid #dee2e6;padding-top:12px;">
            For issues or feedback, contact the development team.<br/>
            App URL: <b>https://bidfoil.in/dab/latest</b>
          </p>
        </div>
      `,didOpen:()=>{const A=document.getElementById("download-app-btn");A&&A.addEventListener("click",()=>{window.open("https://bidfoil.in/dab/latest","_blank")})}})},children:[R.jsx("i",{className:"bi bi-question-circle"})," Help"]}),R.jsx("button",{className:"btn btn-danger btn-sm",onClick:Fi,children:"Check Safety"}),R.jsxs("div",{style:{display:"inline-flex",gap:"6px",marginLeft:"8px"},children:[R.jsx(is,{label:"Measure",value:bt,activeColor:"#00d2ff",onToggle:()=>{qt(A=>{const L=!A;return L&&(_e(!0),setTimeout(()=>_e(!1),3e3)),L}),$t(null)}}),R.jsx(is,{label:"Labels",value:M,onToggle:()=>Z(A=>!A)})]}),R.jsx("div",{className:"ms-auto small",children:Ti?R.jsxs(R.Fragment,{children:["Cursor : ",zo(Ti.easting,Ti.northing)]}):""})]}),R.jsxs("div",{ref:u,style:{width:D,height:"auto",position:"absolute"},children:[bt&&ce&&R.jsxs("div",{style:{position:"fixed",top:"72px",left:"50%",transform:"translateX(-50%)",padding:"14px 22px",background:"linear-gradient(135deg, #00d2ff, #009ec3)",color:"#002b36",fontSize:"18px",fontWeight:"700",letterSpacing:"0.4px",borderRadius:"10px",zIndex:3e3,pointerEvents:"none",boxShadow:`
        0 6px 18px rgba(0, 210, 255, 0.6),
        0 0 18px rgba(0, 210, 255, 0.8)
      `,textAlign:"center",animation:"measurePulse 1.6s ease-in-out infinite"},children:["MEASURE MODE",R.jsxs("div",{style:{fontSize:"15px",fontWeight:"600",marginTop:"4px"},children:["Tap / Click ",R.jsx("strong",{children:"two points"})," to get Range & Bearing"]})]}),R.jsx("div",{ref:u,className:"canvas-scroll-wrapper",children:R.jsx("div",{className:"canvas-scroll-spacer",style:{minHeight:D},children:R.jsx("div",{className:"canvas-container",children:R.jsxs(G5,{ref:de,width:D,height:G,style:{margin:0,border:"1px solid #ccc",backgroundColor:"#f8f9fa",touchAction:"none",display:"block"},onMouseDown:A=>{A.evt.pointerType!=="touch"&&(Ou()||cr(A))},onMouseMove:Ho,onMouseUp:Xo,onTouchStart:jo,onTouchMove:lo,onTouchEnd:A=>{Ou()||Os()},onTouchCancel:Os,y:v,onWheel:A=>{A.evt.preventDefault(),x(L=>L-A.evt.deltaY)},children:[R.jsx(bs,{children:[...Array(S).keys()].map(A=>[...Array(S).keys()].map(L=>R.jsxs(di.Fragment,{children:[R.jsx(m2,{x:A*b,y:L*b,width:b,height:b,stroke:"lightgray"}),L===0&&R.jsx(Sl,{x:A*b-6,y:15,text:`${((X.eMin+A)%100+100)%100}`,fontSize:12,fill:"black"}),A===0&&R.jsx(Sl,{x:5,y:L*b+30+b-35,text:`${((X.nMax-L)%100+100)%100}`,fontSize:12,fill:"black"})]},`${A}-${L}`)))}),R.jsxs(bs,{children:[[...Array(S).keys()].map(A=>R.jsx(Sl,{x:A*b-6,y:S*b-6,text:`${((X.eMin+A)%100+100)%100}`,fontSize:12,fill:"black"},"bx"+A)),[...Array(S).keys()].map(A=>R.jsx(Sl,{x:S*b-26,y:A*b+b-5,text:`${((X.nMax-A)%100+100)%100}`,fontSize:12,fill:"black"},"ry"+A))]}),R.jsx(bs,{children:Ga.map((A,L)=>R.jsx(di.Fragment,{children:A.radii.map((q,lt)=>{const pt=q/1e3*b;return R.jsx(Ss,{x:A.x,y:A.y,radius:pt,stroke:"rgba(0,0,0,0.35)",dash:[6,6]},lt)})},L))}),(Ot==null?void 0:Ot.a)&&(Ot==null?void 0:Ot.b)&&(Ot==null?void 0:Ot.result)&&R.jsxs(bs,{listening:!1,children:[R.jsx(nc,{points:[Ot.a.x,Ot.a.y,Ot.b.x,Ot.b.y],stroke:"#00d2ff",dash:[8,6],strokeWidth:2}),R.jsx(Ss,{x:Ot.a.x,y:Ot.a.y,radius:5,fill:"#00d2ff"}),R.jsx(Ss,{x:Ot.b.x,y:Ot.b.y,radius:5,fill:"#00d2ff"}),R.jsx(Sl,{x:(Ot.a.x+Ot.b.x)/2,y:(Ot.a.y+Ot.b.y)/2-18,text:`Bg: ${Ot.result.bearingDMS}
NATO: ${Ot.result.bearingMilsNATO} mils | Russian: ${Ot.result.bearingMilsRussian} mils
Rg: ${Ot.result.rangeMeters} m`,fontSize:20,fill:"red",align:"center",fontStyle:"bold"})]}),R.jsxs(bs,{ref:wt,children:[M&&U.filter(A=>A.type==="target").map(A=>R.jsx(Sl,{x:A.x+10,y:A.y-10,text:A.label||"Target "+A.id%1e3,fontSize:14,fill:"black"},"lbl-"+A.id)),k&&R.jsx(Ss,{x:k.x,y:k.y,radius:8,fill:"rgba(0,0,255,0.4)",stroke:"blue",strokeWidth:2,listening:!1}),ft&&V.length>=2&&R.jsx(nc,{points:V.flatMap(A=>[A.x,A.y]),stroke:"green",strokeWidth:4,lineCap:"round",lineJoin:"round",tension:.6}),V.map(A=>R.jsx(Ss,{id:`fdl_${A.id}`,x:A.x,y:A.y,radius:12,fill:"navy",opacity:A._blinkOpacity??.8,shadowBlur:20,shadowOpacity:.8,shadowColor:"navy",draggable:!0,onDragMove:L=>{const{x:q,y:lt}=L.target.position();$(pt=>pt.map(Rt=>Rt.id===A.id?{...Rt,x:q,y:lt}:Rt))},onDragEnd:L=>{const{x:q,y:lt}=L.target.position();$(pt=>pt.map(Rt=>Rt.id===A.id?{...Rt,x:q,y:lt,originalX:q/b,originalY:lt/b}:Rt))}},A.id)),k&&R.jsx(Ss,{x:k.x,y:k.y,radius:4,fill:"blue",opacity:.8,listening:!1}),Un&&R.jsxs(di.Fragment,{children:[R.jsx(nc,{points:[Un.from.x,Un.from.y,Un.to.x,Un.to.y],stroke:"orange",strokeWidth:3,dash:[8,6]}),R.jsx(Ss,{x:Un.to.x,y:Un.to.y,radius:6,fill:"orange"}),R.jsx(Sl,{x:Un.to.x+8,y:Un.to.y-10,text:"RECOM FOS",fontSize:12,fill:"orange"}),R.jsx(Sl,{x:(Un.from.x+Un.to.x)/2+6,y:(Un.from.y+Un.to.y)/2-6,text:`Add${Un.add}/Drop${Un.drop} Rt${Un.right}/Lt${Un.left}`,fontSize:12,fill:"blue"})]}),U.map(A=>R.jsxs(di.Fragment,{children:[A.type==="pivot"&&p&&R.jsxs(R.Fragment,{children:[R.jsx(wp,{x:A.x-ji/2,y:A.y-ji/2,width:ji,height:ji,image:p,onClick:L=>{L.cancelBubble=!0,!bt&&ao(A)},onTap:L=>{L.cancelBubble=!0,!bt&&ao(A)},onPointerDown:L=>{L.cancelBubble=!0,!bt&&L.pointerType==="touch"&&ao(A)}}),M&&R.jsx(Sl,{x:A.x+10,y:A.y-10,text:A.label,fontSize:14,fill:"black"})]}),A.type==="target"&&Y&&R.jsxs(R.Fragment,{children:[A.lastFoS&&R.jsx(Ss,{x:A.x,y:A.y,radius:Ve*.1,stroke:"rgba(0,0,255,0.9)",strokeWidth:3}),A.lastFoS&&R.jsx(Sl,{x:A.x+Ve*.6+6,y:A.y-6,fontSize:12,fill:"rgba(0,0,160,1)"}),R.jsx(wp,{x:A.x-Ve/2,y:A.y-Ve/2,width:Ve,height:Ve,image:Y,onClick:L=>{if(bt){L.cancelBubble=!0;return}Go(A.id)},onTap:L=>{if(bt){L.cancelBubble=!0;return}Go(A.id)},onPointerDown:L=>{if(bt){L.cancelBubble=!0;return}L.pointerType==="touch"&&Go(A.id)}})]}),A.type==="op"&&st&&R.jsxs(R.Fragment,{children:[R.jsx(wp,{x:A.x-On/2,y:A.y-On/2,width:On,height:On,image:st,onClick:L=>{L.cancelBubble=!0,!bt&&ll(A,"OP")},onTap:L=>{L.cancelBubble=!0,!bt&&ll(A,"OP")},onPointerDown:L=>{L.cancelBubble=!0,!bt&&L.pointerType==="touch"&&ll(A,"OP")}}),M&&R.jsx(Sl,{x:A.x+10,y:A.y-10,text:A.label,fontSize:14,fill:"black"})]})]},A.id))]}),R.jsx(bs,{children:R.jsx(Sl,{x:ga.x+10,y:ga.y-10,text:zo((Ti==null?void 0:Ti.easting)??0,(Ti==null?void 0:Ti.northing)??0),fontSize:14,fill:"black"})}),R.jsxs(bs,{listening:!ni,children:[Ke.length>1&&R.jsx(nc,{points:Ke.flatMap(A=>[A.x,A.y]),closed:!0,stroke:"red",strokeWidth:2}),Yn.map((A,L)=>{if(!ts.has(L))return null;const{x:q,y:lt}=ur(A.eu,A.nu);return R.jsxs(di.Fragment,{children:[R.jsx(Ss,{x:q,y:lt,radius:4,fill:"black",listening:!1}),R.jsx(Sl,{x:q+6,y:lt-14,text:`E${A.e6} N${A.n6}`,fontSize:12,fill:"black",listening:!1})]},L)}),nn.length>0&&!ni&&!ni&&R.jsx(nc,{points:nn.flatMap(A=>[A.x,A.y]),stroke:"black",strokeWidth:2,closed:!0}),ni&&R.jsx(g2,{listening:!1,sceneFunc:(A,L)=>{A.beginPath(),Ke.forEach((lt,pt)=>pt===0?A.moveTo(lt.x,lt.y):A.lineTo(lt.x,lt.y)),A.closePath(),[...nn].reverse().forEach((lt,pt)=>pt===0?A.moveTo(lt.x,lt.y):A.lineTo(lt.x,lt.y)),A.closePath(),A.fillStrokeShape(L)},fill:"rgba(255, 0, 0, 0.3)",stroke:"transparent"})]}),Pe.length>0&&R.jsxs(bs,{listening:!1,children:[R.jsx(nc,{points:Pe.flatMap(A=>[A.x,A.y]),stroke:"yellow",strokeWidth:2,closed:!0}),R.jsx(g2,{listening:!1,sceneFunc:(A,L)=>{A.beginPath(),Pe.forEach((q,lt)=>lt===0?A.moveTo(q.x,q.y):A.lineTo(q.x,q.y)),A.closePath(),A.fillStrokeShape(L)},fill:"rgba(255, 255, 0, 0.3)",stroke:"transparent"})]}),R.jsx(bs,{children:U.map(A=>A.type==="op"&&R.jsx(Ss,{x:A.x,y:A.y,radius:1e3/1e3*b,stroke:"red",strokeWidth:2,fill:"rgba(255,0,0,0.3)"},A.id))}),R.jsx(bs,{children:oe&&R.jsx(Ss,{x:oe.x,y:oe.y,radius:5,fill:"rgba(255,255,0,0.3)",stroke:"black",strokeWidth:2})}),ne&&zt&&zt.trim().length>0&&R.jsxs(bs,{listening:!1,children:[R.jsx(m2,{x:0,y:0,width:S*b,height:S*b,fill:"rgba(0,0,0,0.35)"}),R.jsx(Sl,{x:32,y:32,width:S*b-64,text:zt,fontSize:18,fontStyle:"bold",fill:"#ffffff",align:"left",lineHeight:1.4,listening:!1})]}),_t.length>0&&R.jsx(bs,{listening:!1,children:_t.map(A=>R.jsxs(di.Fragment,{children:[R.jsx(nc,{points:[A.fromX,A.fromY,A.x,A.y],stroke:"rgba(0,0,255,0.65)",dash:[6,6],strokeWidth:2}),R.jsx(Ss,{x:A.x,y:A.y,radius:5,fill:"rgba(0,0,255,0.95)",stroke:"white",strokeWidth:1.2})]},A.id))})]})})})})]})]})]}),Tt&&R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9999},onClick:()=>Ht(!1)}),Mu()]}),Zl&&R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9999},onClick:()=>Nl(!1)}),Lo()]}),kr&&R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:1e4},onClick:()=>{}}),R.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",padding:"28px",borderRadius:"12px",boxShadow:"0 10px 50px rgba(0,0,0,0.4)",zIndex:10001,maxWidth:"580px",width:"94%"},children:[R.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"20px"},children:[0,1,2,3,4,5,6,7,8].map(A=>R.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:A===s?"#0d6efd":A<s?"#198754":"#dee2e6",transition:"all 0.3s",cursor:"pointer"},onClick:()=>o(A)},A))}),s===0&&R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("h3",{style:{marginBottom:"16px",color:"#212529",fontWeight:"600"},children:"Digital Artillery Board"}),R.jsx("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.8",marginBottom:"16px",textAlign:"left"},children:"A completely offline, web-based, touch-enabled application designed to perform all essential Artillery Board tasks with instant setup and no range restrictions. It provides pinpoint accuracy through integrated bearing and distance tools, supports multiple pivots on the same board for composite gun areas and dispersed deployment, enables target grid corrections during observed fire from OP, and allows one-click plotting of safety with auto-generation of safety alerts and safe corrections. All actions and calculations are digitally logged, ensuring accuracy, traceability, and efficient conduct of artillery operations."})]}),s===1&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"1. Grid Setup & Configuration"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Click the ",R.jsx("strong",{children:"Settings gear"})," (top-left) to open the control panel.",R.jsx("br",{}),"(b) Set ",R.jsx("strong",{children:"Grid Size"})," and ",R.jsx("strong",{children:"Grid Range"})," as per equipment in use.",R.jsx("br",{}),"(c) Configure ",R.jsx("strong",{children:"Eastings & Northings"})," bounds (min/max values).",R.jsx("br",{}),"(d) Grid auto-generates based on configured parameters."]})})]}),s===2&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"2. Plotting Elements"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Set the ",R.jsx("strong",{children:"Pivot (Gun)/OP"})," by entering 6-figure grid reference.",R.jsx("br",{}),"(b) Select element type: ",R.jsx("strong",{children:"Pivot, Target, OP,"})," or ",R.jsx("strong",{children:"FDL"}),".",R.jsx("br",{}),"(c) Plot using either:",R.jsx("br",{})," Manual GR entry (3-5 figures) and click ",R.jsx("strong",{children:"Place"}),R.jsx("br",{})," Click directly on canvas (drag & drop)",R.jsx("br",{}),"(d) FDLs can be joined to generate FLOT automatically."]})})]}),s===3&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"3. Polar Method (Bearing & Range)"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Place a ",R.jsx("strong",{children:"Pivot"})," or ",R.jsx("strong",{children:"OP"})," on the board.",R.jsx("br",{}),"(b) Click directly on the Pivot/OP icon.",R.jsx("br",{}),"(c) Select ",R.jsx("strong",{children:'"Plot Target from Bearing & Range"'}),".",R.jsx("br",{}),"(d) Enter bearing (Deg/Min/Sec or Mils) and range (meters).",R.jsx("br",{}),"(e) Target plots automatically at the computed position."]})}),R.jsx("p",{style:{fontSize:"12px",color:"#6c757d",margin:0},children:"Supports both NATO (6400 mils) and Russian (6000 mils) systems."})]}),s===4&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"4. Target Grid Corrections"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["For following shoot corrections:",R.jsx("br",{}),R.jsx("br",{}),"(a) Click directly on the ",R.jsx("strong",{children:"Target"})," icon on the board.",R.jsx("br",{}),"(b) Enter correction values:",R.jsx("br",{})," ",R.jsx("strong",{children:"Add/Drop"})," (meters)",R.jsx("br",{})," ",R.jsx("strong",{children:"Right/Left"})," (meters)",R.jsx("br",{})," ",R.jsx("strong",{children:"Oscar"})," (direction of observation in degrees)",R.jsx("br",{}),"(c) Fall of Shot (FOS) plots automatically based on corrections."]})}),R.jsx("p",{style:{fontSize:"12px",color:"#6c757d",margin:0},children:"Only the latest FOS is displayed per engagement to reduce clutter."})]}),s===5&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"5. Measure Mode"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Toggle ",R.jsx("strong",{children:"Measure"})," switch in the top toolbar.",R.jsx("br",{}),"(b) Tap ",R.jsx("strong",{children:"first point"})," on the grid.",R.jsx("br",{}),"(c) Tap ",R.jsx("strong",{children:"second point"})," to obtain instant results.",R.jsx("br",{}),"(d) Results display:",R.jsx("br",{})," Distance in meters",R.jsx("br",{})," Bearing in Deg/Min/Sec",R.jsx("br",{})," NATO mils (6400) and Russian mils (6000)"]})})]}),s===6&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"6. Gun Layout & Fire Data"}),R.jsx("div",{style:{background:"#f8f9fa",padding:"14px",borderRadius:"8px",marginBottom:"10px"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Click on a ",R.jsx("strong",{children:"Pivot"})," and select ",R.jsx("strong",{children:'"Gun Layout"'}),".",R.jsx("br",{}),"(b) Enter number of guns in the battery.",R.jsx("br",{}),"(c) Enter ",R.jsx("strong",{children:"5-figure grid references"})," for each gun position.",R.jsx("br",{}),"(d) Select ",R.jsx("strong",{children:'"View Fire Data"'})," to compute:",R.jsx("br",{})," Range and bearing from each gun to selected target",R.jsx("br",{})," Data in DMS, NATO mils, and Russian mils"]})}),R.jsx("p",{style:{fontSize:"12px",color:"#6c757d",margin:0},children:"Gun layout persists across sessions automatically."})]}),s===7&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"7. Safety Module"}),R.jsx("div",{style:{background:"#fff3cd",padding:"14px",borderRadius:"8px",marginBottom:"10px",border:"1px solid #ffc107"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) Open ",R.jsx("strong",{children:"Safety"})," panel in the sidebar.",R.jsx("br",{}),"(b) Load firing range trace: ",R.jsx("strong",{children:"DFFR, MFFR,"})," or ",R.jsx("strong",{children:"PFFR"}),".",R.jsx("br",{}),"(c) Click ",R.jsx("strong",{children:'"Check Safety"'})," button (red, top bar).",R.jsx("br",{}),"(d) Select pivot and target to verify safety.",R.jsx("br",{}),"(e) System provides:",R.jsx("br",{})," Audio-visual alerts if round falls outside safe area",R.jsx("br",{})," Recommended safety corrections",R.jsx("br",{})," Warning if target within 350m of FDL"]})}),R.jsx("p",{style:{fontSize:"12px",color:"#6c757d",margin:0},children:"Caters for both peace time and war time safety requirements."})]}),s===8&&R.jsxs("div",{children:[R.jsx("h4",{style:{marginBottom:"14px",color:"#212529",fontWeight:"600"},children:"8. Logging & Export"}),R.jsx("div",{style:{background:"#e7f1ff",padding:"14px",borderRadius:"8px",marginBottom:"10px",border:"1px solid #b6d4fe"},children:R.jsxs("p",{style:{color:"#495057",fontSize:"14px",lineHeight:"1.7",margin:0},children:["(a) ",R.jsx("strong",{children:"Auto Logging:"})," All actions are automatically logged with timestamps.",R.jsx("br",{}),"(b) Click ",R.jsx("strong",{children:"Logs"})," button to review activity history.",R.jsx("br",{}),"(c) ",R.jsx("strong",{children:"Export/Import:"})," Save and load sessions (akin to layers in Surveykshak).",R.jsx("br",{}),"(d) Use the board for:",R.jsx("br",{})," Training and explanation",R.jsx("br",{})," Rehearsal exercises",R.jsx("br",{})," Live planning of Artillery fire tasks"]})}),R.jsxs("p",{style:{fontSize:"12px",color:"#6c757d",margin:0},children:["Download offline apps from: ",R.jsx("strong",{children:"https://bidfoil.in/dab/latest"})]})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"24px",alignItems:"center"},children:[R.jsx("button",{className:"btn btn-link text-muted",style:{textDecoration:"none",fontSize:"14px"},onClick:()=>{qa(!1),localStorage.setItem(f,"true")},children:"Skip Tour"}),R.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s>0&&R.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>o(A=>A-1),children:"Back"}),s<8?R.jsx("button",{className:"btn btn-primary",style:{minWidth:"100px"},onClick:()=>o(A=>A+1),children:"Next"}):R.jsx("button",{className:"btn btn-success",style:{minWidth:"120px"},onClick:()=>{qa(!1),localStorage.setItem(f,"true")},children:"Get Started"})]})]})]})]}),R.jsxs("button",{type:"button",className:"btn btn-light rounded-circle shadow border text-dark",onClick:()=>g(A=>!A),title:a?"Open settings":"Close settings","aria-label":"Toggle settings sidebar","aria-pressed":!a,style:{position:"fixed",top:12,left:12,width:44,height:44,padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center",zIndex:1100,cursor:"pointer"},children:[R.jsx("i",{className:`bi ${a?"bi-gear":"bi-gear-fill"}`,"aria-hidden":"true",style:{fontSize:"1.15rem",transition:"transform .25s ease",transform:a?"rotate(0deg)":"rotate(90deg)"}}),R.jsx("span",{className:"visually-hidden",children:"Toggle settings sidebar"})]})]})};function Ub(){const[u,a]=Gt.useState(!0),g=Gt.useRef(null),v=b=>{g.current||(g.current=setInterval(()=>{window.scrollBy({top:b*120,behavior:"auto"})},30))},x=()=>{g.current&&(clearInterval(g.current),g.current=null)};return R.jsxs(R.Fragment,{children:[u&&R.jsx(Dy,{onDone:()=>a(!1),duration:4e3}),!u&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{style:{width:"100%",textAlign:"center"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"10px",justifyContent:"center"},children:[R.jsx("h1",{style:{margin:0},children:"Digital Artillery Board"}),R.jsx("span",{style:{fontStyle:"italic",fontSize:"14px"},children:"(Last Updated: 29 Jan 2026)"})]}),R.jsx(Yb,{})]}),R.jsxs("div",{style:{position:"fixed",right:"12px",top:"50%",transform:"translateY(-50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px"},children:[R.jsx("button",{style:R2,onMouseDown:()=>v(-1),onMouseUp:x,onMouseLeave:x,onTouchStart:()=>v(-1),onTouchEnd:x,children:"UP"}),R.jsx("button",{style:R2,onMouseDown:()=>v(1),onMouseUp:x,onMouseLeave:x,onTouchStart:()=>v(1),onTouchEnd:x,children:"DOWN"})]})]})]})}const R2={width:"64px",height:"64px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"15px",fontWeight:"700",letterSpacing:"1px",border:"none",color:"#ffffff",background:"linear-gradient(180deg, #00d2ff, #0077ff)",boxShadow:"0 6px 18px rgba(0,0,0,0.28)",cursor:"pointer",userSelect:"none",touchAction:"manipulation"};My.createRoot(document.getElementById("root")).render(R.jsx(Gt.StrictMode,{children:R.jsx(Ub,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(u=>console.log("Service Worker Registered!",u)).catch(u=>console.log("Service Worker registration failed: ",u))});
